repo,title,body,text,assignee,created_at,labels,assignee_str
facebook_react,[DevTools Bug] Cannot read properties of undefined (reading 'length'),"### Website or app

internal application

### Repro steps

This issue occurred after I enabled the option to highlight component updates in the interface and tried to record them using the React DevTools profiler. I had also enabled the ""Record why each component rendered while profiling"" profiling option.

<img width=""921"" height=""800"" alt=""Image"" src=""https://github.com/user-attachments/assets/34e1e0ac-3186-4dd5-86bd-63a03742bf10"" />

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.1.5-5d87cd2244

### Error message (automated)

Cannot read properties of undefined (reading 'length')

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1224203
    at he.getFlamegraphChartData (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1224614)
    at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1473032)
    at renderWithHooks (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:66690)
    at updateFunctionComponent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:96942)
    at beginWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:110959)
    at performUnitOfWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182534)
    at workLoopSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182390)
    at renderRootSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182174)
    at performWorkOnRoot (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:177634)
```

### Error component stack (automated)

```text
at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1472789)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1363197)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1604868
    at va (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1380724)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383435)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383632
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383435)
    at InspectedElementContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1394502)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1461901)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1453632)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1275115)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1303162)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1440740)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1612679)
```

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot read properties of undefined (reading 'length') in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```","[DevTools Bug] Cannot read properties of undefined (reading 'length') ### Website or app

internal application

### Repro steps

This issue occurred after I enabled the option to highlight component updates in the interface and tried to record them using the React DevTools profiler. I had also enabled the ""Record why each component rendered while profiling"" profiling option.

<img width=""921"" height=""800"" alt=""Image"" src=""https://github.com/user-attachments/assets/34e1e0ac-3186-4dd5-86bd-63a03742bf10"" />

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.1.5-5d87cd2244

### Error message (automated)

Cannot read properties of undefined (reading 'length')

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1224203
    at he.getFlamegraphChartData (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1224614)
    at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1473032)
    at renderWithHooks (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:66690)
    at updateFunctionComponent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:96942)
    at beginWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:110959)
    at performUnitOfWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182534)
    at workLoopSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182390)
    at renderRootSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:182174)
    at performWorkOnRoot (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:177634)
```

### Error component stack (automated)

```text
at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1472789)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1363197)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1604868
    at va (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1380724)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383435)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383632
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1383435)
    at InspectedElementContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1394502)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1461901)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1453632)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1275115)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1303162)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1440740)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1612679)
```

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot read properties of undefined (reading 'length') in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```",hoxyq,2025-09-25T17:56:06+00:00,"Type: Bug, Status: Unconfirmed, Component: Developer Tools",hoxyq
flutter_flutter,Release 3.38 beta,"## 3.38 beta branch info ##

| Repo | Branch | Commit | g3 CL |
| --- | --- | --- | --- |
| flutter/flutter | [flutter-3.38-candidate.0](https://github.com/flutter/flutter/tree/flutter-3.38-candidate.0) | https://github.com/flutter/flutter/commit/df87ee3db00df61d882f99e655a3dc5f8387f806 | cl/816757351|
| dart-lang/sdk | [3.10.0-290.1.beta](https://github.com/dart-lang/sdk/tree/3.10.0-290.1.beta) | https://github.com/dart-lang/sdk/commit/94670bffc27d8233f94a77199e2803a5c4c8ff78 | cl/816152641 used to validate but not submitted |

## Tasks ##
- [x] Determine a SHA cutoff point.
- [x] Verify the SHA cutoff includes the Dart 3.10.0-290.1.beta beta, and has rolled successfully into google3.
- [x] Create a release branch.
- [x] Create a recipes branch.
- [x] Stamp the branch (`flutter-3.38-candidate.0`) into `bin/internal/release-candidate-branch.version` and set the version in `bin/internal/engine.version` to the SHA cutoff point.
- [ ] Update `engine.version` to the previous commit where `release-candidate-branch.version` and `engine.version` were created.
- [ ] Merge any cherry picks pre-release should they come up and update `engine.version` if needed.
- [ ] Build and [run post-submits](https://flutter-dashboard.appspot.com/#/build?repo=flutter&branch=flutter-3.38-candidate.0)
- [ ] Publish `3.38.0-0.0.pre`


cc @iinozemtsev @justinmc ","Release 3.38 beta ## 3.38 beta branch info ##

| Repo | Branch | Commit | g3 CL |
| --- | --- | --- | --- |
| flutter/flutter | [flutter-3.38-candidate.0](https://github.com/flutter/flutter/tree/flutter-3.38-candidate.0) | https://github.com/flutter/flutter/commit/df87ee3db00df61d882f99e655a3dc5f8387f806 | cl/816757351|
| dart-lang/sdk | [3.10.0-290.1.beta](https://github.com/dart-lang/sdk/tree/3.10.0-290.1.beta) | https://github.com/dart-lang/sdk/commit/94670bffc27d8233f94a77199e2803a5c4c8ff78 | cl/816152641 used to validate but not submitted |

## Tasks ##
- [x] Determine a SHA cutoff point.
- [x] Verify the SHA cutoff includes the Dart 3.10.0-290.1.beta beta, and has rolled successfully into google3.
- [x] Create a release branch.
- [x] Create a recipes branch.
- [x] Stamp the branch (`flutter-3.38-candidate.0`) into `bin/internal/release-candidate-branch.version` and set the version in `bin/internal/engine.version` to the SHA cutoff point.
- [ ] Update `engine.version` to the previous commit where `release-candidate-branch.version` and `engine.version` were created.
- [ ] Merge any cherry picks pre-release should they come up and update `engine.version` if needed.
- [ ] Build and [run post-submits](https://flutter-dashboard.appspot.com/#/build?repo=flutter&branch=flutter-3.38-candidate.0)
- [ ] Publish `3.38.0-0.0.pre`


cc @iinozemtsev @justinmc ",camsim99,2025-10-08T21:52:07+00:00,"team-infra, infra: release",camsim99
flutter_flutter,[packages] Add a flag to bypass the consider-all-packages-changed files check,"The packages repo tooling is intentionally conservative about over-running rather than accidentally under-running tests, since silently not running test in CI is a *very* bad failure mode (and one that has in the past had caused significant accidental test coverage loss in the repo for significant amounts of time). One way we implement that is by having a set of files, such as the repo tooling itself, or CI config, that, if changed, bypass all the filter-to-changed-packages-only logic.

In practice, this is implemented by having the core logic that determines what packages have changed consider all packages to be changed if any of these global files is changed. This is great for CI, but extremely undesirable when using the local utility commands that we have increasingly added to the tool for batch changes. To take an example that commonly bites us:
1. Start a PR with the intent of changing one of the tool-enforced best practices in the repo. For example, when we added the requirement of having a `namespace` in Gradle files for compatibility with newer Android toolchains
2. Make the change to a whole lot of files.
3. Add the repo tooling change to enforce it
4. Run it as a sanity check, find a few missed files, and fix those.
5. Try to use `update-release-info` with `--changed-packages` to update the changelog of all the packages with Gradle changes

What happens is that step 5 changes *every* package's changelog, because step 3 suppresses the changed-package detection logic. The ""right"" way to do this change (as in, the the one that works as desired) is to make the tooling change step 2, commit it locally, *then* do the other changes, then use the hash from the tool change commit as the `base-branch`. If you did it in the wrong order first, you have to a) figure that out, and then b) fix it using something like `git rebase -i` to re-order commits. And if you find a mistake in the tool logic, fix it, and then find more packages to change as a result, you have to re-reorder the commits.

We should have a simple flag that disables the consider-everything-changed logic, for local use, and clearly document it in the repo tooling README. Even better, if possible we should make that default for the commands that are only used for local development, not running CI tests (in particular, `update-*`) so people don't even need to know via docs to pass it.","[packages] Add a flag to bypass the consider-all-packages-changed files check The packages repo tooling is intentionally conservative about over-running rather than accidentally under-running tests, since silently not running test in CI is a *very* bad failure mode (and one that has in the past had caused significant accidental test coverage loss in the repo for significant amounts of time). One way we implement that is by having a set of files, such as the repo tooling itself, or CI config, that, if changed, bypass all the filter-to-changed-packages-only logic.

In practice, this is implemented by having the core logic that determines what packages have changed consider all packages to be changed if any of these global files is changed. This is great for CI, but extremely undesirable when using the local utility commands that we have increasingly added to the tool for batch changes. To take an example that commonly bites us:
1. Start a PR with the intent of changing one of the tool-enforced best practices in the repo. For example, when we added the requirement of having a `namespace` in Gradle files for compatibility with newer Android toolchains
2. Make the change to a whole lot of files.
3. Add the repo tooling change to enforce it
4. Run it as a sanity check, find a few missed files, and fix those.
5. Try to use `update-release-info` with `--changed-packages` to update the changelog of all the packages with Gradle changes

What happens is that step 5 changes *every* package's changelog, because step 3 suppresses the changed-package detection logic. The ""right"" way to do this change (as in, the the one that works as desired) is to make the tooling change step 2, commit it locally, *then* do the other changes, then use the hash from the tool change commit as the `base-branch`. If you did it in the wrong order first, you have to a) figure that out, and then b) fix it using something like `git rebase -i` to re-order commits. And if you find a mistake in the tool logic, fix it, and then find more packages to change as a result, you have to re-reorder the commits.

We should have a simple flag that disables the consider-everything-changed logic, for local use, and clearly document it in the repo tooling README. Even better, if possible we should make that default for the commands that are only used for local development, not running CI tests (in particular, `update-*`) so people don't even need to know via docs to pass it.",stuartmorgan-g,2025-10-08T20:24:30+00:00,"c: contributor-productivity, p: tooling, package",stuartmorgan-g
flutter_flutter,[packages] Eliminate tooling dependency on `FETCH_HEAD`,"The packages tooling used to have a lot of reliance on things like environment variables that were set up at a high level in CI, and then read deep in tooling internals, which made thing hard to reason about when tracing CI behavior, and much harder to replicate locally. Most of that has been eliminated over time, but one remaining one that is a common source of errors for people running the tool locally is the use of `FETCH_HEAD`.

The behavior is that when the tooling determines git diffs, which is a common use case for some commands, it defaults to `FETCH_HEAD` if no branch is provided. This is a legacy of when that was the *only* way the branch was determined, and it was left for CI compatibility. Even in CI this is weird because you need [a line like this](https://github.com/flutter/packages/blob/2ed8f689017c00461f5562fe5ba0510478179361/.ci/scripts/prepare_tool.sh#L7-L8) at a very high level, and then the behavior of [a low-level utility class](https://github.com/flutter/packages/blob/2ed8f689017c00461f5562fe5ba0510478179361/script/tool/lib/src/common/git_version_finder.dart#L18) changes based on it. If someone accidentally removed or changed the `git fetch` command in CI, test behavior in CI would change in non-obvious ways, which is bad.

Locally, it's much worse; falling back to `FETCH_HEAD` is actively confusing because the chances that `FETCH_HEAD` is the thing you intended to diff against in normal, local git usage is low, and it's also completely non-obvious what is happening.

We should make a tool-level breaking change that will cause commands than need to diff to fail with a clear error message if no explicit target has been given, so that CI is explicitly indicating what it's doing at the command level, and locally people get useful feedback instead of mysterious behavior.","[packages] Eliminate tooling dependency on `FETCH_HEAD` The packages tooling used to have a lot of reliance on things like environment variables that were set up at a high level in CI, and then read deep in tooling internals, which made thing hard to reason about when tracing CI behavior, and much harder to replicate locally. Most of that has been eliminated over time, but one remaining one that is a common source of errors for people running the tool locally is the use of `FETCH_HEAD`.

The behavior is that when the tooling determines git diffs, which is a common use case for some commands, it defaults to `FETCH_HEAD` if no branch is provided. This is a legacy of when that was the *only* way the branch was determined, and it was left for CI compatibility. Even in CI this is weird because you need [a line like this](https://github.com/flutter/packages/blob/2ed8f689017c00461f5562fe5ba0510478179361/.ci/scripts/prepare_tool.sh#L7-L8) at a very high level, and then the behavior of [a low-level utility class](https://github.com/flutter/packages/blob/2ed8f689017c00461f5562fe5ba0510478179361/script/tool/lib/src/common/git_version_finder.dart#L18) changes based on it. If someone accidentally removed or changed the `git fetch` command in CI, test behavior in CI would change in non-obvious ways, which is bad.

Locally, it's much worse; falling back to `FETCH_HEAD` is actively confusing because the chances that `FETCH_HEAD` is the thing you intended to diff against in normal, local git usage is low, and it's also completely non-obvious what is happening.

We should make a tool-level breaking change that will cause commands than need to diff to fail with a clear error message if no explicit target has been given, so that CI is explicitly indicating what it's doing at the command level, and locally people get useful feedback instead of mysterious behavior.",stuartmorgan-g,2025-10-08T20:08:11+00:00,"c: contributor-productivity, p: tooling, package",stuartmorgan-g
flutter_flutter,Linux_pixel_7pro platform_interaction_test is 2.00% flaky,"<!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro platform_interaction_test""
}
-->

The post-submit test builder `Linux_pixel_7pro platform_interaction_test` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9693
Commit: https://github.com/flutter/flutter/commit/d15d198799e5a3f63c516eee69ff705451f50f58

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9693
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9666

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20platform_interaction_test

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
","Linux_pixel_7pro platform_interaction_test is 2.00% flaky <!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro platform_interaction_test""
}
-->

The post-submit test builder `Linux_pixel_7pro platform_interaction_test` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9693
Commit: https://github.com/flutter/flutter/commit/d15d198799e5a3f63c516eee69ff705451f50f58

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9693
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20platform_interaction_test/9666

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20platform_interaction_test

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
",stuartmorgan-g,2025-10-08T10:31:15+00:00,"P0, c: flake",stuartmorgan-g
flutter_flutter,Mac_mokey hot_mode_dev_cycle__benchmark is 2.00% flaky,"<!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Mac_mokey hot_mode_dev_cycle__benchmark""
}
-->

The post-submit test builder `Mac_mokey hot_mode_dev_cycle__benchmark` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6144
Commit: https://github.com/flutter/flutter/commit/908012d58baa8f1b36b9bf324853bf77a963df8e

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6144
https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6084

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Mac_mokey%20hot_mode_dev_cycle__benchmark

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
","Mac_mokey hot_mode_dev_cycle__benchmark is 2.00% flaky <!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Mac_mokey hot_mode_dev_cycle__benchmark""
}
-->

The post-submit test builder `Mac_mokey hot_mode_dev_cycle__benchmark` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6144
Commit: https://github.com/flutter/flutter/commit/908012d58baa8f1b36b9bf324853bf77a963df8e

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6144
https://ci.chromium.org/ui/p/flutter/builders/prod/Mac_mokey%20hot_mode_dev_cycle__benchmark/6084

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Mac_mokey%20hot_mode_dev_cycle__benchmark

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
",bkonyi,2025-10-08T10:31:06+00:00,"P2, c: flake, team-android",bkonyi
flutter_flutter,Linux_pixel_7pro new_gallery_impeller__transition_perf is 2.00% flaky,"<!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro new_gallery_impeller__transition_perf""
}
-->

The post-submit test builder `Linux_pixel_7pro new_gallery_impeller__transition_perf` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6615
Commit: https://github.com/flutter/flutter/commit/9537c54ae7660d515ad6531edc29ccbffe2228cb

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6615
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6591

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20new_gallery_impeller__transition_perf

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
","Linux_pixel_7pro new_gallery_impeller__transition_perf is 2.00% flaky <!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro new_gallery_impeller__transition_perf""
}
-->

The post-submit test builder `Linux_pixel_7pro new_gallery_impeller__transition_perf` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6615
Commit: https://github.com/flutter/flutter/commit/9537c54ae7660d515ad6531edc29ccbffe2228cb

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6615
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20new_gallery_impeller__transition_perf/6591

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20new_gallery_impeller__transition_perf

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
",jtmcdole,2025-10-08T10:01:12+00:00,"P0, c: flake, team-engine",jtmcdole
flutter_flutter,Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary is 2.00% flaky,"<!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary""
}
-->

The post-submit test builder `Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6490,%206491
Commit: https://github.com/flutter/flutter/commit/31c7177fab3eab45a5d069371f909e4d174997ed

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6491
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6490
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6455

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
","Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary is 2.00% flaky <!-- meta-tags: To be used by the automation script only, DO NOT MODIFY.
{
  ""name"": ""Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary""
}
-->

The post-submit test builder `Linux_pixel_7pro animated_advanced_blend_perf__timeline_summary` had a flaky ratio 2.00% for the past (up to) 100 commits, which is above our 2.00% threshold.

One recent flaky example for a same commit: https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6490,%206491
Commit: https://github.com/flutter/flutter/commit/31c7177fab3eab45a5d069371f909e4d174997ed

Flaky builds:
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6491
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6490
https://ci.chromium.org/ui/p/flutter/builders/prod/Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary/6455

Recent test runs:
https://flutter-dashboard.appspot.com/#/build?taskFilter=Linux_pixel_7pro%20animated_advanced_blend_perf__timeline_summary

Please follow https://github.com/flutter/flutter/blob/master/docs/infra/Reducing-Test-Flakiness.md#fixing-flaky-tests to fix the flakiness and enable the test back after validating the fix (internal dashboard to validate: go/flutter_test_flakiness).
",gaaclarke,2025-10-08T09:31:09+00:00,"P0, c: flake, team-engine",gaaclarke
flutter_flutter,DropdownButtonFormField triggers assertion when nested in InputDecorator,"### Steps to reproduce

Create a DropdownButtonFormField within an InputDecorator: everything works fine :)
Create a DropdownButtonFormField with empty items within an InputDecorator: everything crashes :(

### Expected results

I Expect to use DropdownButtonFormField inside another InputDecorator even with empty items.

### Actual results

Crashes, see logs below

### Code sample

<details open><summary>Code sample</summary>

```dart
InputDecorator(
      decoration: InputDecoration(labelText: 'Dropdowns:'),
      child: DropdownButtonFormField<String?>(
        decoration: InputDecoration(labelText: 'Dropdown 1'),
        items: [],
        onChanged: (_) {},
      ),
    );
```

</details>


### Screenshots or Video

<details open>
<summary>Screenshots / Video demonstration</summary>

Not much to see

</details>


### Logs

<details open><summary>Logs</summary>

```console
======== Exception caught by rendering library =====================================================
The following assertion was thrown during performLayout():
RenderBox.size accessed beyond the scope of resize, layout, or permitted parent access. RenderBox can always access its own size, otherwise, the only object that is allowed to read RenderBox.size is its parent, if they have said they will. It you hit this assert trying to access a child's size, pass ""parentUsesSize: true"" to that child's layout() in RenderConstrainedBox.performLayout.
'package:flutter/src/rendering/box.dart':
Failed assertion: line 2267 pos 11: 'sizeAccessAllowed'


Either the assertion indicates an error in the framework itself, or we should provide substantially more information in this error message to help you determine and fix the underlying cause.
In either case, please report this assertion by filing a bug on GitHub:
  https://github.com/flutter/flutter/issues/new?template=02_bug.yml

The relevant error-causing widget was: 
  InputDecorator InputDecorator:file:///.../lib/my_form.dart:78:12
When the exception was thrown, this was the stack: 
#2      RenderBox.size.<anonymous closure> (package:flutter/src/rendering/box.dart:2267:11)
#3      RenderBox.size (package:flutter/src/rendering/box.dart:2301:6)
#4      _RenderDecoration.computeDistanceToActualBaseline (package:flutter/src/material/input_decorator.dart:1323:63)
#5      RenderBox.getDistanceToActualBaseline.<anonymous closure> (package:flutter/src/rendering/box.dart:2517:26)
#6      _Baseline.memoize.ifAbsent (package:flutter/src/rendering/box.dart:1088:42)
#7      _LinkedHashMapMixin.putIfAbsent (dart:_compact_hash:674:23)
#8      _Baseline.memoize (package:flutter/src/rendering/box.dart:1089:18)
#9      RenderBox._computeWithTimeline (package:flutter/src/rendering/box.dart:1620:32)
[205 more...]
(elided 5 frames from class _AssertionError, class _Timer, and dart:async-patch)
The following RenderObject was being processed when the exception was fired: _RenderDecoration#d6256 relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...  needs compositing
...  parentData: offset=Offset(0.0, 12.0) (can use size)
...  constraints: BoxConstraints(w=392.0, 0.0<=h<=Infinity)
...  size: MISSING
RenderObject: _RenderDecoration#d6256 relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
  needs compositing
  parentData: offset=Offset(0.0, 12.0) (can use size)
  constraints: BoxConstraints(w=392.0, 0.0<=h<=Infinity)
  size: MISSING
...  input: RenderSemanticsAnnotations#4dad1 relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    needs compositing
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...    size: Size(360.0, 48.0)
...    child: RenderSemanticsAnnotations#7e79f relayoutBoundary=up14 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...      needs compositing
...      parentData: <none> (can use size)
...      constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...      size: Size(360.0, 48.0)
...      child: RenderSemanticsAnnotations#c3828 relayoutBoundary=up15 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...        needs compositing
...        parentData: <none> (can use size)
...        constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...        size: Size(360.0, 48.0)
...        child: RenderSemanticsAnnotations#d3e6b relayoutBoundary=up16 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...          needs compositing
...          parentData: <none> (can use size)
...          constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...          size: Size(360.0, 48.0)
...  label: RenderTransform#8901f relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    needs compositing
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...    size: Size(90.0, 16.0)
...    transform matrix: [0] 1.0,0.0,0.0,-0.0
[1] 0.0,1.0,0.0,0.0
[2] 0.0,0.0,1.0,0.0
[3] 0.0,0.0,0.0,1.0
...    origin: null
...    alignment: Alignment.center
...    textDirection: ltr
...    transformHitTests: true
...    child: RenderAnimatedOpacity#18fd9 relayoutBoundary=up14 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...      needs compositing
...      parentData: <none> (can use size)
...      constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...      size: Size(90.0, 16.0)
...      opacity: AnimationController#f8ecb(⏮ 0.000; paused; for AnimatedOpacity)➩Cubic(0.40, 0.00, 0.20, 1.00)➩Tween<double>(1.0 → 1.0)➩1.0
...      child: RenderParagraph#0a42f relayoutBoundary=up15 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...        parentData: <none> (can use size)
...        constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...        size: Size(90.0, 16.0)
...        textAlign: start
...        textDirection: ltr
...        softWrap: wrapping at box width
...        overflow: ellipsis
...        locale: en_US
...        maxLines: unlimited
...        text: TextSpan
...          debugLabel: (((((englishLike bodyLarge 2021).merge(((blackMountainView bodyLarge).apply).apply)).copyWith).merge(unknown)).merge(unknown)).copyWith
...          inherit: false
...          color: Color(alpha: 1.0000, red: 0.0000, green: 0.0000, blue: 0.0000, colorSpace: ColorSpace.sRGB)
...          family: Roboto
...          size: 16.0
...          weight: 400
...          letterSpacing: 0.5
...          baseline: alphabetic
...          height: 1.0x
...          leadingDistribution: even
...          decoration: Color(alpha: 1.0000, red: 0.0000, green: 0.0000, blue: 0.0000, colorSpace: ColorSpace.sRGB) TextDecoration.none
...          ""Dropdowns:""
...  helperError: RenderConstrainedBox#ed7de relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(0.0<=w<=368.0, 0.0<=h<=Infinity)
...    size: Size(0.0, 0.0)
...    additionalConstraints: BoxConstraints(w=0.0, h=0.0)
...  container: RenderCustomPaint#fb311 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    parentData: offset=Offset(0.0, 0.0)
...    constraints: MISSING
...    size: MISSING
...    painter: null
...    foregroundPainter: _InputBorderPainter#c5235
```

</details>


### Flutter Doctor output

<details open><summary>Doctor output</summary>

```console
_ % flutter doctor -v
[✓] Flutter (Channel stable, 3.35.3, on macOS 15.6.1 24G90 darwin-x64, locale it-IT) [3,1s]
    • Flutter version 3.35.3 on channel stable at /Users/home/Development/flutter
    • Upstream repository https://github.com/flutter/flutter.git
    • Framework revision a402d9a437 (5 weeks ago), 2025-09-03 14:54:31 -0700
    • Engine revision ddf47dd3ff
    • Dart version 3.9.2
    • DevTools version 2.48.0
    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations, enable-lldb-debugging

[✓] Android toolchain - develop for Android devices (Android SDK version 36.1.0) [6,6s]
    • Android SDK at /Users/home/Library/Android/sdk
    • Emulator version 36.1.9.0 (build_id 13823996) (CL:N/A)
    • Platform android-36, build-tools 36.1.0
    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java
      This is the JDK bundled with the latest Android Studio installation on this machine.
      To manually set the JDK path, use: `flutter config --jdk-dir=""path/to/jdk""`.
    • Java version OpenJDK Runtime Environment (build 21.0.7+-13880790-b1038.58)
    • All Android licenses accepted.

[!] Xcode - develop for iOS and macOS (Xcode 26.0.1) [7,0s]
    • Xcode at /Applications/Xcode.app/Contents/Developer
    • Build 17A400
    ! CocoaPods 1.11.3 out of date (1.16.2 is recommended).
        CocoaPods is a package manager for iOS or macOS platform code.
        Without CocoaPods, plugins will not work on iOS or macOS.
        For more info, see https://flutter.dev/to/platform-plugins
      To update CocoaPods, see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods

[✓] Chrome - develop for the web [55ms]
    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome

[✓] Android Studio (version 2025.1) [54ms]
    • Android Studio at /Applications/Android Studio.app/Contents
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart
    • android-studio-dir = /Applications/Android Studio.app
    • Java version OpenJDK Runtime Environment (build 21.0.7+-13880790-b1038.58)

[✓] IntelliJ IDEA Ultimate Edition (version 2025.2.1) [52ms]
    • IntelliJ at /Users/home/Applications/IntelliJ IDEA Ultimate.app
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart

[✓] Connected device (4 available) [13,3s]
    • My Phone (wireless) (mobile)    • adb-45221FDAS0078Q-TodKD8._adb-tls-connect._tcp • android-arm64  • Android 16 (API 36)
    • macOS (desktop)                       • macos                                           • darwin-x64     • macOS 15.6.1 24G90 darwin-x64
    • Chrome (web)                          • chrome                                          • web-javascript • Google Chrome 141.0.7390.65

[✓] Network resources [285ms]
    • All expected network resources are available.

! Doctor found issues in 1 category.
```

</details>
","DropdownButtonFormField triggers assertion when nested in InputDecorator ### Steps to reproduce

Create a DropdownButtonFormField within an InputDecorator: everything works fine :)
Create a DropdownButtonFormField with empty items within an InputDecorator: everything crashes :(

### Expected results

I Expect to use DropdownButtonFormField inside another InputDecorator even with empty items.

### Actual results

Crashes, see logs below

### Code sample

<details open><summary>Code sample</summary>

```dart
InputDecorator(
      decoration: InputDecoration(labelText: 'Dropdowns:'),
      child: DropdownButtonFormField<String?>(
        decoration: InputDecoration(labelText: 'Dropdown 1'),
        items: [],
        onChanged: (_) {},
      ),
    );
```

</details>


### Screenshots or Video

<details open>
<summary>Screenshots / Video demonstration</summary>

Not much to see

</details>


### Logs

<details open><summary>Logs</summary>

```console
======== Exception caught by rendering library =====================================================
The following assertion was thrown during performLayout():
RenderBox.size accessed beyond the scope of resize, layout, or permitted parent access. RenderBox can always access its own size, otherwise, the only object that is allowed to read RenderBox.size is its parent, if they have said they will. It you hit this assert trying to access a child's size, pass ""parentUsesSize: true"" to that child's layout() in RenderConstrainedBox.performLayout.
'package:flutter/src/rendering/box.dart':
Failed assertion: line 2267 pos 11: 'sizeAccessAllowed'


Either the assertion indicates an error in the framework itself, or we should provide substantially more information in this error message to help you determine and fix the underlying cause.
In either case, please report this assertion by filing a bug on GitHub:
  https://github.com/flutter/flutter/issues/new?template=02_bug.yml

The relevant error-causing widget was: 
  InputDecorator InputDecorator:file:///.../lib/my_form.dart:78:12
When the exception was thrown, this was the stack: 
#2      RenderBox.size.<anonymous closure> (package:flutter/src/rendering/box.dart:2267:11)
#3      RenderBox.size (package:flutter/src/rendering/box.dart:2301:6)
#4      _RenderDecoration.computeDistanceToActualBaseline (package:flutter/src/material/input_decorator.dart:1323:63)
#5      RenderBox.getDistanceToActualBaseline.<anonymous closure> (package:flutter/src/rendering/box.dart:2517:26)
#6      _Baseline.memoize.ifAbsent (package:flutter/src/rendering/box.dart:1088:42)
#7      _LinkedHashMapMixin.putIfAbsent (dart:_compact_hash:674:23)
#8      _Baseline.memoize (package:flutter/src/rendering/box.dart:1089:18)
#9      RenderBox._computeWithTimeline (package:flutter/src/rendering/box.dart:1620:32)
[205 more...]
(elided 5 frames from class _AssertionError, class _Timer, and dart:async-patch)
The following RenderObject was being processed when the exception was fired: _RenderDecoration#d6256 relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...  needs compositing
...  parentData: offset=Offset(0.0, 12.0) (can use size)
...  constraints: BoxConstraints(w=392.0, 0.0<=h<=Infinity)
...  size: MISSING
RenderObject: _RenderDecoration#d6256 relayoutBoundary=up12 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
  needs compositing
  parentData: offset=Offset(0.0, 12.0) (can use size)
  constraints: BoxConstraints(w=392.0, 0.0<=h<=Infinity)
  size: MISSING
...  input: RenderSemanticsAnnotations#4dad1 relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    needs compositing
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...    size: Size(360.0, 48.0)
...    child: RenderSemanticsAnnotations#7e79f relayoutBoundary=up14 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...      needs compositing
...      parentData: <none> (can use size)
...      constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...      size: Size(360.0, 48.0)
...      child: RenderSemanticsAnnotations#c3828 relayoutBoundary=up15 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...        needs compositing
...        parentData: <none> (can use size)
...        constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...        size: Size(360.0, 48.0)
...        child: RenderSemanticsAnnotations#d3e6b relayoutBoundary=up16 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...          needs compositing
...          parentData: <none> (can use size)
...          constraints: BoxConstraints(w=360.0, 0.0<=h<=Infinity)
...          size: Size(360.0, 48.0)
...  label: RenderTransform#8901f relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    needs compositing
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...    size: Size(90.0, 16.0)
...    transform matrix: [0] 1.0,0.0,0.0,-0.0
[1] 0.0,1.0,0.0,0.0
[2] 0.0,0.0,1.0,0.0
[3] 0.0,0.0,0.0,1.0
...    origin: null
...    alignment: Alignment.center
...    textDirection: ltr
...    transformHitTests: true
...    child: RenderAnimatedOpacity#18fd9 relayoutBoundary=up14 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...      needs compositing
...      parentData: <none> (can use size)
...      constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...      size: Size(90.0, 16.0)
...      opacity: AnimationController#f8ecb(⏮ 0.000; paused; for AnimatedOpacity)➩Cubic(0.40, 0.00, 0.20, 1.00)➩Tween<double>(1.0 → 1.0)➩1.0
...      child: RenderParagraph#0a42f relayoutBoundary=up15 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...        parentData: <none> (can use size)
...        constraints: BoxConstraints(0.0<=w<=480.0, 0.0<=h<=Infinity)
...        size: Size(90.0, 16.0)
...        textAlign: start
...        textDirection: ltr
...        softWrap: wrapping at box width
...        overflow: ellipsis
...        locale: en_US
...        maxLines: unlimited
...        text: TextSpan
...          debugLabel: (((((englishLike bodyLarge 2021).merge(((blackMountainView bodyLarge).apply).apply)).copyWith).merge(unknown)).merge(unknown)).copyWith
...          inherit: false
...          color: Color(alpha: 1.0000, red: 0.0000, green: 0.0000, blue: 0.0000, colorSpace: ColorSpace.sRGB)
...          family: Roboto
...          size: 16.0
...          weight: 400
...          letterSpacing: 0.5
...          baseline: alphabetic
...          height: 1.0x
...          leadingDistribution: even
...          decoration: Color(alpha: 1.0000, red: 0.0000, green: 0.0000, blue: 0.0000, colorSpace: ColorSpace.sRGB) TextDecoration.none
...          ""Dropdowns:""
...  helperError: RenderConstrainedBox#ed7de relayoutBoundary=up13 NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    parentData: offset=Offset(0.0, 0.0) (can use size)
...    constraints: BoxConstraints(0.0<=w<=368.0, 0.0<=h<=Infinity)
...    size: Size(0.0, 0.0)
...    additionalConstraints: BoxConstraints(w=0.0, h=0.0)
...  container: RenderCustomPaint#fb311 NEEDS-LAYOUT NEEDS-PAINT NEEDS-COMPOSITING-BITS-UPDATE
...    parentData: offset=Offset(0.0, 0.0)
...    constraints: MISSING
...    size: MISSING
...    painter: null
...    foregroundPainter: _InputBorderPainter#c5235
```

</details>


### Flutter Doctor output

<details open><summary>Doctor output</summary>

```console
_ % flutter doctor -v
[✓] Flutter (Channel stable, 3.35.3, on macOS 15.6.1 24G90 darwin-x64, locale it-IT) [3,1s]
    • Flutter version 3.35.3 on channel stable at /Users/home/Development/flutter
    • Upstream repository https://github.com/flutter/flutter.git
    • Framework revision a402d9a437 (5 weeks ago), 2025-09-03 14:54:31 -0700
    • Engine revision ddf47dd3ff
    • Dart version 3.9.2
    • DevTools version 2.48.0
    • Feature flags: enable-web, enable-linux-desktop, enable-macos-desktop, enable-windows-desktop, enable-android, enable-ios, cli-animations, enable-lldb-debugging

[✓] Android toolchain - develop for Android devices (Android SDK version 36.1.0) [6,6s]
    • Android SDK at /Users/home/Library/Android/sdk
    • Emulator version 36.1.9.0 (build_id 13823996) (CL:N/A)
    • Platform android-36, build-tools 36.1.0
    • Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java
      This is the JDK bundled with the latest Android Studio installation on this machine.
      To manually set the JDK path, use: `flutter config --jdk-dir=""path/to/jdk""`.
    • Java version OpenJDK Runtime Environment (build 21.0.7+-13880790-b1038.58)
    • All Android licenses accepted.

[!] Xcode - develop for iOS and macOS (Xcode 26.0.1) [7,0s]
    • Xcode at /Applications/Xcode.app/Contents/Developer
    • Build 17A400
    ! CocoaPods 1.11.3 out of date (1.16.2 is recommended).
        CocoaPods is a package manager for iOS or macOS platform code.
        Without CocoaPods, plugins will not work on iOS or macOS.
        For more info, see https://flutter.dev/to/platform-plugins
      To update CocoaPods, see https://guides.cocoapods.org/using/getting-started.html#updating-cocoapods

[✓] Chrome - develop for the web [55ms]
    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome

[✓] Android Studio (version 2025.1) [54ms]
    • Android Studio at /Applications/Android Studio.app/Contents
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart
    • android-studio-dir = /Applications/Android Studio.app
    • Java version OpenJDK Runtime Environment (build 21.0.7+-13880790-b1038.58)

[✓] IntelliJ IDEA Ultimate Edition (version 2025.2.1) [52ms]
    • IntelliJ at /Users/home/Applications/IntelliJ IDEA Ultimate.app
    • Flutter plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/9212-flutter
    • Dart plugin can be installed from:
      🔨 https://plugins.jetbrains.com/plugin/6351-dart

[✓] Connected device (4 available) [13,3s]
    • My Phone (wireless) (mobile)    • adb-45221FDAS0078Q-TodKD8._adb-tls-connect._tcp • android-arm64  • Android 16 (API 36)
    • macOS (desktop)                       • macos                                           • darwin-x64     • macOS 15.6.1 24G90 darwin-x64
    • Chrome (web)                          • chrome                                          • web-javascript • Google Chrome 141.0.7390.65

[✓] Network resources [285ms]
    • All expected network resources are available.

! Doctor found issues in 1 category.
```

</details>
",bleroux,2025-10-08T08:28:56+00:00,"c: regression, framework, f: material design, a: error message, has reproducible steps, workaround available, team-design, found in release: 3.35, found in release: 3.37",bleroux
flutter_flutter,"Do we need this ""The <parameter_name> parameter is required""?","I see multiple phrases of the form ""The <parameter_name> parameter is required"" in the doc comments, while it is enforced by the compiler using the required keyword, or the parameter is a regular positional parameter.
For example, in packages/flutter/lib/src/material/menu_anchor.dart:
```dart
  /// The [label] parameter is required.
  const MenuAcceleratorLabel(this.label, {super.key, this.builder = defaultLabelBuilder});
```
Do we need these phrases?","Do we need this ""The <parameter_name> parameter is required""? I see multiple phrases of the form ""The <parameter_name> parameter is required"" in the doc comments, while it is enforced by the compiler using the required keyword, or the parameter is a regular positional parameter.
For example, in packages/flutter/lib/src/material/menu_anchor.dart:
```dart
  /// The [label] parameter is required.
  const MenuAcceleratorLabel(this.label, {super.key, this.builder = defaultLabelBuilder});
```
Do we need these phrases?",ahmedsameha1,2025-10-07T16:42:57+00:00,"framework, f: material design, d: api docs, c: proposal, c: tech-debt, r: solved, team-design",ahmedsameha1
microsoft_vscode,Move accent normalization into filters.ts,"https://github.com/microsoft/vscode/pull/270248 adds special handling of characters with accents to commandQuickAccess.ts, a similar mechanism exists for Korean characters currently here:

https://github.com/microsoft/vscode/blob/f1b211e5ebf03457cd55e869dc33af09e681e358/src/vs/base/common/filters.ts#L138-L163

We should move the accent logic here as well, that way it's handled in more parts of the codebase, standardizes the approach, includes caching, etc.

<img width=""1217"" height=""268"" alt=""Image"" src=""https://github.com/user-attachments/assets/379c0802-60ca-4d7a-8c09-4c6a8b06e3ed"" />

Be sure to add some unit tests too.","Move accent normalization into filters.ts https://github.com/microsoft/vscode/pull/270248 adds special handling of characters with accents to commandQuickAccess.ts, a similar mechanism exists for Korean characters currently here:

https://github.com/microsoft/vscode/blob/f1b211e5ebf03457cd55e869dc33af09e681e358/src/vs/base/common/filters.ts#L138-L163

We should move the accent logic here as well, that way it's handled in more parts of the codebase, standardizes the approach, includes caching, etc.

<img width=""1217"" height=""268"" alt=""Image"" src=""https://github.com/user-attachments/assets/379c0802-60ca-4d7a-8c09-4c6a8b06e3ed"" />

Be sure to add some unit tests too.",dmitrivMS,2025-10-10T06:05:29+00:00,,dmitrivMS
microsoft_vscode,VS Code does not respect the tab size configuration for YAML Docker Compose files,"
Type: <b>Bug</b>

VS Code does not respect the tab size configuration for YAML Docker Compose files. Set it to 4 spaces or 6 spaces and it still uses the two spaces.

VS Code version: Code 1.104.1 (0f0d87fa9e96c856c5212fc86db137ac0d783365, 2025-09-17T23:36:24.973Z)
OS version: Linux x64 6.14.0-33-generic
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-5500U CPU @ 2.40GHz (4 x 2892)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|0, 1, 1|
|Memory (System)|15.53GB (10.40GB free)|
|Process Argv|/HolismHolding/ --crash-reporter-id e30b8fd0-7774-427d-b626-3c713a47070c|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details><summary>Extensions (6)</summary>

Extension|Author (truncated)|Version
---|---|---
data-workspace-vscode|ms-|0.6.3
mssql|ms-|1.34.0
sql-bindings-vscode|ms-|0.4.1
sql-database-projects-vscode|ms-|1.5.3
remote-containers|ms-|0.417.0
code-spell-checker|str|4.0.47


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31351930
testaa123:31335226
6abeh943:31336334
envsdeactivate2:31353495
ovs_ter_t:31398874
0cj2b977:31352657
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->","VS Code does not respect the tab size configuration for YAML Docker Compose files 
Type: <b>Bug</b>

VS Code does not respect the tab size configuration for YAML Docker Compose files. Set it to 4 spaces or 6 spaces and it still uses the two spaces.

VS Code version: Code 1.104.1 (0f0d87fa9e96c856c5212fc86db137ac0d783365, 2025-09-17T23:36:24.973Z)
OS version: Linux x64 6.14.0-33-generic
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-5500U CPU @ 2.40GHz (4 x 2892)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|0, 1, 1|
|Memory (System)|15.53GB (10.40GB free)|
|Process Argv|/HolismHolding/ --crash-reporter-id e30b8fd0-7774-427d-b626-3c713a47070c|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details><summary>Extensions (6)</summary>

Extension|Author (truncated)|Version
---|---|---
data-workspace-vscode|ms-|0.6.3
mssql|ms-|1.34.0
sql-bindings-vscode|ms-|0.4.1
sql-database-projects-vscode|ms-|1.5.3
remote-containers|ms-|0.417.0
code-spell-checker|str|4.0.47


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31351930
testaa123:31335226
6abeh943:31336334
envsdeactivate2:31353495
ovs_ter_t:31398874
0cj2b977:31352657
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->",rzhao271,2025-10-10T06:02:32+00:00,triage-needed,rzhao271
microsoft_vscode,Problems View Duplicate Old Entires,"
Type: <b>Bug</b>

While using copilot and Vscode, I told it to use the #problems tool and work through some quality concerns.  During the process, copilot began resolving the issues, as as it worked - the number of problems changed from 100 to 900.  After investgiation, I discovered that multiple entires of the same files were in the problems view, conflating the issue.

I've attempted to reload extensions, reload window, restart Vscode, clear search history, clear editor history, and used local history: delete all.  

I started a new copilot session, and then approximately 300 of the 'problems' disappeared.  This is after having already accepted the changes.  I can't provide evidence, but I believe I've seen this before and now that I've started a new copilot session, if I restart vscode - the issue will be resolved.

UX wise, it's confusing because if I click on any of the duplicate entires, I'll get different versions of the code from different edits.  And when I ask copilot to check problems, it's confused that there seem to be so many after having solve most of them.  I have only experienced this when using copilot, so I believe it's connected, but again - no evidence.  

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-8700K CPU @ 3.70GHz (12 x 3696)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.85GB (36.28GB free)|
|Process Argv|--crash-reporter-id 7a8b0b26-3766-4adf-976b-7bd564c0270b|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (55)</summary>

Extension|Author (truncated)|Version
---|---|---
better-comments|aar|3.0.2
vscode-sqlite|ale|0.14.1
vscjsontableeditor|Alt|0.10.0
markdown-checkbox|bie|0.4.0
markdown-mermaid|bie|1.29.0
markdown-preview-github-styles|bie|2.2.0
biome|bio|3.2.0
ruff|cha|2025.28.0
twee3-language-tools|cyr|0.32.0
meld-diff|dan|1.5.1
vscode-markdownlint|Dav|0.60.0
docker|doc|0.17.0
quicktype-refresh|dog|1.0.2
vscode-python-config|fra|12.4.0
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
remotehub|Git|0.64.0
vscode-github-actions|git|0.28.0
vscode-pull-request-github|Git|0.120.0
gemini-cli-vscode-ide-companion|goo|0.7.0
vscode-test-explorer|hbe|2.22.1
token-counter|hpl|0.1.0
file-duplicate|inc|1.0.5
add-to-gitignore|mac|1.0.0
vscode-autohotkey-plus-plus|mar|6.7.1
rainbow-csv|mec|3.23.0
vscode-containers|ms-|2.2.0
vscode-docker|ms-|2.0.0
playwright|ms-|1.1.16
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.11.12821634
datawrangler|ms-|1.22.0
remote-containers|ms-|0.427.0
cpptools|ms-|1.27.7
live-server|ms-|0.4.16
powershell|ms-|2025.4.0
remote-repositories|ms-|0.42.0
test-adapter-converter|ms-|0.2.1
vscode-auto-scroll|pej|1.2.0
qsp-official|QSP|0.1.4
vscode-xml|red|0.29.0
vscode-yaml|red|1.19.1
language-renpy|ren|2.4.0
vscode-coverage-gutters|rya|2.14.0
partial-diff|ryu|1.4.3
github-local-actions|San|1.2.5
vscode-always-sidebar|shi|0.0.7
even-better-toml|tam|0.21.2
qt-core|the|1.8.0
qt-qml|the|1.8.0
context7-mcp|Ups|1.0.1
explorer|vit|1.30.0
vscode-sqlite3-editor|yy0|1.0.208

(1 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
gh-qwen25-edits-001-cost:31399366
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
82j33506:31327384
nes-set-on:31340697
6abeh943:31336334
ovs_sec_t:31398873
aa_t:31379598
0cj2b977:31352657
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31399471
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
9i271672:31399627

```

</details>

<!-- generated by issue reporter -->","Problems View Duplicate Old Entires 
Type: <b>Bug</b>

While using copilot and Vscode, I told it to use the #problems tool and work through some quality concerns.  During the process, copilot began resolving the issues, as as it worked - the number of problems changed from 100 to 900.  After investgiation, I discovered that multiple entires of the same files were in the problems view, conflating the issue.

I've attempted to reload extensions, reload window, restart Vscode, clear search history, clear editor history, and used local history: delete all.  

I started a new copilot session, and then approximately 300 of the 'problems' disappeared.  This is after having already accepted the changes.  I can't provide evidence, but I believe I've seen this before and now that I've started a new copilot session, if I restart vscode - the issue will be resolved.

UX wise, it's confusing because if I click on any of the duplicate entires, I'll get different versions of the code from different edits.  And when I ask copilot to check problems, it's confused that there seem to be so many after having solve most of them.  I have only experienced this when using copilot, so I believe it's connected, but again - no evidence.  

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-8700K CPU @ 3.70GHz (12 x 3696)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.85GB (36.28GB free)|
|Process Argv|--crash-reporter-id 7a8b0b26-3766-4adf-976b-7bd564c0270b|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (55)</summary>

Extension|Author (truncated)|Version
---|---|---
better-comments|aar|3.0.2
vscode-sqlite|ale|0.14.1
vscjsontableeditor|Alt|0.10.0
markdown-checkbox|bie|0.4.0
markdown-mermaid|bie|1.29.0
markdown-preview-github-styles|bie|2.2.0
biome|bio|3.2.0
ruff|cha|2025.28.0
twee3-language-tools|cyr|0.32.0
meld-diff|dan|1.5.1
vscode-markdownlint|Dav|0.60.0
docker|doc|0.17.0
quicktype-refresh|dog|1.0.2
vscode-python-config|fra|12.4.0
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
remotehub|Git|0.64.0
vscode-github-actions|git|0.28.0
vscode-pull-request-github|Git|0.120.0
gemini-cli-vscode-ide-companion|goo|0.7.0
vscode-test-explorer|hbe|2.22.1
token-counter|hpl|0.1.0
file-duplicate|inc|1.0.5
add-to-gitignore|mac|1.0.0
vscode-autohotkey-plus-plus|mar|6.7.1
rainbow-csv|mec|3.23.0
vscode-containers|ms-|2.2.0
vscode-docker|ms-|2.0.0
playwright|ms-|1.1.16
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.11.12821634
datawrangler|ms-|1.22.0
remote-containers|ms-|0.427.0
cpptools|ms-|1.27.7
live-server|ms-|0.4.16
powershell|ms-|2025.4.0
remote-repositories|ms-|0.42.0
test-adapter-converter|ms-|0.2.1
vscode-auto-scroll|pej|1.2.0
qsp-official|QSP|0.1.4
vscode-xml|red|0.29.0
vscode-yaml|red|1.19.1
language-renpy|ren|2.4.0
vscode-coverage-gutters|rya|2.14.0
partial-diff|ryu|1.4.3
github-local-actions|San|1.2.5
vscode-always-sidebar|shi|0.0.7
even-better-toml|tam|0.21.2
qt-core|the|1.8.0
qt-qml|the|1.8.0
context7-mcp|Ups|1.0.1
explorer|vit|1.30.0
vscode-sqlite3-editor|yy0|1.0.208

(1 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
gh-qwen25-edits-001-cost:31399366
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
82j33506:31327384
nes-set-on:31340697
6abeh943:31336334
ovs_sec_t:31398873
aa_t:31379598
0cj2b977:31352657
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31399471
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
9i271672:31399627

```

</details>

<!-- generated by issue reporter -->",jrieken,2025-10-10T05:27:16+00:00,new release,jrieken
microsoft_vscode,Chat input receives focus while output is streaming in,"
Steps to Reproduce:

1. have chat response stream in (agentic session)
2. focus the editor

=> focus moves back to the chat input field almost everytime I get new chat output




![Image](https://github.com/user-attachments/assets/f695f9ab-12fd-4743-aa16-0ba26f32df73)
","Chat input receives focus while output is streaming in 
Steps to Reproduce:

1. have chat response stream in (agentic session)
2. focus the editor

=> focus moves back to the chat input field almost everytime I get new chat output




![Image](https://github.com/user-attachments/assets/f695f9ab-12fd-4743-aa16-0ba26f32df73)
",bhavyaus,2025-10-10T05:18:32+00:00,important,bhavyaus
microsoft_vscode,Todos follow to new chat editor,"Steps to Reproduce:

1. Create a chat in Chat Sessions view that generates todos (with Local Chat Sessions)
2. Create a new GitHub Copilot Coding Agent task.

Expected: Todos are sticky to the chat they were created in.

Actual: Todos follow

<img width=""1980"" height=""1275"" alt=""Image"" src=""https://github.com/user-attachments/assets/60c4270a-0468-4bbd-8775-c801fa3539ab"" />
","Todos follow to new chat editor Steps to Reproduce:

1. Create a chat in Chat Sessions view that generates todos (with Local Chat Sessions)
2. Create a new GitHub Copilot Coding Agent task.

Expected: Todos are sticky to the chat they were created in.

Actual: Todos follow

<img width=""1980"" height=""1275"" alt=""Image"" src=""https://github.com/user-attachments/assets/60c4270a-0468-4bbd-8775-c801fa3539ab"" />
",bhavyaus,2025-10-10T04:43:44+00:00,,bhavyaus
microsoft_vscode,Jupyter Kernel not starting with Python 3.13.7 virtual environment in VS Code,"
Type: <b>Bug</b>

Create a new environment with Python 3.13.7:

Open VS Code → select myenv as the interpreter

Create or open any .ipynb file

Run any cell, e.g. print(""test"")

Observe: ""Running cells with 'myenv (3.13.7) (Python 3.13.7)' requires the ipykernel package.
Install 'ipykernel' into the Python environment. 
Command: '""d:/Projects (RAG)/rag_classic/myenv/Scripts/python.exe"" -m pip install ipykernel -U --force-reinstall'""

Not fixed after installing ipykernel 

This issue did not occur yesterday when my vscode was not on latest version.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i5-1240P (16 x 2112)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.70GB (3.47GB free)|
|Process Argv|--crash-reporter-id 0c92dfd1-e24b-4a67-80f1-96c3f7b7ee38|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (63)</summary>

Extension|Author (truncated)|Version
---|---|---
codesnap|adp|1.3.4
html-class-suggestions|And|1.2.1
vscode-intelephense-client|bme|1.14.4
vscode-tailwindcss|bra|0.14.28
phpserver|bra|3.0.2
multi-cursor-case-preserve|Car|1.0.5
dart-code|Dar|3.120.0
flutter|Dar|3.120.0
composer-php-vscode|DEV|1.62.17969
intelli-php-vscode|DEV|0.12.17700
phptools-vscode|DEV|1.62.17969
profiler-php-vscode|DEV|1.62.17969
es7-react-js-snippets|dsz|4.4.3
vscode-html-css|ecm|2.0.13
bloc|Fel|6.8.11
auto-close-tag|for|0.5.15
auto-rename-tag|for|0.1.10
code-runner|for|0.12.2
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
vscode-gutter-preview|kis|0.32.2
rainbow-csv|mec|3.23.0
mongodb-vscode|mon|1.14.2
vscode-containers|ms-|2.2.0
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
datawrangler|ms-|1.22.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
cmake-tools|ms-|1.21.36
cpptools|ms-|1.27.7
cpptools-extension-pack|ms-|1.3.1
vscode-speech|ms-|0.16.0
material-icon-theme|PKi|5.27.0
excalidraw-editor|pom|3.9.0
java|red|1.46.0
LiveServer|rit|5.7.9
svg-preview|Sim|2.8.3
ayu|tea|1.0.5
pdf|tom|1.2.2
vscode-pets|ton|1.34.0
cmake|twx|0.0.17
errorlens|use|3.26.0
highlight-matching-tag|vin|0.11.0
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
migrate-java-to-azure|vsc|1.5.2
vscode-gradle|vsc|3.17.0
vscode-java-debug|vsc|0.58.2
vscode-java-dependency|vsc|0.25.2025092303
vscode-java-pack|vsc|0.30.2
vscode-java-test|vsc|0.43.1
vscode-java-upgrade|vsc|1.6.1
vscode-maven|vsc|0.44.0
JavaScriptSnippets|xab|1.8.0
mplstyle|yy0|1.14.4
material-theme|zhu|3.19.0
html-css-class-completion|Zig|1.20.0

(6 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
nes-set-on:31351930
6abeh943:31336334
envsactivate1:31353494
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
gaj49834:31362110
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
gemagent1cf:31398531
applesignin:31399435
dcggh915:31397497
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->","Jupyter Kernel not starting with Python 3.13.7 virtual environment in VS Code 
Type: <b>Bug</b>

Create a new environment with Python 3.13.7:

Open VS Code → select myenv as the interpreter

Create or open any .ipynb file

Run any cell, e.g. print(""test"")

Observe: ""Running cells with 'myenv (3.13.7) (Python 3.13.7)' requires the ipykernel package.
Install 'ipykernel' into the Python environment. 
Command: '""d:/Projects (RAG)/rag_classic/myenv/Scripts/python.exe"" -m pip install ipykernel -U --force-reinstall'""

Not fixed after installing ipykernel 

This issue did not occur yesterday when my vscode was not on latest version.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i5-1240P (16 x 2112)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.70GB (3.47GB free)|
|Process Argv|--crash-reporter-id 0c92dfd1-e24b-4a67-80f1-96c3f7b7ee38|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (63)</summary>

Extension|Author (truncated)|Version
---|---|---
codesnap|adp|1.3.4
html-class-suggestions|And|1.2.1
vscode-intelephense-client|bme|1.14.4
vscode-tailwindcss|bra|0.14.28
phpserver|bra|3.0.2
multi-cursor-case-preserve|Car|1.0.5
dart-code|Dar|3.120.0
flutter|Dar|3.120.0
composer-php-vscode|DEV|1.62.17969
intelli-php-vscode|DEV|0.12.17700
phptools-vscode|DEV|1.62.17969
profiler-php-vscode|DEV|1.62.17969
es7-react-js-snippets|dsz|4.4.3
vscode-html-css|ecm|2.0.13
bloc|Fel|6.8.11
auto-close-tag|for|0.5.15
auto-rename-tag|for|0.1.10
code-runner|for|0.12.2
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
vscode-gutter-preview|kis|0.32.2
rainbow-csv|mec|3.23.0
mongodb-vscode|mon|1.14.2
vscode-containers|ms-|2.2.0
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
datawrangler|ms-|1.22.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
cmake-tools|ms-|1.21.36
cpptools|ms-|1.27.7
cpptools-extension-pack|ms-|1.3.1
vscode-speech|ms-|0.16.0
material-icon-theme|PKi|5.27.0
excalidraw-editor|pom|3.9.0
java|red|1.46.0
LiveServer|rit|5.7.9
svg-preview|Sim|2.8.3
ayu|tea|1.0.5
pdf|tom|1.2.2
vscode-pets|ton|1.34.0
cmake|twx|0.0.17
errorlens|use|3.26.0
highlight-matching-tag|vin|0.11.0
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
migrate-java-to-azure|vsc|1.5.2
vscode-gradle|vsc|3.17.0
vscode-java-debug|vsc|0.58.2
vscode-java-dependency|vsc|0.25.2025092303
vscode-java-pack|vsc|0.30.2
vscode-java-test|vsc|0.43.1
vscode-java-upgrade|vsc|1.6.1
vscode-maven|vsc|0.44.0
JavaScriptSnippets|xab|1.8.0
mplstyle|yy0|1.14.4
material-theme|zhu|3.19.0
html-css-class-completion|Zig|1.20.0

(6 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
nes-set-on:31351930
6abeh943:31336334
envsactivate1:31353494
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
gaj49834:31362110
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
gemagent1cf:31398531
applesignin:31399435
dcggh915:31397497
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->",alexr00,2025-10-10T04:42:57+00:00,"triage-needed, new release",alexr00
microsoft_vscode,Build failed,"Build: https://dev.azure.com/monacotools/a6d41577-0fa3-498e-af22-257312ff0545/_build/results?buildId=363562
Changes: https://github.com/Microsoft/vscode/compare/a361925...691bcc6","Build failed Build: https://dev.azure.com/monacotools/a6d41577-0fa3-498e-af22-257312ff0545/_build/results?buildId=363562
Changes: https://github.com/Microsoft/vscode/compare/a361925...691bcc6",dileepyavan,2025-10-10T04:36:36+00:00,unreleased,dileepyavan
microsoft_vscode,sonnet 4.5 也有BUG,"
Type: <b>Bug</b>

代码位置乱加，不能接上之前的代码。

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|13th Gen Intel(R) Core(TM) i9-13900HX (32 x 2419)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.75GB (41.88GB free)|
|Process Argv|--crash-reporter-id 24514756-27a0-4758-b1eb-d577406fc30b|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
envsactivate1:31353494
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
grok-v2-prompt:31398332
use-responses-api:31390855
bd6f95_c:31397101

```

</details>

<!-- generated by issue reporter -->","sonnet 4.5 也有BUG 
Type: <b>Bug</b>

代码位置乱加，不能接上之前的代码。

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|13th Gen Intel(R) Core(TM) i9-13900HX (32 x 2419)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.75GB (41.88GB free)|
|Process Argv|--crash-reporter-id 24514756-27a0-4758-b1eb-d577406fc30b|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
envsactivate1:31353494
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
grok-v2-prompt:31398332
use-responses-api:31390855
bd6f95_c:31397101

```

</details>

<!-- generated by issue reporter -->",jrieken,2025-10-10T04:23:08+00:00,ai-translated,jrieken
microsoft_vscode,Duplicate output in Jupyter notebooks,"
<img width=""2126"" height=""1210"" alt=""Image"" src=""https://github.com/user-attachments/assets/5bfae891-261b-437d-bef1-91fbd3814caf"" />","Duplicate output in Jupyter notebooks 
<img width=""2126"" height=""1210"" alt=""Image"" src=""https://github.com/user-attachments/assets/5bfae891-261b-437d-bef1-91fbd3814caf"" />",DonJayamanne,2025-10-10T04:21:46+00:00,"bug, important, notebook-output",DonJayamanne
microsoft_vscode,GHPR shows the same repo twice when using Git work trees in multi-root workspace,"<img width=""619"" height=""1225"" alt=""Image"" src=""https://github.com/user-attachments/assets/9501ff9d-9b45-47b8-ba17-7985656f2a67"" />

Repro:

1. Create a Git worktree
2. Add the worktree to the current workspace
3. Open GitHub Pull Requests

Expected: Only shows one repo as both have the same origin

Actual: Entries are duplicated twice","GHPR shows the same repo twice when using Git work trees in multi-root workspace <img width=""619"" height=""1225"" alt=""Image"" src=""https://github.com/user-attachments/assets/9501ff9d-9b45-47b8-ba17-7985656f2a67"" />

Repro:

1. Create a Git worktree
2. Add the worktree to the current workspace
3. Open GitHub Pull Requests

Expected: Only shows one repo as both have the same origin

Actual: Entries are duplicated twice",alexr00,2025-10-10T04:19:50+00:00,,alexr00
microsoft_vscode,Add space in string for new editor empty state,"<img width=""858"" height=""223"" alt=""Image"" src=""https://github.com/user-attachments/assets/ca951203-4e21-46fb-a5c1-50c60fcef69b"" />

We should reconsider what this string should be in general, but at the very least we need to add a space between GitHub and Copilot","Add space in string for new editor empty state <img width=""858"" height=""223"" alt=""Image"" src=""https://github.com/user-attachments/assets/ca951203-4e21-46fb-a5c1-50c60fcef69b"" />

We should reconsider what this string should be in general, but at the very least we need to add a space between GitHub and Copilot",eli-w-king,2025-10-10T03:54:15+00:00,,eli-w-king
microsoft_vscode,python kernel can't launch in ver 1.105.0,"
Type: <b>Bug</b>

After I update the vscode to the v1.105, all the python kernels can't launch in v1.105.0.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.22631
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i9-12900K (24 x 3187)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|95.70GB (63.53GB free)|
|Process Argv|--crash-reporter-id d49f1ec1-dcc3-4292-9f47-758f5bc71207|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (16)</summary>

Extension|Author (truncated)|Version
---|---|---
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
rainbow-csv|mec|3.23.0
vscode-language-pack-zh-hans|MS-|1.105.2025100809
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
datawrangler|ms-|1.22.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
LiveServer|rit|5.7.9
wolfram|Wol|2.0.1


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
6abeh943:31336334
ovs_sec_t:31398873
0cj2b977:31352657
cloudbuttont:31379625
todos-1:31390405
qwen_all_req:31398802
multireplacestring:31398340
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->","python kernel can't launch in ver 1.105.0 
Type: <b>Bug</b>

After I update the vscode to the v1.105, all the python kernels can't launch in v1.105.0.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.22631
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i9-12900K (24 x 3187)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|95.70GB (63.53GB free)|
|Process Argv|--crash-reporter-id d49f1ec1-dcc3-4292-9f47-758f5bc71207|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (16)</summary>

Extension|Author (truncated)|Version
---|---|---
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
rainbow-csv|mec|3.23.0
vscode-language-pack-zh-hans|MS-|1.105.2025100809
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
datawrangler|ms-|1.22.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
LiveServer|rit|5.7.9
wolfram|Wol|2.0.1


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
6abeh943:31336334
ovs_sec_t:31398873
0cj2b977:31352657
cloudbuttont:31379625
todos-1:31390405
qwen_all_req:31398802
multireplacestring:31398340
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->",hediet,2025-10-10T03:38:11+00:00,"triage-needed, new release",hediet
microsoft_vscode,问题很久没有提供响应，像是卡死了,"
Type: <b>Performance Issue</b>

让他帮我修改文件   一直卡住  等待20分钟不行

Extension version: 0.32.0
VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Darwin arm64 25.0.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M1 (8 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|33, 38, 31|
|Memory (System)|16.00GB (0.08GB free)|
|Process Argv|--crash-reporter-id f6bd9a49-f1bf-46b3-9cb7-b0658e6ba00a|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>Process Info</summary>

```
CPU %	Mem MB	   PID	Process
    8	30962247438	 50318	code
    3	11258999068	 50323	   gpu-process
    0	5629499534	 50324	   utility-network-service
    1	14073748836	 50386	shared-process
    0	     0	 60700	     /bin/ps -ax -o pid=,ppid=,pcpu=,pmem=,command=
   99	5629499534	 50513	pty-host
    0	     0	 58166	     /bin/zsh -i
    0	14073748836	 54968	window [3] (open.class.ts — lc-lts)
    0	19703248370	 55069	extension-host [3]
    0	2814749767	 55091	     electron-nodejs (tsserver.js )
    0	5629499534	 55092	     electron-nodejs (tsserver.js )
    0	5629499534	 55094	     electron-nodejs (serverMain.js )
    0	5629499534	 55095	     electron-nodejs (server.js )
    0	5629499534	 55097	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/lc-lts --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --disableBlockSyntax --disableLetSyntax --angularCoreVersion 16.2.11 --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/lc-lts --node-ipc --clientProcessId=55069
    0	5629499534	 55104	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=55069
    0	5629499534	 55105	     electron-nodejs (server.js )
    0	5629499534	 55106	     electron-nodejs (server.js )
    0	5629499534	 55109	     electron-nodejs (server.js )
    0	5629499534	 55115	     electron-nodejs (eslintServer.js )
    0	5629499534	 55117	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=55069
    0	5629499534	 55118	     electron-nodejs (start-server.js )
    0	2814749767	 55181	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 55070	file-watcher [3]
    0	14073748836	 55624	window [4] (workflow.event.ts — pdm)
    0	16888498603	 55644	extension-host [4]
    0	5629499534	 55673	     electron-nodejs (tsserver.js )
    0	5629499534	 55674	     electron-nodejs (tsserver.js )
    0	5629499534	 55678	     electron-nodejs (serverMain.js )
    0	5629499534	 55680	     electron-nodejs (server.js )
    0	5629499534	 55684	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=55644
    0	8444249301	 55686	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/pdm --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --disableBlockSyntax --disableLetSyntax --angularCoreVersion 16.2.7 --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/pdm --node-ipc --clientProcessId=55644
    0	5629499534	 55691	     electron-nodejs (server.js )
    0	8444249301	 55738	     electron-nodejs (eslintServer.js )
    0	8444249301	 55739	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=55644
    0	5629499534	 55740	     electron-nodejs (start-server.js )
    0	2814749767	 55825	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 55645	file-watcher [4]
    0	59109745109	 57411	window [5] (01.html — rxjs-learning)
    3	25332747904	 57494	extension-host [5]
    0	8444249301	 57516	     electron-nodejs (tsserver.js )
    0	8444249301	 57517	     electron-nodejs (tsserver.js )
    0	8444249301	 57519	     electron-nodejs (serverMain.js )
    0	8444249301	 57520	     electron-nodejs (server.js )
    0	8444249301	 57522	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=57494
    0	8444249301	 57528	     electron-nodejs (server.js )
    0	8444249301	 57539	     electron-nodejs (eslintServer.js )
    0	8444249301	 57540	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=57494
    0	8444249301	 57541	     electron-nodejs (start-server.js )
    0	8444249301	 57542	     electron-nodejs (server.js )
    0	8444249301	 57543	     electron-nodejs (language-server.js )
    0	8444249301	 57559	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/html-language-features/server/dist/node/htmlServerMain --node-ipc --clientProcessId=57494
    0	8444249301	 57562	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/M-gM-;M^CM-fM^IM^KM-iM-!M-9M-gM^[M-./vue/rxjs-learning --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/M-gM-;M^CM-fM^IM^KM-iM-!M-9M-gM^[M-./vue/rxjs-learning --node-ipc --clientProcessId=57494
    0	2814749767	 57610	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 57495	file-watcher [5]
```

</details>
<details>
<summary>Workspace Info</summary>

```
|  Window (01.html — rxjs-learning)
|  Window (workflow.event.ts — pdm)
|  Window (open.class.ts — lc-lts)
|    Folder (rxjs-learning): 936 files
|      File types: vue(794) js(61) html(5) xml(3) json(3) css(3) gitignore(2)
|                  md(2) svg(2) DS_Store(1)
|      Conf files: settings.json(1) package.json(1)
|    Folder (pdm): 19909 files
|      File types: json(11896) png(2333) ts(2254) svg(1272) js(1079) html(239)
|                  less(148) jpg(70) bin(38) ico(32)
|      Conf files: project.json(12) tsconfig.json(2) launch.json(1)
|                  settings.json(1) tasks.json(1) gulp.js(1) package.json(1)
|      Launch Configs: chrome(2)
|    Folder (lc-lts): 16071 files
|      File types: json(6312) ts(2471) png(1628) mjs(674) jpg(639) less(306)
|                  html(304) md(250) svg(161) js(80)
|      Conf files: package.json(3) tsconfig.json(3) project.json(3)
|                  launch.json(1) settings.json(1) tasks.json(1) gulp.js(1)
|      Launch Configs: chrome(2);
```

</details>
<details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
pythonvspyt551:31249599
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
nes-set-on:31351930
6abeh943:31336334
envsdeactivate2:31353495
ovs_ter_t:31398874
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-electron-fetcher:31399470
auto_model_enabled:31385282
grok-v2-prompt:31398332
use-responses-api:31390855
applesignin:31399435
largecontext-treatment-fa0ei729:31396905
9i271672:31399627
nes-subseq-delay-0:31399371

```

</details>

<!-- generated by issue reporter -->","问题很久没有提供响应，像是卡死了 
Type: <b>Performance Issue</b>

让他帮我修改文件   一直卡住  等待20分钟不行

Extension version: 0.32.0
VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Darwin arm64 25.0.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M1 (8 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|33, 38, 31|
|Memory (System)|16.00GB (0.08GB free)|
|Process Argv|--crash-reporter-id f6bd9a49-f1bf-46b3-9cb7-b0658e6ba00a|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>Process Info</summary>

```
CPU %	Mem MB	   PID	Process
    8	30962247438	 50318	code
    3	11258999068	 50323	   gpu-process
    0	5629499534	 50324	   utility-network-service
    1	14073748836	 50386	shared-process
    0	     0	 60700	     /bin/ps -ax -o pid=,ppid=,pcpu=,pmem=,command=
   99	5629499534	 50513	pty-host
    0	     0	 58166	     /bin/zsh -i
    0	14073748836	 54968	window [3] (open.class.ts — lc-lts)
    0	19703248370	 55069	extension-host [3]
    0	2814749767	 55091	     electron-nodejs (tsserver.js )
    0	5629499534	 55092	     electron-nodejs (tsserver.js )
    0	5629499534	 55094	     electron-nodejs (serverMain.js )
    0	5629499534	 55095	     electron-nodejs (server.js )
    0	5629499534	 55097	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/lc-lts --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --disableBlockSyntax --disableLetSyntax --angularCoreVersion 16.2.11 --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/lc-lts --node-ipc --clientProcessId=55069
    0	5629499534	 55104	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=55069
    0	5629499534	 55105	     electron-nodejs (server.js )
    0	5629499534	 55106	     electron-nodejs (server.js )
    0	5629499534	 55109	     electron-nodejs (server.js )
    0	5629499534	 55115	     electron-nodejs (eslintServer.js )
    0	5629499534	 55117	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=55069
    0	5629499534	 55118	     electron-nodejs (start-server.js )
    0	2814749767	 55181	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 55070	file-watcher [3]
    0	14073748836	 55624	window [4] (workflow.event.ts — pdm)
    0	16888498603	 55644	extension-host [4]
    0	5629499534	 55673	     electron-nodejs (tsserver.js )
    0	5629499534	 55674	     electron-nodejs (tsserver.js )
    0	5629499534	 55678	     electron-nodejs (serverMain.js )
    0	5629499534	 55680	     electron-nodejs (server.js )
    0	5629499534	 55684	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=55644
    0	8444249301	 55686	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/pdm --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --disableBlockSyntax --disableLetSyntax --angularCoreVersion 16.2.7 --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/digi/pdm --node-ipc --clientProcessId=55644
    0	5629499534	 55691	     electron-nodejs (server.js )
    0	8444249301	 55738	     electron-nodejs (eslintServer.js )
    0	8444249301	 55739	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=55644
    0	5629499534	 55740	     electron-nodejs (start-server.js )
    0	2814749767	 55825	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 55645	file-watcher [4]
    0	59109745109	 57411	window [5] (01.html — rxjs-learning)
    3	25332747904	 57494	extension-host [5]
    0	8444249301	 57516	     electron-nodejs (tsserver.js )
    0	8444249301	 57517	     electron-nodejs (tsserver.js )
    0	8444249301	 57519	     electron-nodejs (serverMain.js )
    0	8444249301	 57520	     electron-nodejs (server.js )
    0	8444249301	 57522	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=57494
    0	8444249301	 57528	     electron-nodejs (server.js )
    0	8444249301	 57539	     electron-nodejs (eslintServer.js )
    0	8444249301	 57540	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/streetsidesoftware.code-spell-checker-4.2.6/packages/_server/dist/main.cjs --node-ipc --clientProcessId=57494
    0	8444249301	 57541	     electron-nodejs (start-server.js )
    0	8444249301	 57542	     electron-nodejs (server.js )
    0	8444249301	 57543	     electron-nodejs (language-server.js )
    0	8444249301	 57559	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Applications/Visual Studio Code.app/Contents/Resources/app/extensions/html-language-features/server/dist/node/htmlServerMain --node-ipc --clientProcessId=57494
    0	8444249301	 57562	     /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin) /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2/server --logToConsole --ngProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/M-gM-;M^CM-fM^IM^KM-iM-!M-9M-gM^[M-./vue/rxjs-learning --includeAutomaticOptionalChainCompletions --includeCompletionsWithSnippetText --includeCompletionsForModuleExports true --tsProbeLocations /Users/pomelo/.vscode/extensions/angular.ng-template-20.2.2,/Users/pomelo/project/M-gM-;M^CM-fM^IM^KM-iM-!M-9M-gM^[M-./vue/rxjs-learning --node-ipc --clientProcessId=57494
    0	2814749767	 57610	     /Users/pomelo/Library/Application Support/GitKrakenCLI/gk mcp --host=vscode --source=gitlens --scheme=vscode
    0	8444249301	 57495	file-watcher [5]
```

</details>
<details>
<summary>Workspace Info</summary>

```
|  Window (01.html — rxjs-learning)
|  Window (workflow.event.ts — pdm)
|  Window (open.class.ts — lc-lts)
|    Folder (rxjs-learning): 936 files
|      File types: vue(794) js(61) html(5) xml(3) json(3) css(3) gitignore(2)
|                  md(2) svg(2) DS_Store(1)
|      Conf files: settings.json(1) package.json(1)
|    Folder (pdm): 19909 files
|      File types: json(11896) png(2333) ts(2254) svg(1272) js(1079) html(239)
|                  less(148) jpg(70) bin(38) ico(32)
|      Conf files: project.json(12) tsconfig.json(2) launch.json(1)
|                  settings.json(1) tasks.json(1) gulp.js(1) package.json(1)
|      Launch Configs: chrome(2)
|    Folder (lc-lts): 16071 files
|      File types: json(6312) ts(2471) png(1628) mjs(674) jpg(639) less(306)
|                  html(304) md(250) svg(161) js(80)
|      Conf files: package.json(3) tsconfig.json(3) project.json(3)
|                  launch.json(1) settings.json(1) tasks.json(1) gulp.js(1)
|      Launch Configs: chrome(2);
```

</details>
<details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
pythonvspyt551:31249599
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
b6b4d950:31327385
nes-set-on:31351930
6abeh943:31336334
envsdeactivate2:31353495
ovs_ter_t:31398874
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-electron-fetcher:31399470
auto_model_enabled:31385282
grok-v2-prompt:31398332
use-responses-api:31390855
applesignin:31399435
largecontext-treatment-fa0ei729:31396905
9i271672:31399627
nes-subseq-delay-0:31399371

```

</details>

<!-- generated by issue reporter -->",ulugbekna,2025-10-10T02:57:32+00:00,"triage-needed, ai-translated, new release",ulugbekna
microsoft_vscode,명령어 실행시 행 걸려서 진행이 되지 않는 상황이 지속,"
Type: <b>Bug</b>

2 ~ 3주 전 부터 명령어 실행시 행 걸려서 진행이 되지 않는 상황이 지속

Extension version: 0.32.0
VS Code version: Code 1.105.0 (Universal) (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Darwin arm64 24.6.0
Modes:
Remote OS version: Linux x64 5.4.0-187-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M4 Max (16 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|4, 5, 6|
|Memory (System)|128.00GB (2.38GB free)|
|Process Argv|--crash-reporter-id 422833c6-f268-41aa-a0ad-cec9dcf05dfc|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: devarsam1.jnu.ac.kr|
|OS|Linux x64 5.4.0-187-generic|
|CPUs|Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz (8 x 0)|
|Memory (System)|15.56GB (9.75GB free)|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
nes-set-on:31351930
testaa123:31335226
6abeh943:31336334
envsactivate1:31353494
ovs_ter_t:31398874
aa_c:31379599
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
ddidt:31399633

```

</details>

<!-- generated by issue reporter -->","명령어 실행시 행 걸려서 진행이 되지 않는 상황이 지속 
Type: <b>Bug</b>

2 ~ 3주 전 부터 명령어 실행시 행 걸려서 진행이 되지 않는 상황이 지속

Extension version: 0.32.0
VS Code version: Code 1.105.0 (Universal) (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Darwin arm64 24.6.0
Modes:
Remote OS version: Linux x64 5.4.0-187-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M4 Max (16 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|4, 5, 6|
|Memory (System)|128.00GB (2.38GB free)|
|Process Argv|--crash-reporter-id 422833c6-f268-41aa-a0ad-cec9dcf05dfc|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: devarsam1.jnu.ac.kr|
|OS|Linux x64 5.4.0-187-generic|
|CPUs|Intel(R) Xeon(R) Silver 4210 CPU @ 2.20GHz (8 x 0)|
|Memory (System)|15.56GB (9.75GB free)|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
nes-set-on:31351930
testaa123:31335226
6abeh943:31336334
envsactivate1:31353494
ovs_ter_t:31398874
aa_c:31379599
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
ddidt:31399633

```

</details>

<!-- generated by issue reporter -->",kycutler,2025-10-10T02:56:48+00:00,"triage-needed, ai-translated, new release",kycutler
microsoft_vscode,ansible workaround for Microsoft's aggressive repo management (users to opt-out of apt repository install),"If you want to follow https://code.visualstudio.com/docs/setup/linux#_debian-and-ubuntu-based-distributions , and are using ansible to manage your PPAs, keyrings, etc -- then you really don't appreciate what Microsoft is doing here. See https://github.com/microsoft/vscode/issues/22145 .

Here's a quick workaround for anyone stumbling over this that is managing `code` (vscode) installation on Linux using ansible; Should be portable to other toolchains as well.

```
- name: Disable automatic Microsoft repository configuration for vscode
  become: yes
  ansible.builtin.debconf:
    name: code
    question: code/add-microsoft-repo
    value: 'false'
    vtype: boolean
```
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debconf_module.html

(I created a NEW issue because all the prior ones related are LOCKED)","ansible workaround for Microsoft's aggressive repo management (users to opt-out of apt repository install) If you want to follow https://code.visualstudio.com/docs/setup/linux#_debian-and-ubuntu-based-distributions , and are using ansible to manage your PPAs, keyrings, etc -- then you really don't appreciate what Microsoft is doing here. See https://github.com/microsoft/vscode/issues/22145 .

Here's a quick workaround for anyone stumbling over this that is managing `code` (vscode) installation on Linux using ansible; Should be portable to other toolchains as well.

```
- name: Disable automatic Microsoft repository configuration for vscode
  become: yes
  ansible.builtin.debconf:
    name: code
    question: code/add-microsoft-repo
    value: 'false'
    vtype: boolean
```
https://docs.ansible.com/ansible/latest/collections/ansible/builtin/debconf_module.html

(I created a NEW issue because all the prior ones related are LOCKED)",benibenj,2025-10-10T02:54:44+00:00,triage-needed,benibenj
microsoft_vscode,> ## Dev container specification FAQ,"> ## Dev container specification FAQ
> **1. Is there support for port forwarding? Can it be contributed?**
> 
> The specification includes port attributes, but the reference implementation (dev container CLI) does not include port forwarding support. There is an open issue where we’ll track adding port forwarding to the reference implementation: [devcontainers/cli#22](https://github.com/devcontainers/cli/issues/22).
> 
> **2. Is there support for provisioning VS Code Server in the dev container?**
> 
> There is not currently support for provisioning the server.
> 
> **3. How do “Features” relate to the spec – are they part of the spec? Are they supported by the dev container CLI?**
> 
> Dev container features provide a smooth path for customizing your container definitions. A feature is a script to customize your dev container configuration, such as installing Git or the Azure CLI.
> 
> Features provided by the specification are in https://github.com/devcontainers/features. Features are supported by the CLI.
> 
> There is an in-flight PR to define features in the spec: #27.
> 
> You may also review an example template repo for configuring a feature in [this template repo](https://github.com/microsoft/dev-container-features-template).
> 
> **4. What is the governance model for the spec?**
> 
> We have information on how to contribute to the [dev container CLI](https://github.com/devcontainers/cli/blob/main/CONTRIBUTING.md) and the [overall spec](https://github.com/devcontainers/spec/blob/main/contributing.md).
> 
> **5. Where can I provide feedback or learn more about the spec?**
> 
> Please feel free to open an issue in this repo or other repos in the [`devcontainers` org](https://github.com/devcontainers). We've also enabled [GitHub discussions](https://github.com/devcontainers/spec/discussions) in this repo, which is an excellent forum to interact with our development team and the community.



_Originally posted by @Jordanwaslistening in https://github.com/devcontainers/spec/issues/31#issuecomment-1732398777_","> ## Dev container specification FAQ > ## Dev container specification FAQ
> **1. Is there support for port forwarding? Can it be contributed?**
> 
> The specification includes port attributes, but the reference implementation (dev container CLI) does not include port forwarding support. There is an open issue where we’ll track adding port forwarding to the reference implementation: [devcontainers/cli#22](https://github.com/devcontainers/cli/issues/22).
> 
> **2. Is there support for provisioning VS Code Server in the dev container?**
> 
> There is not currently support for provisioning the server.
> 
> **3. How do “Features” relate to the spec – are they part of the spec? Are they supported by the dev container CLI?**
> 
> Dev container features provide a smooth path for customizing your container definitions. A feature is a script to customize your dev container configuration, such as installing Git or the Azure CLI.
> 
> Features provided by the specification are in https://github.com/devcontainers/features. Features are supported by the CLI.
> 
> There is an in-flight PR to define features in the spec: #27.
> 
> You may also review an example template repo for configuring a feature in [this template repo](https://github.com/microsoft/dev-container-features-template).
> 
> **4. What is the governance model for the spec?**
> 
> We have information on how to contribute to the [dev container CLI](https://github.com/devcontainers/cli/blob/main/CONTRIBUTING.md) and the [overall spec](https://github.com/devcontainers/spec/blob/main/contributing.md).
> 
> **5. Where can I provide feedback or learn more about the spec?**
> 
> Please feel free to open an issue in this repo or other repos in the [`devcontainers` org](https://github.com/devcontainers). We've also enabled [GitHub discussions](https://github.com/devcontainers/spec/discussions) in this repo, which is an excellent forum to interact with our development team and the community.



_Originally posted by @Jordanwaslistening in https://github.com/devcontainers/spec/issues/31#issuecomment-1732398777_",alexr00,2025-10-10T02:32:08+00:00,,alexr00
microsoft_vscode,Did not make any changes to the code,"
Type: <b>Bug</b>

Context:
fig = px.line(x=perplexity, y=divergence, markers=True)
fig.update_layout(xaxis_title=""Perplexity Values"", yaxis_title=""Divergence"")
fig.update_traces(line_color=""red"", line_width=1)
fig.show()

Prompt: 
update for matplot

Extension version: 0.31.5
VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin arm64 25.0.0
Modes:


<!-- generated by issue reporter -->","Did not make any changes to the code 
Type: <b>Bug</b>

Context:
fig = px.line(x=perplexity, y=divergence, markers=True)
fig.update_layout(xaxis_title=""Perplexity Values"", yaxis_title=""Divergence"")
fig.update_traces(line_color=""red"", line_width=1)
fig.show()

Prompt: 
update for matplot

Extension version: 0.31.5
VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin arm64 25.0.0
Modes:


<!-- generated by issue reporter -->",ulugbekna,2025-10-10T00:52:13+00:00,triage-needed,ulugbekna
microsoft_vscode,GitHub Copilot Race Condition: Initial response ignores copilot.prompt context,"<!-- Please search existing issues to avoid creating duplicates -->
<!-- Please attach logs to help us diagnose your issue -->

- Copilot Chat Extension Version: 0.32.0
- Copliot Extension Version: 1.378.1798
- VS Code Version: 1.105.0
- OS Version: macOS Tahoe Version 26.1 Beta (25B5057f)
- Feature (e.g. agent/edit/ask mode): agent
- Selected model (e.g. GPT 4.1, Claude 3.7 Sonnet): All default free models and gemini 2.5 pro
- Logs: [vscode logs 20251009T181814.zip](https://github.com/user-attachments/files/22819226/vscode.logs.20251009T181814.zip)

Description:

There appears to be a race condition during the initialization of a new chat session with GitHub Copilot. The AI's first response to a prompt is often generated before it has fully processed the contextual instructions provided in the copilot.prompt file.

Steps to Reproduce:

Create a new workspace.
Create a copilot.prompt file.
In the prompt file, add a directive that should fundamentally change the AI's first response (e.g., ""Your first action must be to read the AI_RULES.md file and confirm you have done so."").
Start a new chat session with a simple, open-ended prompt like ""can you help me out"".
Expected Behavior:

Copilot's very first response should follow the instructions from copilot.prompt without needing to be reminded.

Actual Behavior:

Copilot gives a generic, conversational response, ignoring the prompt file. It only acknowledges the instructions after being explicitly told to read the file.

Suspected Cause:

This seems to be a race condition where the natural language processing task for the user's prompt completes before the parallel task of scanning the workspace for contextual files has finished. The system prioritizes response speed over initial context ingestion.
","GitHub Copilot Race Condition: Initial response ignores copilot.prompt context <!-- Please search existing issues to avoid creating duplicates -->
<!-- Please attach logs to help us diagnose your issue -->

- Copilot Chat Extension Version: 0.32.0
- Copliot Extension Version: 1.378.1798
- VS Code Version: 1.105.0
- OS Version: macOS Tahoe Version 26.1 Beta (25B5057f)
- Feature (e.g. agent/edit/ask mode): agent
- Selected model (e.g. GPT 4.1, Claude 3.7 Sonnet): All default free models and gemini 2.5 pro
- Logs: [vscode logs 20251009T181814.zip](https://github.com/user-attachments/files/22819226/vscode.logs.20251009T181814.zip)

Description:

There appears to be a race condition during the initialization of a new chat session with GitHub Copilot. The AI's first response to a prompt is often generated before it has fully processed the contextual instructions provided in the copilot.prompt file.

Steps to Reproduce:

Create a new workspace.
Create a copilot.prompt file.
In the prompt file, add a directive that should fundamentally change the AI's first response (e.g., ""Your first action must be to read the AI_RULES.md file and confirm you have done so."").
Start a new chat session with a simple, open-ended prompt like ""can you help me out"".
Expected Behavior:

Copilot's very first response should follow the instructions from copilot.prompt without needing to be reminded.

Actual Behavior:

Copilot gives a generic, conversational response, ignoring the prompt file. It only acknowledges the instructions after being explicitly told to read the file.

Suspected Cause:

This seems to be a race condition where the natural language processing task for the user's prompt completes before the parallel task of scanning the workspace for contextual files has finished. The system prioritizes response speed over initial context ingestion.
",aeschli,2025-10-10T00:22:11+00:00,"triage-needed, new release",aeschli
microsoft_vscode,Infinite spinner when fetching issues in GHPR,"<img width=""522"" height=""206"" alt=""Image"" src=""https://github.com/user-attachments/assets/fbe6c730-a255-486d-83fb-e771afb5a319"" />

When looking at the `GitHub Pull Request` output log, I don't see anything relevant, only `CopilotRemoteAgentManager` tasks.

```
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:45.787 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:50.544 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:54.806 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:10:58.884 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:11:03.013 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Streamed content (markdown or tool parts), progress should be cleared
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Content was streamed, resetting hasActiveProgress to false
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Showing progress indicator (hasActiveProgress was false)
```","Infinite spinner when fetching issues in GHPR <img width=""522"" height=""206"" alt=""Image"" src=""https://github.com/user-attachments/assets/fbe6c730-a255-486d-83fb-e771afb5a319"" />

When looking at the `GitHub Pull Request` output log, I don't see anything relevant, only `CopilotRemoteAgentManager` tasks.

```
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:45.787 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:45.787 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:50.544 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:50.544 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:54.806 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:10:58.884 [error] [CopilotRemoteAgentManager] Error streaming new log content: TypeError: R.choices is not iterable
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] No content was streamed, keeping hasActiveProgress as true
2025-10-09 18:10:58.884 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:11:03.013 [info] [CopilotRemoteAgentManager] NOT showing progress indicator (hasActiveProgress was true)
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] New logs detected, attempting to stream content
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Streaming finish_reason: tool_calls
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Streamed content (markdown or tool parts), progress should be cleared
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Content was streamed, resetting hasActiveProgress to false
2025-10-09 18:11:07.203 [info] [CopilotRemoteAgentManager] Showing progress indicator (hasActiveProgress was false)
```",alexr00,2025-10-10T00:11:43+00:00,,alexr00
microsoft_vscode,No ability to clear all chat history from Sessions,"<img width=""587"" height=""424"" alt=""Image"" src=""https://github.com/user-attachments/assets/7a063c3f-1aca-401c-a1c8-830afec8b7fd"" />

I can manually delete each chat, but don't see a way to clear all local history.","No ability to clear all chat history from Sessions <img width=""587"" height=""424"" alt=""Image"" src=""https://github.com/user-attachments/assets/7a063c3f-1aca-401c-a1c8-830afec8b7fd"" />

I can manually delete each chat, but don't see a way to clear all local history.",rebornix,2025-10-10T00:08:08+00:00,,rebornix
microsoft_vscode,No ability to clear local chat when started from secondary side bar in Sessions,"<img width=""660"" height=""615"" alt=""Image"" src=""https://github.com/user-attachments/assets/4f9c3cb6-d14b-4487-9f80-4009ab529271"" />

Repro:

1. Start chat in secondary side bar
2. Agent completes
3. Open Chat Sessions
4. Chat still shows as active in Chat Sessions view

To fix,  you must open secondary side bar again and start a new chat.","No ability to clear local chat when started from secondary side bar in Sessions <img width=""660"" height=""615"" alt=""Image"" src=""https://github.com/user-attachments/assets/4f9c3cb6-d14b-4487-9f80-4009ab529271"" />

Repro:

1. Start chat in secondary side bar
2. Agent completes
3. Open Chat Sessions
4. Chat still shows as active in Chat Sessions view

To fix,  you must open secondary side bar again and start a new chat.",rebornix,2025-10-10T00:07:16+00:00,,rebornix
microsoft_vscode,No way in the UI to delete a Git worktree,"<img width=""794"" height=""413"" alt=""Image"" src=""https://github.com/user-attachments/assets/a1dd02dd-dd37-47bc-b63c-b7fb5bc4ec2f"" />

I tried clicking the ... but didn't see the option to 
","No way in the UI to delete a Git worktree <img width=""794"" height=""413"" alt=""Image"" src=""https://github.com/user-attachments/assets/a1dd02dd-dd37-47bc-b63c-b7fb5bc4ec2f"" />

I tried clicking the ... but didn't see the option to 
",lszomoru,2025-10-09T23:49:53+00:00,,lszomoru
microsoft_vscode,Enable model-specific tool descriptions,"Today, tool descriptions are static. I would like to be able to override them per-model. Here's how that could work

- The `ICopilotTool` interface has some custom logic for individual tools that doesn't fit into the tool extension API (including `alternativeDefinition` which is simliar to what we want but not model-specific
- We pass the current model to that method
- The method `getEnabledTools` is the root of what determines which tools are used in a call to the agent https://github.com/microsoft/vscode-copilot-chat/blob/e7a7e605962730503f2428e6b58f8b4c7df5392c/src/extension/tools/common/toolsService.ts#L70
- That method needs to get the set of tools customized for the current model","Enable model-specific tool descriptions Today, tool descriptions are static. I would like to be able to override them per-model. Here's how that could work

- The `ICopilotTool` interface has some custom logic for individual tools that doesn't fit into the tool extension API (including `alternativeDefinition` which is simliar to what we want but not model-specific
- We pass the current model to that method
- The method `getEnabledTools` is the root of what determines which tools are used in a call to the agent https://github.com/microsoft/vscode-copilot-chat/blob/e7a7e605962730503f2428e6b58f8b4c7df5392c/src/extension/tools/common/toolsService.ts#L70
- That method needs to get the set of tools customized for the current model",bryanchen-d,2025-10-09T22:50:21+00:00,"feature-request, chat",bryanchen-d
microsoft_vscode,Enable keyboard shortcuts for custom chat modes,"I should be able to set a keyboard shortcut for custom chat modes. I can do it for the builtin modes with these commands


<img width=""512"" height=""52"" alt=""Image"" src=""https://github.com/user-attachments/assets/321ef6f7-c9fb-4ee8-a4d5-095300bc03db"" />

<img width=""260"" height=""92"" alt=""Image"" src=""https://github.com/user-attachments/assets/8335a88b-c17b-499d-ba61-231588731c90"" />

But we don't register these for custom modes

We register these actions for builtin modes here: https://github.com/microsoft/vscode/blob/46b60ac2ce4fce4eab4f45d488b1b0942d5a0427/src/vs/workbench/contrib/chat/browser/actions/chatActions.ts#L444-L447

I think it needs to work differently for custom modes because they are dynamic. I think that the ChatModeService should handle dynamically registering actions for custom modes when they are discovered.

https://github.com/microsoft/vscode/blob/46b60ac2ce4fce4eab4f45d488b1b0942d5a0427/src/vs/workbench/contrib/chat/common/chatModes.ts#L33

As a starting point, we can just register the commands so people can customize the shortcuts in the keyboard shortcuts editor. As a next step, we could figure out the UX to make it easy to discover from the ""Manage Mode"" command","Enable keyboard shortcuts for custom chat modes I should be able to set a keyboard shortcut for custom chat modes. I can do it for the builtin modes with these commands


<img width=""512"" height=""52"" alt=""Image"" src=""https://github.com/user-attachments/assets/321ef6f7-c9fb-4ee8-a4d5-095300bc03db"" />

<img width=""260"" height=""92"" alt=""Image"" src=""https://github.com/user-attachments/assets/8335a88b-c17b-499d-ba61-231588731c90"" />

But we don't register these for custom modes

We register these actions for builtin modes here: https://github.com/microsoft/vscode/blob/46b60ac2ce4fce4eab4f45d488b1b0942d5a0427/src/vs/workbench/contrib/chat/browser/actions/chatActions.ts#L444-L447

I think it needs to work differently for custom modes because they are dynamic. I think that the ChatModeService should handle dynamically registering actions for custom modes when they are discovered.

https://github.com/microsoft/vscode/blob/46b60ac2ce4fce4eab4f45d488b1b0942d5a0427/src/vs/workbench/contrib/chat/common/chatModes.ts#L33

As a starting point, we can just register the commands so people can customize the shortcuts in the keyboard shortcuts editor. As a next step, we could figure out the UX to make it easy to discover from the ""Manage Mode"" command",bryanchen-d,2025-10-09T22:46:42+00:00,"feature-request, chat",bryanchen-d
microsoft_vscode,testing path,"
Type: <b>Bug</b>

 $PROFILE; Test-Path ""$env:APPDATA\Code\User\globalStorage\github.copilot-chat\debugCommand\copilot-debug.ps1"" in the chat it says  Enable shell integration to improve command detection github is attempting to fix it when it got to this point it then it seems to freeze so i stoped and continued asking it about my project

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 7 7800X3D 8-Core Processor            (16 x 4200)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.15GB (11.70GB free)|
|Process Argv|C:\\Users\\mrsim\\Downloads\\config-1760043625240.json --crash-reporter-id 8c7cdaca-aeb2-4427-a2d6-120550115a4a|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
nes-set-on:31351930
6abeh943:31336334
ovs_pri_t:31398872
aa_c:31379599
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->","testing path 
Type: <b>Bug</b>

 $PROFILE; Test-Path ""$env:APPDATA\Code\User\globalStorage\github.copilot-chat\debugCommand\copilot-debug.ps1"" in the chat it says  Enable shell integration to improve command detection github is attempting to fix it when it got to this point it then it seems to freeze so i stoped and continued asking it about my project

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 7 7800X3D 8-Core Processor            (16 x 4200)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.15GB (11.70GB free)|
|Process Argv|C:\\Users\\mrsim\\Downloads\\config-1760043625240.json --crash-reporter-id 8c7cdaca-aeb2-4427-a2d6-120550115a4a|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
agentisdefault:31399626
nes-set-on:31351930
6abeh943:31336334
ovs_pri_t:31398872
aa_c:31379599
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
applesignin:31399435
9i271672:31399627
nes-subseq-delay-300:31399374

```

</details>

<!-- generated by issue reporter -->",anthonykim1,2025-10-09T22:27:38+00:00,,anthonykim1
microsoft_vscode,Keyboard shortcut strings are sometimes formatted strangely in Copilot responses,"<!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: N/A (needs GitHub Copilot extension)

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 1.106.0-insider (Universal)
- OS Version: macOS Sequoia 15.7.1

Steps to Reproduce:

1. Ask Copilot to tell you the keyboard shortcut of a certain command
2. Then, notice how it formats the keyboard shortcut strings:

Sometimes, Copilot will output the shortcut as a Markdown code span (with backtick, like so: `⇧⌥F`), which looks very strange and buggy because of the different sizes and font weights of the displayed unicode glyphs:
<img width=""262"" height=""60"" alt=""Image"" src=""https://github.com/user-attachments/assets/a5c9d60c-3691-4c9e-994f-359a8af3b7da"" />

Other times, it will be displayed within a Markdown bold span (with ""**"", like so: **⇧⌥F**), where the glyphs look much nicer with equal size and font weight.:
<img width=""247"" height=""51"" alt=""Image"" src=""https://github.com/user-attachments/assets/df11ad3a-08ca-41eb-b3f2-9d6d050292f2"" />

Another possibility is that Copilot could use the [kbd HTML tag](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/kbd) (Like so: <kbd>⇧</kbd> + <kbd>⌥</kbd> + <kbd>F</kbd>, although note that here on GitHub, GitHub seems to also be formatting the ⇧ and ⌥ characters inside of kbd tag in a strange way).

<img width=""278"" height=""83"" alt=""Image"" src=""https://github.com/user-attachments/assets/38058c78-be16-4e90-96bf-366da364984a"" />

If the kbd HTML tag were to be used, it should be noted that the Copilot output isn't able to handle those tags at the moment:

<img width=""568"" height=""475"" alt=""Image"" src=""https://github.com/user-attachments/assets/7b0574dc-8857-4f62-9ba4-2777c3bdd5ee"" />","Keyboard shortcut strings are sometimes formatted strangely in Copilot responses <!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: N/A (needs GitHub Copilot extension)

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 1.106.0-insider (Universal)
- OS Version: macOS Sequoia 15.7.1

Steps to Reproduce:

1. Ask Copilot to tell you the keyboard shortcut of a certain command
2. Then, notice how it formats the keyboard shortcut strings:

Sometimes, Copilot will output the shortcut as a Markdown code span (with backtick, like so: `⇧⌥F`), which looks very strange and buggy because of the different sizes and font weights of the displayed unicode glyphs:
<img width=""262"" height=""60"" alt=""Image"" src=""https://github.com/user-attachments/assets/a5c9d60c-3691-4c9e-994f-359a8af3b7da"" />

Other times, it will be displayed within a Markdown bold span (with ""**"", like so: **⇧⌥F**), where the glyphs look much nicer with equal size and font weight.:
<img width=""247"" height=""51"" alt=""Image"" src=""https://github.com/user-attachments/assets/df11ad3a-08ca-41eb-b3f2-9d6d050292f2"" />

Another possibility is that Copilot could use the [kbd HTML tag](https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Elements/kbd) (Like so: <kbd>⇧</kbd> + <kbd>⌥</kbd> + <kbd>F</kbd>, although note that here on GitHub, GitHub seems to also be formatting the ⇧ and ⌥ characters inside of kbd tag in a strange way).

<img width=""278"" height=""83"" alt=""Image"" src=""https://github.com/user-attachments/assets/38058c78-be16-4e90-96bf-366da364984a"" />

If the kbd HTML tag were to be used, it should be noted that the Copilot output isn't able to handle those tags at the moment:

<img width=""568"" height=""475"" alt=""Image"" src=""https://github.com/user-attachments/assets/7b0574dc-8857-4f62-9ba4-2777c3bdd5ee"" />",bhavyaus,2025-10-09T21:56:35+00:00,,bhavyaus
microsoft_vscode,Documentation/settings: Differentiation between next edit suggestion & inline completion is indistinct,"
Type: <b>Bug</b>

The inline suggestions are *very* distracting to me when editing code, I prefer to have them on demand rather than automatically suggest-inserted in the editor.

The settings are unclear exactly how completions differ from next edit suggestions, and the setting to completely disable inline completion is keyd on file selection/filtering, rather than a simple on off switch.  A checkbox to wholesale disable automatic completions would be a very welcome change.

Extension version: 1.372.0
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 6.14.0-1013-oem
Modes:

## Copilot Completion Feedback
### Describe the issue, feedback, or steps to reproduce it:


### Completion text:
Irrelevant

<details>
<summary>Diagnostics</summary>

## Copilot Extension

- Version: 1.372.0
- Editor: Visual Studio Code 1.104.3
- Header Request ID: 5ed9d717-6684-49a8-bacc-eb37a02513ad
- Choice Index: 0
- Opportunity ID: icr-9b09c9b0-a019-4758-bc46-5d58b41bd2f1
- Client Completion ID: 13356187-eddd-4c68-9778-ddfbeecef6ed
- Model ID: gpt-41-copilot
- A/B Experiment Info: vsliv368cf:30146710;binariesv615:30325510;gh-qwen25-edits-001:31396093;bajee813:31263137;copilot_t_ci:31333650;cp15660_t:31346274;usemplatestapi:31297334;aj953862:31281341;qwerwtrweqty:31329306;b6b4d950:31327385;aa_cpt_c:31332559;nes-set-on:31340697;6abeh943:31336334;ovs_sec_t:31398873;0cj2b977:31352657;asdad-cf:31397862;todos-1:31390405;v66_all_req:31398803;treatment_gpt5applypatchexclusively:31398171;3efgi100_wstrepl:31382709;trigger-command-fix:31379601;auto_model_enabled:31385282;copilot-gpt-5-mini:31396488;defaultsignin:31399436;


</details>
<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 265U (14 x 2799)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|2, 1, 1|
|Memory (System)|62.26GB (52.74GB free)|
|Process Argv|--crash-reporter-id c0386725-b11f-4612-a9ac-f55b8ef88782|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
bajee813:31263137
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
6gi0g917:31259952
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
b6b4d950:31327385
nes-set-on:31340697
6abeh943:31336334
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
asdad-cf:31397862
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31396818
use-responses-api:31390855
copilot-gpt-5-mini:31396488
defaultsignin:31399436

```

</details>

<!-- generated by issue reporter -->","Documentation/settings: Differentiation between next edit suggestion & inline completion is indistinct 
Type: <b>Bug</b>

The inline suggestions are *very* distracting to me when editing code, I prefer to have them on demand rather than automatically suggest-inserted in the editor.

The settings are unclear exactly how completions differ from next edit suggestions, and the setting to completely disable inline completion is keyd on file selection/filtering, rather than a simple on off switch.  A checkbox to wholesale disable automatic completions would be a very welcome change.

Extension version: 1.372.0
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 6.14.0-1013-oem
Modes:

## Copilot Completion Feedback
### Describe the issue, feedback, or steps to reproduce it:


### Completion text:
Irrelevant

<details>
<summary>Diagnostics</summary>

## Copilot Extension

- Version: 1.372.0
- Editor: Visual Studio Code 1.104.3
- Header Request ID: 5ed9d717-6684-49a8-bacc-eb37a02513ad
- Choice Index: 0
- Opportunity ID: icr-9b09c9b0-a019-4758-bc46-5d58b41bd2f1
- Client Completion ID: 13356187-eddd-4c68-9778-ddfbeecef6ed
- Model ID: gpt-41-copilot
- A/B Experiment Info: vsliv368cf:30146710;binariesv615:30325510;gh-qwen25-edits-001:31396093;bajee813:31263137;copilot_t_ci:31333650;cp15660_t:31346274;usemplatestapi:31297334;aj953862:31281341;qwerwtrweqty:31329306;b6b4d950:31327385;aa_cpt_c:31332559;nes-set-on:31340697;6abeh943:31336334;ovs_sec_t:31398873;0cj2b977:31352657;asdad-cf:31397862;todos-1:31390405;v66_all_req:31398803;treatment_gpt5applypatchexclusively:31398171;3efgi100_wstrepl:31382709;trigger-command-fix:31379601;auto_model_enabled:31385282;copilot-gpt-5-mini:31396488;defaultsignin:31399436;


</details>
<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 265U (14 x 2799)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|2, 1, 1|
|Memory (System)|62.26GB (52.74GB free)|
|Process Argv|--crash-reporter-id c0386725-b11f-4612-a9ac-f55b8ef88782|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
bajee813:31263137
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
6gi0g917:31259952
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
b6b4d950:31327385
nes-set-on:31340697
6abeh943:31336334
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringt:31395207
asdad-cf:31397862
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31396818
use-responses-api:31390855
copilot-gpt-5-mini:31396488
defaultsignin:31399436

```

</details>

<!-- generated by issue reporter -->",minsa110,2025-10-09T20:33:24+00:00,,minsa110
microsoft_vscode,Nothing works,"
Type: <b>Bug</b>

Since 9am this morning copilot chat has failed to answer prompts correctly or execute prompts correctly. When it does attempt to modify a file it not showing me the diff (red lines, green lines) and it is not giving me the option to accept or undo any edits. 

When queried it will either say, ""Your right I didn't apply the changes,"" or ""You're right, I should have given you the option to accept or undo my work."" 

When it says that it didn't apply the changes, most likely it misapplied a prompt creating major issue in my code. 

All of this happens regardless of the model or mode used. It started today, has continued for the last 6 hours, and is still a problem

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 6.8.0-85-generic snap
Modes:

<details><summary>Logs</summary>
<pre>
Trace: choice {""delta"":{""content"":"" determine what exactly needs to be added.\n\n**"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":""What I need from you:**\nPlease tell me if"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" you want me to:\n1. Analyze"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" the existing file more carefully to see what's already there\n2."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" Show you only the specific additions"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" needed for Sub-Step 1."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":""1b\n3. Wait"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" for your approval before making any changes\n\nI"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" should not have provided a complete file replacement."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" That was my mistake."",""role"":""assistant""}}
Trace: choice {""finish_reason"":""stop"",""delta"":{""content"":null}}
Info: message 0 returned. finish reason: [stop]
Debug: message 0 details: finishOffset: [undefined] completionId: [{1ef3010e-a6dc-45b2-93c0-335556ea5d28}] created: [{1760036585}]
Info: request done: requestId: [e10758d3-4dec-4ae2-be33-4d3b62a522fc] model deployment ID: []
Info: ccreq:a8b8a051.copilotmd | success | claude-sonnet-4 | 14387ms | [panel/edit]
Trace: Resolving chat model
Trace: Resolved chat model
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] created
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] Return: no recent edit
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Trace: CodeSearchWorkspaceDiff: refreshing diff for file:///home/bjohn/cellscan
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: 0000000000000000000000000000000000000000.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: bad object 0000000000000000000000000000000000000000\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Falling back to diff against upstream.
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: @{upstream}.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: ambiguous argument '@{upstream}': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute any diff.
Trace: CodeSearchWorkspaceDiff::tryGetDiffedIndexedFiles() Got 0 initially changed files for file:///home/bjohn/cellscan
Error: CodeSearchWorkspaceDiff: Failed to get new diff for file:///home/bjohn/cellscan.
Trace: CodeSearchWorkspaceDiff: Refreshed all diffs. New local diffs count: 2
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: false.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Trace: CodeSearchRepoTracker.getRepoIndexStatusFromEndpoint(file:///home/bjohn/cellscan
Trace: GithubCodeSearchService::getRemoteIndexState(jgbotts/cellscan). Found indexed commit: 0000000000000000000000000000000000000000.
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Trace: CodeSearchWorkspaceDiff: refreshing diff for file:///home/bjohn/cellscan
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: 0000000000000000000000000000000000000000.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: bad object 0000000000000000000000000000000000000000\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Falling back to diff against upstream.
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: @{upstream}.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: ambiguous argument '@{upstream}': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute any diff.
Trace: CodeSearchWorkspaceDiff::tryGetDiffedIndexedFiles() Got 0 initially changed files for file:///home/bjohn/cellscan
Error: CodeSearchWorkspaceDiff: Failed to get new diff for file:///home/bjohn/cellscan.
Trace: CodeSearchWorkspaceDiff: Refreshed all diffs. New local diffs count: 2
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] created
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] Return: no recent edit
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
</pre>
</details>
<details><summary>Request IDs</summary>
<pre>
418646dd-39a2-4e7b-ac11-de029a8767d4
5367c3d1-58fa-48e0-bad7-e720e360fa61
46169839-0ef8-423d-9b90-be0f39a8dde1
1fce12a3-f4dc-405b-b7f3-1c13d324f818
4f347b85-5d8e-4878-bae5-0249d4d68853
096b7b75-1780-415a-bf7d-ef5ea6d6cb42
2ca41429-2680-416f-a383-a74142808957
a362fc83-f1d9-4d57-b126-b6f4fb3b9ac3
64b7d3b5-4ab0-4cea-8149-0453377fd8fd
0e82c160-e1b2-44b4-9db6-2d7f382e88cd
feb08218-be48-49d3-81b2-1a2e3b513898
0fbb7ab1-bfd6-4815-8605-06123d8cf8be
e2baa7e6-3766-4770-9321-95ada133c19d
299d3f4f-c561-4caa-bf00-5bf6a97e628a
d42320d2-a811-4b00-a966-42cf3ea1a65e
1eb46379-689d-476f-bee6-bb19b4516015
736ea7ff-a59b-414d-941e-5f557d27edba
e8859cf2-6ea7-4fab-b0f1-2cc84ee3fdb5
b079eb0e-9117-4908-aa39-32261d5302c5
e10758d3-4dec-4ae2-be33-4d3b62a522fc
</pre>
</details><details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-8665U CPU @ 1.90GHz (8 x 4199)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: disabled_off<br>webnn: unavailable_software|
|Load (avg)|1, 2, 2|
|Memory (System)|31.16GB (24.24GB free)|
|Process Argv|--no-sandbox --force-user-env --crash-reporter-id cdaf5d7f-dccc-454d-9a82-19bcd161a3ca|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
pythonvspyt551:31249599
binariesv615:30325510
nes-only-control-a100-test:31399365
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31340697
6abeh943:31336334
ovs_ter_t:31398874
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-0:31390406
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
control-c48h7192:31396906

```

</details>

<!-- generated by issue reporter -->","Nothing works 
Type: <b>Bug</b>

Since 9am this morning copilot chat has failed to answer prompts correctly or execute prompts correctly. When it does attempt to modify a file it not showing me the diff (red lines, green lines) and it is not giving me the option to accept or undo any edits. 

When queried it will either say, ""Your right I didn't apply the changes,"" or ""You're right, I should have given you the option to accept or undo my work."" 

When it says that it didn't apply the changes, most likely it misapplied a prompt creating major issue in my code. 

All of this happens regardless of the model or mode used. It started today, has continued for the last 6 hours, and is still a problem

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 6.8.0-85-generic snap
Modes:

<details><summary>Logs</summary>
<pre>
Trace: choice {""delta"":{""content"":"" determine what exactly needs to be added.\n\n**"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":""What I need from you:**\nPlease tell me if"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" you want me to:\n1. Analyze"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" the existing file more carefully to see what's already there\n2."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" Show you only the specific additions"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" needed for Sub-Step 1."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":""1b\n3. Wait"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" for your approval before making any changes\n\nI"",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" should not have provided a complete file replacement."",""role"":""assistant""}}
Trace: choice {""delta"":{""content"":"" That was my mistake."",""role"":""assistant""}}
Trace: choice {""finish_reason"":""stop"",""delta"":{""content"":null}}
Info: message 0 returned. finish reason: [stop]
Debug: message 0 details: finishOffset: [undefined] completionId: [{1ef3010e-a6dc-45b2-93c0-335556ea5d28}] created: [{1760036585}]
Info: request done: requestId: [e10758d3-4dec-4ae2-be33-4d3b62a522fc] model deployment ID: []
Info: ccreq:a8b8a051.copilotmd | success | claude-sonnet-4 | 14387ms | [panel/edit]
Trace: Resolving chat model
Trace: Resolved chat model
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] created
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] Return: no recent edit
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Trace: CodeSearchWorkspaceDiff: refreshing diff for file:///home/bjohn/cellscan
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: 0000000000000000000000000000000000000000.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: bad object 0000000000000000000000000000000000000000\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Falling back to diff against upstream.
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: @{upstream}.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: ambiguous argument '@{upstream}': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute any diff.
Trace: CodeSearchWorkspaceDiff::tryGetDiffedIndexedFiles() Got 0 initially changed files for file:///home/bjohn/cellscan
Error: CodeSearchWorkspaceDiff: Failed to get new diff for file:///home/bjohn/cellscan.
Trace: CodeSearchWorkspaceDiff: Refreshed all diffs. New local diffs count: 2
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: false.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Trace: CodeSearchRepoTracker.getRepoIndexStatusFromEndpoint(file:///home/bjohn/cellscan
Trace: GithubCodeSearchService::getRemoteIndexState(jgbotts/cellscan). Found indexed commit: 0000000000000000000000000000000000000000.
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Trace: CodeSearchWorkspaceDiff: refreshing diff for file:///home/bjohn/cellscan
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: 0000000000000000000000000000000000000000.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: bad object 0000000000000000000000000000000000000000\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Falling back to diff against upstream.
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute diff against: @{upstream}.Error: Failed to execute git {
  ""exitCode"": 128,
  ""gitCommand"": ""diff"",
  ""stdout"": """",
  ""stderr"": ""fatal: ambiguous argument '@{upstream}': unknown revision or path not in the working tree.\nUse '--' to separate paths from revisions, like this:\n'git <command> [<revision>...] -- [<file>...]'\n""
} 
Trace: CodeSearchRepoTracker.diffWithIndexedCommit(file:///home/bjohn/cellscan).Could not compute any diff.
Trace: CodeSearchWorkspaceDiff::tryGetDiffedIndexedFiles() Got 0 initially changed files for file:///home/bjohn/cellscan
Error: CodeSearchWorkspaceDiff: Failed to get new diff for file:///home/bjohn/cellscan.
Trace: CodeSearchWorkspaceDiff: Refreshed all diffs. New local diffs count: 2
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] created
Trace: [NES][Triggerer][onDidChangeTextEditorSelection] Return: no recent edit
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
</pre>
</details>
<details><summary>Request IDs</summary>
<pre>
418646dd-39a2-4e7b-ac11-de029a8767d4
5367c3d1-58fa-48e0-bad7-e720e360fa61
46169839-0ef8-423d-9b90-be0f39a8dde1
1fce12a3-f4dc-405b-b7f3-1c13d324f818
4f347b85-5d8e-4878-bae5-0249d4d68853
096b7b75-1780-415a-bf7d-ef5ea6d6cb42
2ca41429-2680-416f-a383-a74142808957
a362fc83-f1d9-4d57-b126-b6f4fb3b9ac3
64b7d3b5-4ab0-4cea-8149-0453377fd8fd
0e82c160-e1b2-44b4-9db6-2d7f382e88cd
feb08218-be48-49d3-81b2-1a2e3b513898
0fbb7ab1-bfd6-4815-8605-06123d8cf8be
e2baa7e6-3766-4770-9321-95ada133c19d
299d3f4f-c561-4caa-bf00-5bf6a97e628a
d42320d2-a811-4b00-a966-42cf3ea1a65e
1eb46379-689d-476f-bee6-bb19b4516015
736ea7ff-a59b-414d-941e-5f557d27edba
e8859cf2-6ea7-4fab-b0f1-2cc84ee3fdb5
b079eb0e-9117-4908-aa39-32261d5302c5
e10758d3-4dec-4ae2-be33-4d3b62a522fc
</pre>
</details><details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-8665U CPU @ 1.90GHz (8 x 4199)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: disabled_off<br>webnn: unavailable_software|
|Load (avg)|1, 2, 2|
|Memory (System)|31.16GB (24.24GB free)|
|Process Argv|--no-sandbox --force-user-env --crash-reporter-id cdaf5d7f-dccc-454d-9a82-19bcd161a3ca|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|ubuntu|
|XDG_CURRENT_DESKTOP|Unity|
|XDG_SESSION_DESKTOP|ubuntu|
|XDG_SESSION_TYPE|wayland|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
pythonvspyt551:31249599
binariesv615:30325510
nes-only-control-a100-test:31399365
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31340697
6abeh943:31336334
ovs_ter_t:31398874
0cj2b977:31352657
gendocstringf:31395206
0574c672:31362109
cloudbuttont:31379625
todos-0:31390406
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
control-c48h7192:31396906

```

</details>

<!-- generated by issue reporter -->",jrieken,2025-10-09T19:13:59+00:00,,jrieken
microsoft_vscode,"Add ""apply changes"" button to Chats when worktree is used","Steps to Reproduce:

1. Create a new Chat, and ask Chat to create a worktree.
2. Ask Chat to make changes in that worktree.

<img width=""1469"" height=""601"" alt=""Image"" src=""https://github.com/user-attachments/assets/04c3c55b-90a6-449f-8c91-f51410228bd0"" />

I really like the experience that coding agent has to ""apply changes"" to my current branch in the case where I have parallel chats + worktrees, but perhaps this is a bad pattern to encourage and I should always be merging my worktree manually with my branch.","Add ""apply changes"" button to Chats when worktree is used Steps to Reproduce:

1. Create a new Chat, and ask Chat to create a worktree.
2. Ask Chat to make changes in that worktree.

<img width=""1469"" height=""601"" alt=""Image"" src=""https://github.com/user-attachments/assets/04c3c55b-90a6-449f-8c91-f51410228bd0"" />

I really like the experience that coding agent has to ""apply changes"" to my current branch in the case where I have parallel chats + worktrees, but perhaps this is a bad pattern to encourage and I should always be merging my worktree manually with my branch.",lszomoru,2025-10-09T19:08:37+00:00,,lszomoru
microsoft_vscode,Git worktrees integration in Chat,"Scenario: I have a branch open in VS Code. I am partnering with the local agent to implement a task, and want to start on another task.

Steps to Reproduce:

1. Open Chat Sessions view, and create a new Chat.
2. Prompt that you want to implement a new feature, and that we should create a new Git worktree for this feature (as there is no UI gesture today).
3. The Git worktree is created successfully with terminal and Git commands, and shows in the SCM view within VS Code.

Problems:

1. Sensitive Files: Because Chat tries to edit outside the current workspace, the sensitive files UX shows up.

<img width=""1728"" height=""1147"" alt=""Image"" src=""https://github.com/user-attachments/assets/0291a65d-7ce8-4abd-bd2f-d916d66b8b83"" />

2. Native tools break, because they depend on the current workspace. For instance, grep in terminal is used over native VS Code tools:

<img width=""1363"" height=""182"" alt=""Image"" src=""https://github.com/user-attachments/assets/b664d9d8-e6ab-4c95-9a79-8593a8eebf6c"" />

3. CWD breakage: Because our system prompt includes the directory of the open workspace, the Terminal tool often picks the wrong directory to execute commands.
<img width=""2092"" height=""660"" alt=""Image"" src=""https://github.com/user-attachments/assets/62b2e915-56f2-48ab-aed8-098ca25f22f3"" />

Potential Resolution: I considered creating a new VS Code workspace and adding my worktrees to it, but this has two problems:

1. I don't really want to have a massive workspace with infinite amount of Git worktrees.
2. I would have to reload VS Code to select the new workspace which would break my current ongoing Chats.
","Git worktrees integration in Chat Scenario: I have a branch open in VS Code. I am partnering with the local agent to implement a task, and want to start on another task.

Steps to Reproduce:

1. Open Chat Sessions view, and create a new Chat.
2. Prompt that you want to implement a new feature, and that we should create a new Git worktree for this feature (as there is no UI gesture today).
3. The Git worktree is created successfully with terminal and Git commands, and shows in the SCM view within VS Code.

Problems:

1. Sensitive Files: Because Chat tries to edit outside the current workspace, the sensitive files UX shows up.

<img width=""1728"" height=""1147"" alt=""Image"" src=""https://github.com/user-attachments/assets/0291a65d-7ce8-4abd-bd2f-d916d66b8b83"" />

2. Native tools break, because they depend on the current workspace. For instance, grep in terminal is used over native VS Code tools:

<img width=""1363"" height=""182"" alt=""Image"" src=""https://github.com/user-attachments/assets/b664d9d8-e6ab-4c95-9a79-8593a8eebf6c"" />

3. CWD breakage: Because our system prompt includes the directory of the open workspace, the Terminal tool often picks the wrong directory to execute commands.
<img width=""2092"" height=""660"" alt=""Image"" src=""https://github.com/user-attachments/assets/62b2e915-56f2-48ab-aed8-098ca25f22f3"" />

Potential Resolution: I considered creating a new VS Code workspace and adding my worktrees to it, but this has two problems:

1. I don't really want to have a massive workspace with infinite amount of Git worktrees.
2. I would have to reload VS Code to select the new workspace which would break my current ongoing Chats.
",lszomoru,2025-10-09T19:05:59+00:00,,lszomoru
microsoft_vscode,Nested AGENTS.md,"
Type: <b>Feature Request</b>

I'm not sure how to classify this, but I'm curious how the nested AGENTS.md from the latest release is supposed to work. We have a monorepo and my hope was that I could do the following:

- Applications (base of the mono repo)
    - Backend
        - Agents.md
    -  Frontend
        - Agents.md

And then open ""Applications"" in VS Code and have Agents.md under Backend kick in if I modify a file from that directory. Sometimes I like to work from the root of the monorepo because it allows me to perform changes to the backend and frontend at the same time in a single prompt (eg: creating a new API endpoint on the backend and adding the appropriate data service and model on the frontend).

Unfortunately this didn't work as expected. If I engage with a file from one of those nested directories while working from the Applications directory, the AGENTS.md is not added as a reference. If I open one of those directories directly within VS Code and interact with a file, the corresponding AGENTS.md is added as a reference as expected, but that's how it worked before the update as well.

Right now we're using path constrained copilot-instructions.md files in the root of the monorepo that act as ""pointers"" to the application level instruction files, which feels kind of clunky.

I do have the experimental setting enabled:

<img width=""358"" height=""33"" alt=""Image"" src=""https://github.com/user-attachments/assets/de521685-06eb-4175-9636-d4ec3ee7dd9b"" />

Asking about a file from ""Nova"" from the Applications directory:

<img width=""399"" height=""110"" alt=""Image"" src=""https://github.com/user-attachments/assets/c40196a4-055e-4d4d-9543-fa0a6b30285a"" />

Doing the same from the Nova directory:

<img width=""402"" height=""152"" alt=""Image"" src=""https://github.com/user-attachments/assets/9fe87755-8496-4b36-8d6c-13c6b05abebe"" />

It's very likely I'm misunderstanding the feature, but the situation I'm describing is how I'd like it to / expect it to work based on the description, at least.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.22621
Modes:


<!-- generated by issue reporter -->","Nested AGENTS.md 
Type: <b>Feature Request</b>

I'm not sure how to classify this, but I'm curious how the nested AGENTS.md from the latest release is supposed to work. We have a monorepo and my hope was that I could do the following:

- Applications (base of the mono repo)
    - Backend
        - Agents.md
    -  Frontend
        - Agents.md

And then open ""Applications"" in VS Code and have Agents.md under Backend kick in if I modify a file from that directory. Sometimes I like to work from the root of the monorepo because it allows me to perform changes to the backend and frontend at the same time in a single prompt (eg: creating a new API endpoint on the backend and adding the appropriate data service and model on the frontend).

Unfortunately this didn't work as expected. If I engage with a file from one of those nested directories while working from the Applications directory, the AGENTS.md is not added as a reference. If I open one of those directories directly within VS Code and interact with a file, the corresponding AGENTS.md is added as a reference as expected, but that's how it worked before the update as well.

Right now we're using path constrained copilot-instructions.md files in the root of the monorepo that act as ""pointers"" to the application level instruction files, which feels kind of clunky.

I do have the experimental setting enabled:

<img width=""358"" height=""33"" alt=""Image"" src=""https://github.com/user-attachments/assets/de521685-06eb-4175-9636-d4ec3ee7dd9b"" />

Asking about a file from ""Nova"" from the Applications directory:

<img width=""399"" height=""110"" alt=""Image"" src=""https://github.com/user-attachments/assets/c40196a4-055e-4d4d-9543-fa0a6b30285a"" />

Doing the same from the Nova directory:

<img width=""402"" height=""152"" alt=""Image"" src=""https://github.com/user-attachments/assets/9fe87755-8496-4b36-8d6c-13c6b05abebe"" />

It's very likely I'm misunderstanding the feature, but the situation I'm describing is how I'd like it to / expect it to work based on the description, at least.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Windows_NT x64 10.0.22621
Modes:


<!-- generated by issue reporter -->",aeschli,2025-10-09T18:54:12+00:00,"triage-needed, new release",aeschli
microsoft_vscode,VS Code looks for local paths during remote sessions,"
Type: <b>Bug</b>

I'm getting this error when running via SSH:

direnv error: /home/linuxbrew/.linuxbrew/bin/direnv: command not found

This is the path specified on my local machine. VS Code should not be referencing local preferences during remote sessions.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Linux x64 6.16.7-200.fc42.x86_64
Modes:
Remote OS version: Linux x64 6.8.0-40-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 7 7840U w/ Radeon  780M Graphics (16 x 1925)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|1, 1, 0|
|Memory (System)|60.62GB (52.84GB free)|
|Process Argv|--crash-reporter-id 6d3cff4a-c533-4ab8-be24-72fb8b8d70ec|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|gnome|
|XDG_CURRENT_DESKTOP|GNOME|
|XDG_SESSION_DESKTOP|gnome|
|XDG_SESSION_TYPE|wayland|

|Item|Value|
|---|---|
|Remote|SSH: oblivus|
|OS|Linux x64 6.8.0-40-generic|
|CPUs|AMD EPYC 9554 64-Core Processor (28 x 0)|
|Memory (System)|177.07GB (173.94GB free)|
|VM|0%|
</details><details><summary>Extensions (27)</summary>

Extension|Author (truncated)|Version
---|---|---
quitcontrol-vscode|art|4.0.0
restructuredtext|lex|190.4.11
jupyter-keymap|ms-|1.1.2
remote-ssh|ms-|0.120.0
remote-ssh-edit|ms-|0.87.0
vscode-remote-extensionpack|ms-|0.26.0
remote-explorer|ms-|0.5.0
everforest|sai|0.3.0
vscode-diff|fab|2.1.2
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
vscode-pull-request-github|Git|0.121.2025100916
gemini-cli-vscode-ide-companion|goo|0.7.0
geminicodeassist|goo|2.53.0
direnv|mkh|0.17.0
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.9.2025092201
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.2025062701
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
windows-ai-studio|ms-|0.22.1
esbonio|swy|0.11.0
context7-mcp|Ups|1.0.1

(6 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
pythonvspyt551:31249599
binariesv615:30325510
gh-qwen25-edits-001-cost:31399366
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
6abeh943:31336334
ovs_ter_t:31398874
aa_c:31379599
0cj2b977:31352657
gendocstringt:31395207
gaj49834:31362110
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
bd6f95_c:31397101
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->","VS Code looks for local paths during remote sessions 
Type: <b>Bug</b>

I'm getting this error when running via SSH:

direnv error: /home/linuxbrew/.linuxbrew/bin/direnv: command not found

This is the path specified on my local machine. VS Code should not be referencing local preferences during remote sessions.

VS Code version: Code 1.105.0 (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:09:35.891Z)
OS version: Linux x64 6.16.7-200.fc42.x86_64
Modes:
Remote OS version: Linux x64 6.8.0-40-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 7 7840U w/ Radeon  780M Graphics (16 x 1925)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|1, 1, 0|
|Memory (System)|60.62GB (52.84GB free)|
|Process Argv|--crash-reporter-id 6d3cff4a-c533-4ab8-be24-72fb8b8d70ec|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|gnome|
|XDG_CURRENT_DESKTOP|GNOME|
|XDG_SESSION_DESKTOP|gnome|
|XDG_SESSION_TYPE|wayland|

|Item|Value|
|---|---|
|Remote|SSH: oblivus|
|OS|Linux x64 6.8.0-40-generic|
|CPUs|AMD EPYC 9554 64-Core Processor (28 x 0)|
|Memory (System)|177.07GB (173.94GB free)|
|VM|0%|
</details><details><summary>Extensions (27)</summary>

Extension|Author (truncated)|Version
---|---|---
quitcontrol-vscode|art|4.0.0
restructuredtext|lex|190.4.11
jupyter-keymap|ms-|1.1.2
remote-ssh|ms-|0.120.0
remote-ssh-edit|ms-|0.87.0
vscode-remote-extensionpack|ms-|0.26.0
remote-explorer|ms-|0.5.0
everforest|sai|0.3.0
vscode-diff|fab|2.1.2
copilot|Git|1.372.0
copilot-chat|Git|0.32.0
vscode-pull-request-github|Git|0.121.2025100916
gemini-cli-vscode-ide-companion|goo|0.7.0
geminicodeassist|goo|2.53.0
direnv|mkh|0.17.0
debugpy|ms-|2025.14.0
python|ms-|2025.16.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.9.2025092201
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.2025062701
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
windows-ai-studio|ms-|0.22.1
esbonio|swy|0.11.0
context7-mcp|Ups|1.0.1

(6 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
pythonvspyt551:31249599
binariesv615:30325510
gh-qwen25-edits-001-cost:31399366
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
6abeh943:31336334
ovs_ter_t:31398874
aa_c:31379599
0cj2b977:31352657
gendocstringt:31395207
gaj49834:31362110
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
applesignin:31399435
bd6f95_c:31397101
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->",hediet,2025-10-09T18:28:17+00:00,"triage-needed, new release",hediet
microsoft_vscode,Can't attach an SVG to have the agent edit it,"
Type: <b>Bug</b>

Drag SVG into chat input.
🐛 Yellow warning color and struck out as ""… does not support this file type.""

It is just text, and the agent could edit it just fine. Don't restrict it by treating it as unsupported *image*.

VS Code version: Code - Insiders 1.105.0-insider (Universal) (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:07:41.558Z)
OS version: Darwin arm64 24.6.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M4 Pro (14 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|9, 7, 6|
|Memory (System)|24.00GB (0.44GB free)|
|Process Argv|--log trace --enable-proposed-api digitarald.agent-memory --crash-reporter-id 9b206efe-c338-4f34-baff-2aab1c48a82e|
|Screen Reader|no|
|VM|0%|
</details>
<!-- generated by issue reporter -->","Can't attach an SVG to have the agent edit it 
Type: <b>Bug</b>

Drag SVG into chat input.
🐛 Yellow warning color and struck out as ""… does not support this file type.""

It is just text, and the agent could edit it just fine. Don't restrict it by treating it as unsupported *image*.

VS Code version: Code - Insiders 1.105.0-insider (Universal) (03c265b1adee71ac88f833e065f7bb956b60550a, 2025-10-08T14:07:41.558Z)
OS version: Darwin arm64 24.6.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M4 Pro (14 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|9, 7, 6|
|Memory (System)|24.00GB (0.44GB free)|
|Process Argv|--log trace --enable-proposed-api digitarald.agent-memory --crash-reporter-id 9b206efe-c338-4f34-baff-2aab1c48a82e|
|Screen Reader|no|
|VM|0%|
</details>
<!-- generated by issue reporter -->",justschen,2025-10-09T17:25:02+00:00,,justschen
microsoft_vscode,Wrong release notes for stable build,"<!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: Yes/No

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 1.105
- OS Version: 26.0.1

Steps to Reproduce:

1. Make sure «Show release notes after an update» is checked
2. Update to 1.105 from 1.104

Here is what the changelog shows:
> Welcome to the Insiders build. These are the preliminary notes for the September 1.105 release of Visual Studio Code. As we get closer to the release date, you'll find details below about new features and important fixes.
Until the September milestone release notes are available, you can still track our progress:
[Commit log](https://github.com/Microsoft/vscode/commits/main) - GitHub commits to the vscode open-source repository.
[Closed issues](https://github.com/Microsoft/vscode/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%22September+2025%22) - Resolved bugs and implemented feature requests in the milestone.
We really appreciate people trying our new features as soon as they are ready, so check back here often and learn what's new.

But I'm on stable, not Insiders.
","Wrong release notes for stable build <!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: Yes/No

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 1.105
- OS Version: 26.0.1

Steps to Reproduce:

1. Make sure «Show release notes after an update» is checked
2. Update to 1.105 from 1.104

Here is what the changelog shows:
> Welcome to the Insiders build. These are the preliminary notes for the September 1.105 release of Visual Studio Code. As we get closer to the release date, you'll find details below about new features and important fixes.
Until the September milestone release notes are available, you can still track our progress:
[Commit log](https://github.com/Microsoft/vscode/commits/main) - GitHub commits to the vscode open-source repository.
[Closed issues](https://github.com/Microsoft/vscode/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%22September+2025%22) - Resolved bugs and implemented feature requests in the milestone.
We really appreciate people trying our new features as soon as they are ready, so check back here often and learn what's new.

But I'm on stable, not Insiders.
",amunger,2025-10-09T17:24:18+00:00,"triage-needed, new release",amunger
microsoft_vscode,No kernel selection options,"
Type: <b>Bug</b>

I recently redownloaded vscode and python on a new work computer, and when opening my jupyter notebook files and going to select a kernel, there are no kernel options. I already checked that my extensions are installed, and I installed ipykernel. I'm also getting a command not found error when trying to select an interpreter through jupyter

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen AI 7 PRO 350 w/ Radeon 860M           (16 x 1996)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.18GB (17.80GB free)|
|Process Argv|C:\\Users\\YZ378UH\\OneDrive - EY\\Documents\\Antitrust\\Demand Estimation\\PyBLP Replication - Airlines.ipynb --crash-reporter-id cd8ad0cb-d68d-473b-a7c5-b30e08d426f2|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (11)</summary>

Extension|Author (truncated)|Version
---|---|---
copilot|Git|1.372.0
copilot-chat|Git|0.31.5
debugpy|ms-|2025.10.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2023.8.1002501831
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
vscrp:30673768
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
onetestforazureexp:31335613
6abeh943:31336334
ovs_ter_t:31398874
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497
nes-subseq-delay-0:31399371

```

</details>

<!-- generated by issue reporter -->","No kernel selection options 
Type: <b>Bug</b>

I recently redownloaded vscode and python on a new work computer, and when opening my jupyter notebook files and going to select a kernel, there are no kernel options. I already checked that my extensions are installed, and I installed ipykernel. I'm also getting a command not found error when trying to select an interpreter through jupyter

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen AI 7 PRO 350 w/ Radeon 860M           (16 x 1996)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.18GB (17.80GB free)|
|Process Argv|C:\\Users\\YZ378UH\\OneDrive - EY\\Documents\\Antitrust\\Demand Estimation\\PyBLP Replication - Airlines.ipynb --crash-reporter-id cd8ad0cb-d68d-473b-a7c5-b30e08d426f2|
|Screen Reader|no|
|VM|0%|
</details><details><summary>Extensions (11)</summary>

Extension|Author (truncated)|Version
---|---|---
copilot|Git|1.372.0
copilot-chat|Git|0.31.5
debugpy|ms-|2025.10.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2023.8.1002501831
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
vscrp:30673768
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
onetestforazureexp:31335613
6abeh943:31336334
ovs_ter_t:31398874
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497
nes-subseq-delay-0:31399371

```

</details>

<!-- generated by issue reporter -->",jruales,2025-10-09T16:47:33+00:00,*duplicate,jruales
microsoft_vscode,wrong lines in terminal sticky scroll,"I thought I had a bug for this already but couldn't find it.

These random 5 lines are showing from the output of a previous command:

<img width=""1041"" height=""444"" alt=""Image"" src=""https://github.com/user-attachments/assets/252e829c-6194-4540-8936-13b31dafa5b9"" />

Worse, if I scroll down, those 5 lines will cover the next command, `git status` in this case:

<img width=""1134"" height=""444"" alt=""Image"" src=""https://github.com/user-attachments/assets/f188d360-5520-4e46-b57c-bcce7bc86780"" />","wrong lines in terminal sticky scroll I thought I had a bug for this already but couldn't find it.

These random 5 lines are showing from the output of a previous command:

<img width=""1041"" height=""444"" alt=""Image"" src=""https://github.com/user-attachments/assets/252e829c-6194-4540-8936-13b31dafa5b9"" />

Worse, if I scroll down, those 5 lines will cover the next command, `git status` in this case:

<img width=""1134"" height=""444"" alt=""Image"" src=""https://github.com/user-attachments/assets/f188d360-5520-4e46-b57c-bcce7bc86780"" />",anthonykim1,2025-10-09T16:08:30+00:00,papercut :drop_of_blood:,anthonykim1
microsoft_vscode,Doesn't actually answer,"
Type: <b>Bug</b>

This cycled and cycled and cycled for dozends of minutes while I left it alone. Never gave an aswer

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz (8 x 2995)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.69GB (2.23GB free)|
|Process Argv|--crash-reporter-id 36ec67ff-c9da-406b-8a15-03f603097ede|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
vswsl492cf:30256860
pythonvspyt551cf:31249601
binariesv615:30325510
ga_41mini_edits_1007a:31398417
vscrp:30673768
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
b6b4d950:31327385
nes-set-on:31340697
testaa123cf:31335227
onetestforazureexp:31335613
6abeh943:31336334
ovs_pri_t:31398872
aa_t:31379598
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-control2:31397678
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->","Doesn't actually answer 
Type: <b>Bug</b>

This cycled and cycled and cycled for dozends of minutes while I left it alone. Never gave an aswer

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz (8 x 2995)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.69GB (2.23GB free)|
|Process Argv|--crash-reporter-id 36ec67ff-c9da-406b-8a15-03f603097ede|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
vswsl492cf:30256860
pythonvspyt551cf:31249601
binariesv615:30325510
ga_41mini_edits_1007a:31398417
vscrp:30673768
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
b6b4d950:31327385
nes-set-on:31340697
testaa123cf:31335227
onetestforazureexp:31335613
6abeh943:31336334
ovs_pri_t:31398872
aa_t:31379598
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-control2:31397678
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->",jruales,2025-10-09T15:49:47+00:00,chat-infinite-response-loop,jruales
microsoft_vscode,Document-well tab wrap is not shrinking last tab in row correctly,"
Type: <b>Bug</b>

With tab sizing set to ""fit"" with multiple tab rows, the last tab in the row sometimes leaves a big gap at the end of the row due to the tab size taking up the remainder of the row with spaces.  This causes an unnecessary wrap of the next tab when there is plenty of room for the next tab to fit.   If the last tab would do a proper fit based on its content length, this wouldn't be a problem, but it appears to pad itself to occupy the remainder of the row.

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.19045
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 165H (6 x 3072)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: unavailable_software<br>webnn: unavailable_software|
|Load (avg)|undefined|
|Memory (System)|8.00GB (1.93GB free)|
|Process Argv|--crash-reporter-id e98ffc5f-fa12-4a99-b5c3-44bae2bcdf58|
|Screen Reader|no|
|VM|100%|
</details><details><summary>Extensions (67)</summary>

Extension|Author (truncated)|Version
---|---|---
markdown-wysiwyg|ada|0.7.10
Bookmarks|ale|13.5.0
project-manager|ale|12.8.0
cpp-helper|ami|0.3.4
gitignore|cod|0.10.0
doxdocgen|csc|1.4.0
excel-to-markdown-table|csh|1.3.0
arm|dan|1.7.4
xslt-xpath|del|1.7.0
groovy-guru|Don|0.6.0
jenkins-extension-pack|Don|0.1.1
xml|Dot|2.5.1
gitlens|eam|17.6.1
vscode-html-css|ecm|2.0.13
cpp-reference-and-documentation|Fed|0.0.5
copilot|Git|1.372.0
copilot-chat|Git|0.31.5
githd|hui|2.5.6
jenkinsfile-support|ivo|1.1.0
jenkins-pipeline-linter-connector|jan|1.2.0
plantuml|jeb|2.18.1
vscode-ext-import-export|jos|0.0.9
git-lfs-file-locking|kin|0.0.3
jenkins-doc|Maa|1.7.0
git-graph|mhu|1.30.0
csharp|ms-|2.93.22
vscode-dotnet-runtime|ms-|2.3.7
debugpy|ms-|2025.10.0
isort|ms-|2025.0.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.8.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
cmake-tools|ms-|1.21.36
cpptools|ms-|1.27.7
cpptools-extension-pack|ms-|1.3.1
hexeditor|ms-|1.11.1
makefile-tools|ms-|0.12.17
powershell|ms-|2025.4.0
vs-keybindings|ms-|0.2.1
idl|myt|0.3.1
stash-tabs|paz|0.0.9
java|red|1.46.0
vscode-yaml|red|1.19.1
vscode-xml-complete|rog|0.3.0
annotator|ryu|1.0.0
online-help|sal|0.2.8
code-spell-checker|str|4.2.6
vscode-counter|uct|3.7.2
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
migrate-java-to-azure|vsc|1.5.2
vscode-gradle|vsc|3.17.0
vscode-java-debug|vsc|0.58.2
vscode-java-dependency|vsc|0.25.2025092303
vscode-java-pack|vsc|0.30.2
vscode-java-test|vsc|0.43.1
vscode-java-upgrade|vsc|1.6.1
vscode-maven|vsc|0.44.0
gitblame|wad|11.2.0
crs-al-language-extension|wal|1.5.34
markdown-all-in-one|yzh|3.6.3
vscode-open-in-github|ziy|1.3.6

(1 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31340697
6abeh943:31336334
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-0:31390406
multireplacestringcontrol:31393296
control_gpt5applypatchexclusively:31394180
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-control1:31397677
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->","Document-well tab wrap is not shrinking last tab in row correctly 
Type: <b>Bug</b>

With tab sizing set to ""fit"" with multiple tab rows, the last tab in the row sometimes leaves a big gap at the end of the row due to the tab size taking up the remainder of the row with spaces.  This causes an unnecessary wrap of the next tab when there is plenty of room for the next tab to fit.   If the last tab would do a proper fit based on its content length, this wouldn't be a problem, but it appears to pad itself to occupy the remainder of the row.

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.19045
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 165H (6 x 3072)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: unavailable_software<br>webnn: unavailable_software|
|Load (avg)|undefined|
|Memory (System)|8.00GB (1.93GB free)|
|Process Argv|--crash-reporter-id e98ffc5f-fa12-4a99-b5c3-44bae2bcdf58|
|Screen Reader|no|
|VM|100%|
</details><details><summary>Extensions (67)</summary>

Extension|Author (truncated)|Version
---|---|---
markdown-wysiwyg|ada|0.7.10
Bookmarks|ale|13.5.0
project-manager|ale|12.8.0
cpp-helper|ami|0.3.4
gitignore|cod|0.10.0
doxdocgen|csc|1.4.0
excel-to-markdown-table|csh|1.3.0
arm|dan|1.7.4
xslt-xpath|del|1.7.0
groovy-guru|Don|0.6.0
jenkins-extension-pack|Don|0.1.1
xml|Dot|2.5.1
gitlens|eam|17.6.1
vscode-html-css|ecm|2.0.13
cpp-reference-and-documentation|Fed|0.0.5
copilot|Git|1.372.0
copilot-chat|Git|0.31.5
githd|hui|2.5.6
jenkinsfile-support|ivo|1.1.0
jenkins-pipeline-linter-connector|jan|1.2.0
plantuml|jeb|2.18.1
vscode-ext-import-export|jos|0.0.9
git-lfs-file-locking|kin|0.0.3
jenkins-doc|Maa|1.7.0
git-graph|mhu|1.30.0
csharp|ms-|2.93.22
vscode-dotnet-runtime|ms-|2.3.7
debugpy|ms-|2025.10.0
isort|ms-|2025.0.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.8.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
cmake-tools|ms-|1.21.36
cpptools|ms-|1.27.7
cpptools-extension-pack|ms-|1.3.1
hexeditor|ms-|1.11.1
makefile-tools|ms-|0.12.17
powershell|ms-|2025.4.0
vs-keybindings|ms-|0.2.1
idl|myt|0.3.1
stash-tabs|paz|0.0.9
java|red|1.46.0
vscode-yaml|red|1.19.1
vscode-xml-complete|rog|0.3.0
annotator|ryu|1.0.0
online-help|sal|0.2.8
code-spell-checker|str|4.2.6
vscode-counter|uct|3.7.2
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
migrate-java-to-azure|vsc|1.5.2
vscode-gradle|vsc|3.17.0
vscode-java-debug|vsc|0.58.2
vscode-java-dependency|vsc|0.25.2025092303
vscode-java-pack|vsc|0.30.2
vscode-java-test|vsc|0.43.1
vscode-java-upgrade|vsc|1.6.1
vscode-maven|vsc|0.44.0
gitblame|wad|11.2.0
crs-al-language-extension|wal|1.5.34
markdown-all-in-one|yzh|3.6.3
vscode-open-in-github|ziy|1.3.6

(1 theme extensions excluded)

</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31340697
6abeh943:31336334
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-0:31390406
multireplacestringcontrol:31393296
control_gpt5applypatchexclusively:31394180
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-control1:31397677
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->",benibenj,2025-10-09T15:35:29+00:00,"info-needed, workbench-tabs",benibenj
microsoft_vscode,"keep getting ""Sorry, your request failed. ...""","
Type: <b>Bug</b>

use copilot happenning more frequently

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i7-12850HX (24 x 2419)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.69GB (7.87GB free)|
|Process Argv|--crash-reporter-id 53bd1a8a-da48-4f5a-abd5-c4b5dd3c9ac9|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
pythonvspyt551cf:31249601
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31340697
6abeh943:31336334
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-electron-fetcher:31397679
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488

```

</details>

<!-- generated by issue reporter -->","keep getting ""Sorry, your request failed. ..."" 
Type: <b>Bug</b>

use copilot happenning more frequently

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i7-12850HX (24 x 2419)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|31.69GB (7.87GB free)|
|Process Argv|--crash-reporter-id 53bd1a8a-da48-4f5a-abd5-c4b5dd3c9ac9|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
pythonvspyt551cf:31249601
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31340697
6abeh943:31336334
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-0:31390406
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-electron-fetcher:31397679
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488

```

</details>

<!-- generated by issue reporter -->",benibenj,2025-10-09T15:16:25+00:00,triage-needed,benibenj
microsoft_vscode,Claude 4.5 502 Error,"
Type: <b>Bug</b>

Sorry, your request failed. Please try again. Request id: d1d49cc8-0390-4a10-8719-646648b61b5d

Reason: Server error: 502

I don't have a lot of details on this, just that I tried to retry a few times the prompt in the chat and got this error

Extension version: 0.31.5
VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin arm64 25.0.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M2 (8 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|8, 5, 6|
|Memory (System)|24.00GB (0.18GB free)|
|Process Argv|--crash-reporter-id 57905edd-b88a-4968-998e-8f7b1a5bb804|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
envsactivate1:31353494
ovs_ter_t:31398874
aa_t:31379598
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-0:31390406
qwen_all_req:31398802
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->","Claude 4.5 502 Error 
Type: <b>Bug</b>

Sorry, your request failed. Please try again. Request id: d1d49cc8-0390-4a10-8719-646648b61b5d

Reason: Server error: 502

I don't have a lot of details on this, just that I tried to retry a few times the prompt in the chat and got this error

Extension version: 0.31.5
VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin arm64 25.0.0
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Apple M2 (8 x 2400)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: enabled_on<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|8, 5, 6|
|Memory (System)|24.00GB (0.18GB free)|
|Process Argv|--crash-reporter-id 57905edd-b88a-4968-998e-8f7b1a5bb804|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
envsactivate1:31353494
ovs_ter_t:31398874
aa_t:31379598
0cj2b977:31352657
gendocstringt:31395207
cloudbuttont:31379625
todos-0:31390406
qwen_all_req:31398802
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->",bpasero,2025-10-09T14:59:38+00:00,triage-needed,bpasero
microsoft_vscode,error 502,"
Type: <b>Bug</b>

Sorry, your request failed. Please try again. Request id: 23b4401b-4459-45d6-b1e4-ac6d58043cd3

Reason: Server error: 502

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.19044
Modes:


<!-- generated by issue reporter -->","error 502 
Type: <b>Bug</b>

Sorry, your request failed. Please try again. Request id: 23b4401b-4459-45d6-b1e4-ac6d58043cd3

Reason: Server error: 502

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.19044
Modes:


<!-- generated by issue reporter -->",benibenj,2025-10-09T14:55:02+00:00,"*duplicate, triage-needed",benibenj
microsoft_vscode,pasting link on markdown is extremely slow,"
Type: <b>Bug</b>

1. copy random URL (e.g `https://example.com`)
2. open random markdown file and select some text (e.g `foo`)
3. paste it to selection (e.g `[foo](https://example.com)`
4. it takes at least few seconds when it should take **zero** milisecods


VS Code version: Code - Insiders 1.105.0-insider (72f7c60cfcc01d4e8a437f4a1704b8bbd3229411, 2025-10-03T20:13:56.017Z)
OS version: Linux x64 6.16.9-200.fc42.x86_64
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 5 5600G with Radeon Graphics (12 x 4117)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|5, 5, 4|
|Memory (System)|30.68GB (11.79GB free)|
|Process Argv|.|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|plasma|
|XDG_CURRENT_DESKTOP|KDE|
|XDG_SESSION_DESKTOP|KDE|
|XDG_SESSION_TYPE|wayland|
</details><details><summary>Extensions (143)</summary>

Extension|Author (truncated)|Version
---|---|---
vscode-userscript|adp|1.3.2
open-folder-in-explorer|adr|1.2.0
TabOut|alb|0.2.2
pug|ama|1.0.1
vscode-subtitles|ast|0.4.0
brainfuck-syntax|att|0.0.1
Nix|bbe|1.0.1
github-markdown-preview|bie|0.3.0
jsdoc-markdown-highlighting|bie|0.0.1
lit-html|bie|1.11.1
markdown-checkbox|bie|0.4.0
markdown-emoji|bie|0.3.1
markdown-footnotes|bie|0.1.1
markdown-mermaid|bie|1.29.0
markdown-preview-github-styles|bie|2.2.0
markdown-yaml-preamble|bie|0.1.0
vscode-fish|bma|1.0.39
mermaid-markdown-syntax-highlighting|bpr|1.7.4
open-props-lsp|Cal|1.0.1
ruff|cha|2025.28.0
cmake-format|che|0.6.11
vscode-astyle|chi|0.9.0
path-intellisense|chr|2.10.0
package-json-upgrade|cod|3.2.1
gitignore|cod|0.10.0
doxdocgen|csc|1.4.0
unicode-math-input|czh|0.7.0
shebang-language-associator|dav|1.4.0
vscode-deno|den|3.45.2
dhall-lang|dha|0.0.4
vscode-dhall-lsp-server|dha|0.0.4
docker|doc|0.17.0
dprint|dpr|0.16.7
vscode-generate-getter-setter|DSK|0.5.0
gitlens|eam|17.6.1
EditorConfig|Edi|0.17.4
file-icons|fil|1.1.0
dependi|fil|0.7.15
shell-format|fox|7.2.8
copilot|Git|1.372.0
copilot-chat|Git|0.32.2025100703
vscode-github-actions|git|0.28.0
vscode-pull-request-github|Git|0.119.2025100808
vscode-graphql|Gra|0.13.2
vscode-graphql-syntax|Gra|1.3.8
vscode-systemd-support|han|3.0.0
pyscript|Har|0.1.1
debug-visualizer|hed|2.4.0
crontab-syntax-highlight|hog|0.0.2
vscode-env|Iro|0.1.0
elastic-tabstops-lite|isr|1.0.0
vscode-codeowners|jas|1.1.1
better-cpp-syntax|jef|1.27.1
better-shellscript-syntax|jef|1.10.0
es6-string-markdown|jeo|1.1.2
nix-ide|jno|0.4.24
svg|joc|1.5.4
gruvbox-material-icon-theme|Jon|1.1.5
vscode-gutter-preview|kis|0.32.2
vscode-package-json-inspector|kri|0.2.0
restructuredtext|lex|190.4.11
color-picker|Mar|1.0.0
marp-vscode|mar|3.3.0
vscode-catch2-test-adapter|mat|4.17.6
git-graph|mhu|1.30.0
auto-commit-msg|Mic|0.27.2
vscode-nbt|Mis|0.9.4
theme-monokai-pro-vscode|mon|2.0.7
language-gettext|mro|0.5.0
vscode-containers|ms-|2.2.0
vscode-docker|ms-|2.0.0
vscode-language-pack-ko|MS-|1.105.2025100809
playwright|ms-|1.1.16
debugpy|ms-|2025.15.2025100201
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
remote-containers|ms-|0.429.0
remote-ssh|ms-|0.120.0
remote-ssh-edit|ms-|0.87.0
vscode-remote-extensionpack|ms-|0.26.0
live-server|ms-|0.4.16
remote-explorer|ms-|0.5.0
remote-server|ms-|1.5.3
vscode-copilot-vision|ms-|0.2.2025032409
vscode-speech|ms-|0.16.0
vscode-speech-language-pack-ko-kr|ms-|0.5.0
vscode-typescript-next|ms-|6.0.20251008
export-typescript|msc|0.4.2
linux-desktop-file|nic|0.0.21
vscode-mogami|nin|0.1.6
vscode-twoslash-queries|Ort|1.5.0
bun-vscode|ove|0.0.31
inline-html|pus|0.3.10
sqlite-viewer|qwt|0.10.6
webgl-glsl-editor|rac|1.3.9
diff|raf|0.0.1
vscode-xml|red|0.29.0
vscode-yaml|red|1.19.1
llvm-ir|rev|1.0.5
llvm|RRe|0.2.0
rust-analyzer|rus|0.4.2639
vscode-coverage-gutters|rya|2.14.0
linter-xo|sam|3.22.1
scala|sca|0.5.9
metals|sca|1.55.8
uridecode|sry|0.3.6
vscode-standard|sta|2.1.3
ninja|sur|0.0.1
rust-pack|Swe|0.3.38
even-better-toml|tam|0.21.2
emmylua|tan|0.9.29
markdown-links|tch|0.8.0
ayu|tea|1.0.5
open-in-browser|tec|2.0.0
python-tox|the|1.0.0
vscode-nushell-lang|The|1.10.0
obs-switcher|tho|0.1.4
shellcheck|tim|0.38.3
graphviz-interactive-preview|tin|0.3.5
qtvsctools|ton|0.11.0
cron-explained|tum|1.3.1
vscode-choosealicense|ult|0.9.4
vscode-remark|uni|3.0.0
unison|uni|1.4.1
errorlens|use|3.26.0
vscode-lldb|vad|1.11.5
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
vscode-conventional-commits|viv|1.26.0
vscode-wakatime|Wak|25.3.2
vscode-import-cost|wix|3.3.0
vscode-mdx-preview|xyc|0.3.3
pretty-ts-errors|Yoa|0.6.1
gitconfig-lsp|yy0|0.10.2
material-theme|zhu|3.19.0
html-css-class-completion|Zig|1.20.0
vscode-open-in-github|ziy|1.3.6

(8 theme extensions excluded)

</details>
<!-- generated by issue reporter -->","pasting link on markdown is extremely slow 
Type: <b>Bug</b>

1. copy random URL (e.g `https://example.com`)
2. open random markdown file and select some text (e.g `foo`)
3. paste it to selection (e.g `[foo](https://example.com)`
4. it takes at least few seconds when it should take **zero** milisecods


VS Code version: Code - Insiders 1.105.0-insider (72f7c60cfcc01d4e8a437f4a1704b8bbd3229411, 2025-10-03T20:13:56.017Z)
OS version: Linux x64 6.16.9-200.fc42.x86_64
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD Ryzen 5 5600G with Radeon Graphics (12 x 4117)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: disabled_off<br>webnn: disabled_off|
|Load (avg)|5, 5, 4|
|Memory (System)|30.68GB (11.79GB free)|
|Process Argv|.|
|Screen Reader|no|
|VM|0%|
|DESKTOP_SESSION|plasma|
|XDG_CURRENT_DESKTOP|KDE|
|XDG_SESSION_DESKTOP|KDE|
|XDG_SESSION_TYPE|wayland|
</details><details><summary>Extensions (143)</summary>

Extension|Author (truncated)|Version
---|---|---
vscode-userscript|adp|1.3.2
open-folder-in-explorer|adr|1.2.0
TabOut|alb|0.2.2
pug|ama|1.0.1
vscode-subtitles|ast|0.4.0
brainfuck-syntax|att|0.0.1
Nix|bbe|1.0.1
github-markdown-preview|bie|0.3.0
jsdoc-markdown-highlighting|bie|0.0.1
lit-html|bie|1.11.1
markdown-checkbox|bie|0.4.0
markdown-emoji|bie|0.3.1
markdown-footnotes|bie|0.1.1
markdown-mermaid|bie|1.29.0
markdown-preview-github-styles|bie|2.2.0
markdown-yaml-preamble|bie|0.1.0
vscode-fish|bma|1.0.39
mermaid-markdown-syntax-highlighting|bpr|1.7.4
open-props-lsp|Cal|1.0.1
ruff|cha|2025.28.0
cmake-format|che|0.6.11
vscode-astyle|chi|0.9.0
path-intellisense|chr|2.10.0
package-json-upgrade|cod|3.2.1
gitignore|cod|0.10.0
doxdocgen|csc|1.4.0
unicode-math-input|czh|0.7.0
shebang-language-associator|dav|1.4.0
vscode-deno|den|3.45.2
dhall-lang|dha|0.0.4
vscode-dhall-lsp-server|dha|0.0.4
docker|doc|0.17.0
dprint|dpr|0.16.7
vscode-generate-getter-setter|DSK|0.5.0
gitlens|eam|17.6.1
EditorConfig|Edi|0.17.4
file-icons|fil|1.1.0
dependi|fil|0.7.15
shell-format|fox|7.2.8
copilot|Git|1.372.0
copilot-chat|Git|0.32.2025100703
vscode-github-actions|git|0.28.0
vscode-pull-request-github|Git|0.119.2025100808
vscode-graphql|Gra|0.13.2
vscode-graphql-syntax|Gra|1.3.8
vscode-systemd-support|han|3.0.0
pyscript|Har|0.1.1
debug-visualizer|hed|2.4.0
crontab-syntax-highlight|hog|0.0.2
vscode-env|Iro|0.1.0
elastic-tabstops-lite|isr|1.0.0
vscode-codeowners|jas|1.1.1
better-cpp-syntax|jef|1.27.1
better-shellscript-syntax|jef|1.10.0
es6-string-markdown|jeo|1.1.2
nix-ide|jno|0.4.24
svg|joc|1.5.4
gruvbox-material-icon-theme|Jon|1.1.5
vscode-gutter-preview|kis|0.32.2
vscode-package-json-inspector|kri|0.2.0
restructuredtext|lex|190.4.11
color-picker|Mar|1.0.0
marp-vscode|mar|3.3.0
vscode-catch2-test-adapter|mat|4.17.6
git-graph|mhu|1.30.0
auto-commit-msg|Mic|0.27.2
vscode-nbt|Mis|0.9.4
theme-monokai-pro-vscode|mon|2.0.7
language-gettext|mro|0.5.0
vscode-containers|ms-|2.2.0
vscode-docker|ms-|2.0.0
vscode-language-pack-ko|MS-|1.105.2025100809
playwright|ms-|1.1.16
debugpy|ms-|2025.15.2025100201
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-python-envs|ms-|1.8.0
jupyter|ms-|2025.9.0
jupyter-keymap|ms-|1.1.2
jupyter-renderers|ms-|1.3.0
vscode-jupyter-cell-tags|ms-|0.1.9
vscode-jupyter-slideshow|ms-|0.1.6
remote-containers|ms-|0.429.0
remote-ssh|ms-|0.120.0
remote-ssh-edit|ms-|0.87.0
vscode-remote-extensionpack|ms-|0.26.0
live-server|ms-|0.4.16
remote-explorer|ms-|0.5.0
remote-server|ms-|1.5.3
vscode-copilot-vision|ms-|0.2.2025032409
vscode-speech|ms-|0.16.0
vscode-speech-language-pack-ko-kr|ms-|0.5.0
vscode-typescript-next|ms-|6.0.20251008
export-typescript|msc|0.4.2
linux-desktop-file|nic|0.0.21
vscode-mogami|nin|0.1.6
vscode-twoslash-queries|Ort|1.5.0
bun-vscode|ove|0.0.31
inline-html|pus|0.3.10
sqlite-viewer|qwt|0.10.6
webgl-glsl-editor|rac|1.3.9
diff|raf|0.0.1
vscode-xml|red|0.29.0
vscode-yaml|red|1.19.1
llvm-ir|rev|1.0.5
llvm|RRe|0.2.0
rust-analyzer|rus|0.4.2639
vscode-coverage-gutters|rya|2.14.0
linter-xo|sam|3.22.1
scala|sca|0.5.9
metals|sca|1.55.8
uridecode|sry|0.3.6
vscode-standard|sta|2.1.3
ninja|sur|0.0.1
rust-pack|Swe|0.3.38
even-better-toml|tam|0.21.2
emmylua|tan|0.9.29
markdown-links|tch|0.8.0
ayu|tea|1.0.5
open-in-browser|tec|2.0.0
python-tox|the|1.0.0
vscode-nushell-lang|The|1.10.0
obs-switcher|tho|0.1.4
shellcheck|tim|0.38.3
graphviz-interactive-preview|tin|0.3.5
qtvsctools|ton|0.11.0
cron-explained|tum|1.3.1
vscode-choosealicense|ult|0.9.4
vscode-remark|uni|3.0.0
unison|uni|1.4.1
errorlens|use|3.26.0
vscode-lldb|vad|1.11.5
intellicode-api-usage-examples|Vis|0.2.9
vscodeintellicode|Vis|1.3.2
vscode-conventional-commits|viv|1.26.0
vscode-wakatime|Wak|25.3.2
vscode-import-cost|wix|3.3.0
vscode-mdx-preview|xyc|0.3.3
pretty-ts-errors|Yoa|0.6.1
gitconfig-lsp|yy0|0.10.2
material-theme|zhu|3.19.0
html-css-class-completion|Zig|1.20.0
vscode-open-in-github|ziy|1.3.6

(8 theme extensions excluded)

</details>
<!-- generated by issue reporter -->",mjbvz,2025-10-09T14:41:40+00:00,info-needed,mjbvz
microsoft_vscode,Code filed irreversibly removed without warning at update time,"
Type: <b>Feature Request</b>

My code files that I store in the installation folder get OVERWRITTEN or DELETED IRREVERSIBLY without warning at update time.

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:


<!-- generated by issue reporter -->","Code filed irreversibly removed without warning at update time 
Type: <b>Feature Request</b>

My code files that I store in the installation folder get OVERWRITTEN or DELETED IRREVERSIBLY without warning at update time.

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:


<!-- generated by issue reporter -->",deepak1556,2025-10-09T14:25:35+00:00,triage-needed,deepak1556
microsoft_vscode,File created in command line are saved in another directory,"
Type: <b>Bug</b>

Steps to reproduce the problem:
1. Open directory B, create a file `file1.ipynb` then save it. Close the file.
2. Open directory A, open an integrated terminal in that directory A. Type `code file1.ipynb`. Then save it using `Ctrl+S`
3. You will see the file is saved in directory B, instead of A. (What's important is that `file1.ipynb` in directory B will be totally rewritten by a totally fresh file. I lost 2 hours of my work 555555)

Actual results:
1. Open a terminal in directory A
2. Type `code tmp.ipynb`, then use Ctrl+S to save the file
3. The file will be saved in directory B

Expected results:
The file shall be saved in directory A. 

Others:
1. Only `*.ipynb` files are wrongly saved. `tmp.txt` won't
2. I uninstall and install versions 103.2/102.3/100.3. The problem is able to reproduce in all versions

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:
Remote OS version: Linux x64 5.15.0-107-generic
Remote OS version: Linux x64 5.13.0-28-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i9-12900H (20 x 2918)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.73GB (2.99GB free)|
|Process Argv|--crash-reporter-id 0daed98f-79eb-442a-a113-d524a57f02fa|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: purple|
|OS|Linux x64 5.15.0-107-generic|
|CPUs|Intel(R) Xeon(R) Platinum 8260 CPU @ 2.40GHz (96 x 2599)|
|Memory (System)|251.53GB (204.15GB free)|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: blue|
|OS|Linux x64 5.13.0-28-generic|
|CPUs|Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz (12 x 1199)|
|Memory (System)|31.26GB (26.56GB free)|
|VM|0%|
</details><details><summary>Extensions (5)</summary>

Extension|Author (truncated)|Version
---|---|---
remote-ssh|ms-|0.120.0
vscode-remote-extensionpack|ms-|0.26.0
remote-explorer|ms-|0.5.0
remote-server|ms-|1.5.3
pdf|tom|1.2.2


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
bajee813:31263137
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31398790
6abeh943:31336334
envsdeactivate2:31353495
ovs_pri_t:31398872
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-0:31390406
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->","File created in command line are saved in another directory 
Type: <b>Bug</b>

Steps to reproduce the problem:
1. Open directory B, create a file `file1.ipynb` then save it. Close the file.
2. Open directory A, open an integrated terminal in that directory A. Type `code file1.ipynb`. Then save it using `Ctrl+S`
3. You will see the file is saved in directory B, instead of A. (What's important is that `file1.ipynb` in directory B will be totally rewritten by a totally fresh file. I lost 2 hours of my work 555555)

Actual results:
1. Open a terminal in directory A
2. Type `code tmp.ipynb`, then use Ctrl+S to save the file
3. The file will be saved in directory B

Expected results:
The file shall be saved in directory A. 

Others:
1. Only `*.ipynb` files are wrongly saved. `tmp.txt` won't
2. I uninstall and install versions 103.2/102.3/100.3. The problem is able to reproduce in all versions

VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:
Remote OS version: Linux x64 5.15.0-107-generic
Remote OS version: Linux x64 5.13.0-28-generic

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|12th Gen Intel(R) Core(TM) i9-12900H (20 x 2918)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.73GB (2.99GB free)|
|Process Argv|--crash-reporter-id 0daed98f-79eb-442a-a113-d524a57f02fa|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: purple|
|OS|Linux x64 5.15.0-107-generic|
|CPUs|Intel(R) Xeon(R) Platinum 8260 CPU @ 2.40GHz (96 x 2599)|
|Memory (System)|251.53GB (204.15GB free)|
|VM|0%|

|Item|Value|
|---|---|
|Remote|SSH: blue|
|OS|Linux x64 5.13.0-28-generic|
|CPUs|Intel(R) Core(TM) i7-6800K CPU @ 3.40GHz (12 x 1199)|
|Memory (System)|31.26GB (26.56GB free)|
|VM|0%|
</details><details><summary>Extensions (5)</summary>

Extension|Author (truncated)|Version
---|---|---
remote-ssh|ms-|0.120.0
vscode-remote-extensionpack|ms-|0.26.0
remote-explorer|ms-|0.5.0
remote-server|ms-|1.5.3
pdf|tom|1.2.2


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
bajee813:31263137
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31398790
6abeh943:31336334
envsdeactivate2:31353495
ovs_pri_t:31398872
aa_t:31379598
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-0:31390406
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855
dcggh915:31397497

```

</details>

<!-- generated by issue reporter -->",bpasero,2025-10-09T13:54:05+00:00,info-needed,bpasero
microsoft_vscode,shitty microsoft operating system,"
Type: <b>Bug</b>

I hate microsoft and will buy a IOS system next time!!!!!!!!!!!!!!!!!

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|13th Gen Intel(R) Core(TM) i7-1355U (12 x 2611)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.69GB (3.79GB free)|
|Process Argv|--crash-reporter-id b80d44fe-0a2c-46ff-aff5-a3e2a3147d03|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31351930
testaa123:31335226
onetestforazureexp:31335613
6abeh943:31336334
0cj2b977:31352657
gendocstringf:31395206
gaj49834:31362110
cloudbuttont:31379625
todos-0:31390406
multireplacestringcontrol:31393296
treatment_gpt5applypatchexclusively:31394181
42190218_ostrepl:31382710
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->","shitty microsoft operating system 
Type: <b>Bug</b>

I hate microsoft and will buy a IOS system next time!!!!!!!!!!!!!!!!!

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|13th Gen Intel(R) Core(TM) i7-1355U (12 x 2611)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.69GB (3.79GB free)|
|Process Argv|--crash-reporter-id b80d44fe-0a2c-46ff-aff5-a3e2a3147d03|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
vswsl492cf:30256860
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31351930
testaa123:31335226
onetestforazureexp:31335613
6abeh943:31336334
0cj2b977:31352657
gendocstringf:31395206
gaj49834:31362110
cloudbuttont:31379625
todos-0:31390406
multireplacestringcontrol:31393296
treatment_gpt5applypatchexclusively:31394181
42190218_ostrepl:31382710
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->",Yoyokrazy,2025-10-09T13:51:14+00:00,"triage-needed, spam",Yoyokrazy
microsoft_vscode,Copilot Chat history disappears after selecting older chat and opening chat as editor tab,"
Type: <b>Bug</b>

Title: Copilot Chat history disappears after selecting older chat and opening chat as editor tab

Environment:

VS Code: 1.104.3 (user setup)
Commit: 385651c938df8a906869babee516bffd0ddb9829
Electron: 37.3.1
Chromium: 138.0.7204.235
Node.js: 22.18.0
OS: Windows_NT x64 10.0.26200
WSL: Ubuntu (Remote development)
Extensions:
GitHub Copilot: 1.372.0
GitHub Copilot Chat
Context: I was working in a WSL workspace; I may have opened Copilot Chat in the editor area (tab) rather than the sidebar when the issue occurred.
Steps to Reproduce:

PC restarted overnight.
Start VS Code.
Open Copilot Chat; the last chat appears; history list shows ~6 chats from the last 4 days.
Select a previous chat in the history.
At this point the most recent chat disappears from the history list.
Select an even older chat.
Now all other chats except the one selected are gone.
I then tried putting the chat into an editor tab on the main desktop (Chat in the editor area). After that, I ended up with no chat history at all.
Expected:

Chat history entries remain intact when navigating between older chats or when opening Chat as an editor tab; no items should disappear from history unless explicitly cleared.
Actual:

Selecting older chats caused the most recent chat to disappear.
After selecting another older chat, all but the selected chat disappeared.
After opening Chat in the editor area, the entire history disappeared.
Additional Notes:

I did not intentionally clear chats.
This happened on Windows with WSL: Ubuntu; not sure whether the chat history was stored on the Windows side or WSL side.
No obvious error message was shown.
Diagnostics to assist:

Output panel → “GitHub Copilot Chat” and “GitHub Copilot” logs around the time of disappearance.
Help → Toggle Developer Tools → Console errors/warnings around the time of the loss.
If relevant, a snapshot of the extension global storage folder:
Windows: %APPDATA%\Code\User\globalStorage\GitHub.copilot-chat
WSL (if stored there): ~/.config/Code/User/globalStorage/GitHub.copilot-chat
Impact:

Lost 4 days of conversations, which affected ongoing work.
Workarounds tried:

Reopening the same workspace.
Navigating back to the Chat sidebar.
(Please fill in any others you tried.)
Request:

Investigate potential data loss when switching between chat sessions/history and when opening Chat in the editor area.
Guidance on recovering missing conversations if possible.

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:
Remote OS version: Linux x64 6.6.87.2-microsoft-standard-WSL2

<details><summary>Logs</summary>
<pre>
Debug: CopilotToken state changed, firing event.
Info: copilot token chat_enabled: true, sku: trial_30_monthly_subscriber_quota
Info: GitHub.vscode-pull-request-github extension is not yet activated.
Info: Registering default platform agent...
Debug: ConversationFeature: onDidAuthenticationChange has token: true
Debug: [context keys] Updating context keys.
Trace: [NES][DiagnosticsInlineCompletionProvider][Import] created
Trace: [NES][DiagnosticsInlineCompletionProvider][Async] created
Info: [code-referencing] Public code references are enabled.
Debug: Finished handling auth change event.
Info: activationBlocker from 'conversationFeature' took for 12041ms
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""commit"":""1144c8797962e209438056a1101863460bd63fb8"",""type"":0}
Trace: CodeSearchRepoTracker::openGitRepo#3 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/Toolkits/flexcryptocore/tools/iss-test-framework)
Trace: CodeSearchRepoTracker::openGitRepo#3 success. Elapsed 0.05747299999711686
Trace: Should request permissive session upgrade: false - access to all repositories
Info: Fetched model metadata in 562ms 50415da0-a85f-4b8e-b77f-5799384af306
Debug: Refetch model metadata: Skipped.
Info: ccreq:ec26a413.copilotmd | markdown
Trace: Resolving chat model
Trace: Resolved chat model
Debug: [RateLimit] REST rate limit remaining: 4953, user
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""commit"":""9fe24cdcd410f156b9ea4bfcbd2afc3eb701ed03"",""type"":0}
Trace: CodeSearchRepoTracker::openGitRepo#4 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/Toolkits/flexcryptocore/tools/iss-make)
Trace: CodeSearchRepoTracker::openGitRepo#4 success. Elapsed 0.1956419999987702
Info: BYOK: Copilot Chat known models list fetched successfully.
Debug: EmbeddingsChunkSearch: initialize found 530 files. Max: 750
Trace: CodeSearchRepoTracker::initialize#2 started
Trace: CodeSearchRepoTracker::initialize#3 started
Trace: ChatStatusWorkspaceIndexingStatus::_writeStatusItem()
Trace: ChatStatusWorkspaceIndexingStatus::updateStatusItem(id=1): skipping
Trace: ChatStatusWorkspaceIndexingStatus::updateStatusItem(id=3): starting
Trace: CodeSearchRepoTracker::initialize#4 started
Trace: ChatStatusWorkspaceIndexingStatus::_writeStatusItem()
Info: Fetched auto model in 636ms.
Trace: [GitServiceImpl][doOpenRepository] Active repository: {""_repo"":{""rootUri"":{""$mid"":1,""external"":""file:///mnt/c/iss/Toolkits/flexcryptocore"",""path"":""/mnt/c/iss/Toolkits/flexcryptocore"",""scheme"":""file""},""inputBox"":{},""state"":{},""ui"":{}},""rootUri"":{""$mid"":1,""external"":""file:///mnt/c/iss/Toolkits/flexcryptocore"",""path"":""/mnt/c/iss/Toolkits/flexcryptocore"",""scheme"":""file""},""headBranchName"":""SP800_56A_Key_Agreement"",""headCommitHash"":""39c544f8362cc63278ee4cfafffd8ec3c6defbe8"",""upstreamBranchName"":""SP800_56A_Key_Agreement"",""upstreamRemote"":""origin"",""isRebasing"":true,""remotes"":[""origin""],""remoteFetchUrls"":[""https://gitlab.dev.issembedded.com/embedded/development/toolkits/flexcryptocore.git""],""changes"":{""mergeChanges"":[],""indexChanges"":[],""workingTree"":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],""untrackedChanges"":[]},""_onDidChangeSignal"":{""_observers"":{},""debugName"":""Observable Signal From Event""},""headBranchNameObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""headCommitHashObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""upstreamBranchNameObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""upstreamRemoteObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""isRebasingObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""_checkIsIgnored"":{""_waitingTimeMs"":1000,""_queue"":[],""_timeout"":null},""_isIgnored"":{""_map"":{},""_map2"":{}}}
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""type"":0,""name"":""main"",""upstream"":{""name"":""main"",""remote"":""origin"",""commit"":""0385961a0e7eee34f420b6ec9b41a3c49e9ca9eb""},""commit"":""0385961a0e7eee34f420b6ec9b41a3c49e9ca9eb"",""ahead"":0,""behind"":0}
Trace: CodeSearchRepoTracker::openGitRepo#5 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/john-deere-flexhsm)
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: false.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
</pre>
</details>
<details><summary>Request IDs</summary>
<pre>

</pre>
</details><details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz (12 x 2592)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.73GB (5.46GB free)|
|Process Argv|--crash-reporter-id 928f9e96-4fcc-42b4-9dbf-42d05cbc62c3|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|WSL: Ubuntu|
|OS|Linux x64 6.6.87.2-microsoft-standard-WSL2|
|CPUs|Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz (12 x 0)|
|Memory (System)|7.62GB (5.85GB free)|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
vswsl492:30256859
binariesv615:30325510
9b8hh234:30694863
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
63221493:31336333
envsdeactivate2:31353495
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31397680
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488

```

</details>

<!-- generated by issue reporter -->","Copilot Chat history disappears after selecting older chat and opening chat as editor tab 
Type: <b>Bug</b>

Title: Copilot Chat history disappears after selecting older chat and opening chat as editor tab

Environment:

VS Code: 1.104.3 (user setup)
Commit: 385651c938df8a906869babee516bffd0ddb9829
Electron: 37.3.1
Chromium: 138.0.7204.235
Node.js: 22.18.0
OS: Windows_NT x64 10.0.26200
WSL: Ubuntu (Remote development)
Extensions:
GitHub Copilot: 1.372.0
GitHub Copilot Chat
Context: I was working in a WSL workspace; I may have opened Copilot Chat in the editor area (tab) rather than the sidebar when the issue occurred.
Steps to Reproduce:

PC restarted overnight.
Start VS Code.
Open Copilot Chat; the last chat appears; history list shows ~6 chats from the last 4 days.
Select a previous chat in the history.
At this point the most recent chat disappears from the history list.
Select an even older chat.
Now all other chats except the one selected are gone.
I then tried putting the chat into an editor tab on the main desktop (Chat in the editor area). After that, I ended up with no chat history at all.
Expected:

Chat history entries remain intact when navigating between older chats or when opening Chat as an editor tab; no items should disappear from history unless explicitly cleared.
Actual:

Selecting older chats caused the most recent chat to disappear.
After selecting another older chat, all but the selected chat disappeared.
After opening Chat in the editor area, the entire history disappeared.
Additional Notes:

I did not intentionally clear chats.
This happened on Windows with WSL: Ubuntu; not sure whether the chat history was stored on the Windows side or WSL side.
No obvious error message was shown.
Diagnostics to assist:

Output panel → “GitHub Copilot Chat” and “GitHub Copilot” logs around the time of disappearance.
Help → Toggle Developer Tools → Console errors/warnings around the time of the loss.
If relevant, a snapshot of the extension global storage folder:
Windows: %APPDATA%\Code\User\globalStorage\GitHub.copilot-chat
WSL (if stored there): ~/.config/Code/User/globalStorage/GitHub.copilot-chat
Impact:

Lost 4 days of conversations, which affected ongoing work.
Workarounds tried:

Reopening the same workspace.
Navigating back to the Chat sidebar.
(Please fill in any others you tried.)
Request:

Investigate potential data loss when switching between chat sessions/history and when opening Chat in the editor area.
Guidance on recovering missing conversations if possible.

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26200
Modes:
Remote OS version: Linux x64 6.6.87.2-microsoft-standard-WSL2

<details><summary>Logs</summary>
<pre>
Debug: CopilotToken state changed, firing event.
Info: copilot token chat_enabled: true, sku: trial_30_monthly_subscriber_quota
Info: GitHub.vscode-pull-request-github extension is not yet activated.
Info: Registering default platform agent...
Debug: ConversationFeature: onDidAuthenticationChange has token: true
Debug: [context keys] Updating context keys.
Trace: [NES][DiagnosticsInlineCompletionProvider][Import] created
Trace: [NES][DiagnosticsInlineCompletionProvider][Async] created
Info: [code-referencing] Public code references are enabled.
Debug: Finished handling auth change event.
Info: activationBlocker from 'conversationFeature' took for 12041ms
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""commit"":""1144c8797962e209438056a1101863460bd63fb8"",""type"":0}
Trace: CodeSearchRepoTracker::openGitRepo#3 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/Toolkits/flexcryptocore/tools/iss-test-framework)
Trace: CodeSearchRepoTracker::openGitRepo#3 success. Elapsed 0.05747299999711686
Trace: Should request permissive session upgrade: false - access to all repositories
Info: Fetched model metadata in 562ms 50415da0-a85f-4b8e-b77f-5799384af306
Debug: Refetch model metadata: Skipped.
Info: ccreq:ec26a413.copilotmd | markdown
Trace: Resolving chat model
Trace: Resolved chat model
Debug: [RateLimit] REST rate limit remaining: 4953, user
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""commit"":""9fe24cdcd410f156b9ea4bfcbd2afc3eb701ed03"",""type"":0}
Trace: CodeSearchRepoTracker::openGitRepo#4 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/Toolkits/flexcryptocore/tools/iss-make)
Trace: CodeSearchRepoTracker::openGitRepo#4 success. Elapsed 0.1956419999987702
Info: BYOK: Copilot Chat known models list fetched successfully.
Debug: EmbeddingsChunkSearch: initialize found 530 files. Max: 750
Trace: CodeSearchRepoTracker::initialize#2 started
Trace: CodeSearchRepoTracker::initialize#3 started
Trace: ChatStatusWorkspaceIndexingStatus::_writeStatusItem()
Trace: ChatStatusWorkspaceIndexingStatus::updateStatusItem(id=1): skipping
Trace: ChatStatusWorkspaceIndexingStatus::updateStatusItem(id=3): starting
Trace: CodeSearchRepoTracker::initialize#4 started
Trace: ChatStatusWorkspaceIndexingStatus::_writeStatusItem()
Info: Fetched auto model in 636ms.
Trace: [GitServiceImpl][doOpenRepository] Active repository: {""_repo"":{""rootUri"":{""$mid"":1,""external"":""file:///mnt/c/iss/Toolkits/flexcryptocore"",""path"":""/mnt/c/iss/Toolkits/flexcryptocore"",""scheme"":""file""},""inputBox"":{},""state"":{},""ui"":{}},""rootUri"":{""$mid"":1,""external"":""file:///mnt/c/iss/Toolkits/flexcryptocore"",""path"":""/mnt/c/iss/Toolkits/flexcryptocore"",""scheme"":""file""},""headBranchName"":""SP800_56A_Key_Agreement"",""headCommitHash"":""39c544f8362cc63278ee4cfafffd8ec3c6defbe8"",""upstreamBranchName"":""SP800_56A_Key_Agreement"",""upstreamRemote"":""origin"",""isRebasing"":true,""remotes"":[""origin""],""remoteFetchUrls"":[""https://gitlab.dev.issembedded.com/embedded/development/toolkits/flexcryptocore.git""],""changes"":{""mergeChanges"":[],""indexChanges"":[],""workingTree"":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}],""untrackedChanges"":[]},""_onDidChangeSignal"":{""_observers"":{},""debugName"":""Observable Signal From Event""},""headBranchNameObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""headCommitHashObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""upstreamBranchNameObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""upstreamRemoteObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""isRebasingObs"":{""_observers"":{},""_debugNameData"":{},""_state"":0,""_updateCount"":0,""_dependencies"":{},""_dependenciesToBeRemoved"":{},""_isUpdating"":false,""_isComputing"":false,""_didReportChange"":false,""_isInBeforeUpdate"":false,""_isReaderValid"":false,""_removedObserverToCallEndUpdateOn"":null},""_checkIsIgnored"":{""_waitingTimeMs"":1000,""_queue"":[],""_timeout"":null},""_isIgnored"":{""_map"":{},""_map2"":{}}}
Trace: [GitServiceImpl][doOpenRepository] Repository initialized: {""type"":0,""name"":""main"",""upstream"":{""name"":""main"",""remote"":""origin"",""commit"":""0385961a0e7eee34f420b6ec9b41a3c49e9ca9eb""},""commit"":""0385961a0e7eee34f420b6ec9b41a3c49e9ca9eb"",""ahead"":0,""behind"":0}
Trace: CodeSearchRepoTracker::openGitRepo#5 started
Trace: CodeSearchRepoTracker.openGitRepo(file:///mnt/c/iss/john-deere-flexhsm)
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: false.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Debug: [context keys] Window state change. Needs offline check: false, active: false, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Trace: CodeSearchRepoTracker.updateIndexedCommitForAllRepos
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: false.
Debug: [context keys] Window state change. Needs offline check: false, active: true, focused: true.
</pre>
</details>
<details><summary>Request IDs</summary>
<pre>

</pre>
</details><details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz (12 x 2592)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|15.73GB (5.46GB free)|
|Process Argv|--crash-reporter-id 928f9e96-4fcc-42b4-9dbf-42d05cbc62c3|
|Screen Reader|no|
|VM|0%|

|Item|Value|
|---|---|
|Remote|WSL: Ubuntu|
|OS|Linux x64 6.6.87.2-microsoft-standard-WSL2|
|CPUs|Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz (12 x 0)|
|Memory (System)|7.62GB (5.85GB free)|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368cf:30146710
vswsl492:30256859
binariesv615:30325510
9b8hh234:30694863
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
nes-set-on:31340697
63221493:31336333
envsdeactivate2:31353495
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-1:31390405
v66_all_req:31398803
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31397680
auto_model_enabled:31385282
use-responses-api:31390855
copilot-gpt-5-mini:31396488

```

</details>

<!-- generated by issue reporter -->",justschen,2025-10-09T13:43:22+00:00,,justschen
microsoft_vscode,Gpu-accelerated in-app terminal freezes and generates alert on remote desktop SE Linux,"Type: <b>Bug</b>

Problem:
- When opening a terminal for the first time in a VS Code session on an SE Linux-enabled machine accessed through a remote graphical dekstop application (here, ThinLinc), the terminal will freeze temporarily and the system will generate an SE Alert (denied execmod).

SE Alert information:
- ""SELinux is preventing /usr/share/code/code from execmod access on the file /memfd:swiftshader_jit (deleted).""
- Source Context: unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1
- Target Objects: /memfd:swiftshader_jit (deleted) [ file ]

Setup:
- Host machine OS: RHEL 9.6
- SE Linux: enforced:targeted and using default policy package
- Remote Dekstop Application: ThinLinc 4.19

Steps to Reproduce:
- Connect via ThinLinc (or other remote desktop app?) to a physical or virtual host running RHEL 9.6 (or other SE Linux-enabled system?).
- Ensure the VS Code User Setting ""Features > Terminal > Integrated: Gpu Acceleration"" is turned on (default).
- Launch the VS Code application.
- Open a new in-app terminal.
- The terminal will fail to render and freeze temporarily (a couple of seconds at most). The OS generates several SE Alerts (of the same type) before VS Code falls back on a different rendering method.
- For the remainder of the VS Code session, the problem will not reoccur.

Mitigation measures:
- Turning off the otherwise default User Setting ""Features > Terminal > Integrated: Gpu Acceleration"" avoids the problem.
- As described in: https://code.visualstudio.com/docs/terminal/basics#_im-having-problems-with-the-terminal-rendering-what-can-i-do

Other notes:
- This issue affects all internally tested machines with the same setup.
- The problem has been verified on several tested combinations of older versions (roughly 1-2 years) of ThinLinc/VS Code/Chromium packages.
- The problem does not occur on a physical machine with identical setup when not using it via a remote desktop application.
- When SE Linux boolean selinuxuser_execmod is set to 'on' to allow execution of modified memory, the Gpu Acceleration for the terminal appears to be working as intended.
-- However, execution of modified memory ought not to be a necessary quirk of the application though?
-- Whether or not these conditions and resulting behaviour is known is not clear from: https://code.visualstudio.com/docs/terminal/basics#_im-having-problems-with-the-terminal-rendering-what-can-i-do


VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 5.14.0-570.49.1.el9_6.x86_64
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD EPYC 9354 32-Core Processor (4 x 0)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: disabled_off<br>webnn: unavailable_software|
|Load (avg)|0, 0, 0|
|Memory (System)|15.36GB (10.10GB free)|
|Process Argv|. --crash-reporter-id 28e6726f-f407-424a-895e-81439e177e79|
|Screen Reader|no|
|VM|100%|
|DESKTOP_SESSION|gnome|
|XDG_CURRENT_DESKTOP|GNOME|
|XDG_SESSION_DESKTOP|gnome|
|XDG_SESSION_TYPE|x11|
</details><details><summary>Extensions (5)</summary>

Extension|Author (truncated)|Version
---|---|---
debugpy|ms-|2025.10.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-yaml|red|1.19.1
jinjahtml|sam|0.20.0


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
0cj2b977:31352657
cloudbuttont:31379625
todos-1:31390405
multireplacestringcontrol:31393296
treatment_gpt5applypatchexclusively:31394181
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->","Gpu-accelerated in-app terminal freezes and generates alert on remote desktop SE Linux Type: <b>Bug</b>

Problem:
- When opening a terminal for the first time in a VS Code session on an SE Linux-enabled machine accessed through a remote graphical dekstop application (here, ThinLinc), the terminal will freeze temporarily and the system will generate an SE Alert (denied execmod).

SE Alert information:
- ""SELinux is preventing /usr/share/code/code from execmod access on the file /memfd:swiftshader_jit (deleted).""
- Source Context: unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1
- Target Objects: /memfd:swiftshader_jit (deleted) [ file ]

Setup:
- Host machine OS: RHEL 9.6
- SE Linux: enforced:targeted and using default policy package
- Remote Dekstop Application: ThinLinc 4.19

Steps to Reproduce:
- Connect via ThinLinc (or other remote desktop app?) to a physical or virtual host running RHEL 9.6 (or other SE Linux-enabled system?).
- Ensure the VS Code User Setting ""Features > Terminal > Integrated: Gpu Acceleration"" is turned on (default).
- Launch the VS Code application.
- Open a new in-app terminal.
- The terminal will fail to render and freeze temporarily (a couple of seconds at most). The OS generates several SE Alerts (of the same type) before VS Code falls back on a different rendering method.
- For the remainder of the VS Code session, the problem will not reoccur.

Mitigation measures:
- Turning off the otherwise default User Setting ""Features > Terminal > Integrated: Gpu Acceleration"" avoids the problem.
- As described in: https://code.visualstudio.com/docs/terminal/basics#_im-having-problems-with-the-terminal-rendering-what-can-i-do

Other notes:
- This issue affects all internally tested machines with the same setup.
- The problem has been verified on several tested combinations of older versions (roughly 1-2 years) of ThinLinc/VS Code/Chromium packages.
- The problem does not occur on a physical machine with identical setup when not using it via a remote desktop application.
- When SE Linux boolean selinuxuser_execmod is set to 'on' to allow execution of modified memory, the Gpu Acceleration for the terminal appears to be working as intended.
-- However, execution of modified memory ought not to be a necessary quirk of the application though?
-- Whether or not these conditions and resulting behaviour is known is not clear from: https://code.visualstudio.com/docs/terminal/basics#_im-having-problems-with-the-terminal-rendering-what-can-i-do


VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Linux x64 5.14.0-570.49.1.el9_6.x86_64
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|AMD EPYC 9354 32-Core Processor (4 x 0)|
|GPU Status|2d_canvas: unavailable_software<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: disabled_software<br>multiple_raster_threads: enabled_on<br>opengl: disabled_off<br>rasterization: disabled_software<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: disabled_software<br>video_encode: disabled_software<br>vulkan: disabled_off<br>webgl: unavailable_software<br>webgl2: unavailable_software<br>webgpu: disabled_off<br>webnn: unavailable_software|
|Load (avg)|0, 0, 0|
|Memory (System)|15.36GB (10.10GB free)|
|Process Argv|. --crash-reporter-id 28e6726f-f407-424a-895e-81439e177e79|
|Screen Reader|no|
|VM|100%|
|DESKTOP_SESSION|gnome|
|XDG_CURRENT_DESKTOP|GNOME|
|XDG_SESSION_DESKTOP|gnome|
|XDG_SESSION_TYPE|x11|
</details><details><summary>Extensions (5)</summary>

Extension|Author (truncated)|Version
---|---|---
debugpy|ms-|2025.10.0
python|ms-|2025.14.0
vscode-pylance|ms-|2025.8.3
vscode-yaml|red|1.19.1
jinjahtml|sam|0.20.0


</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
6518g693:31334701
aj953862:31281341
cs4_fixed:31391938
nes-set-on:31351930
testaa123cf:31335227
6abeh943:31336334
0cj2b977:31352657
cloudbuttont:31379625
todos-1:31390405
multireplacestringcontrol:31393296
treatment_gpt5applypatchexclusively:31394181
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->",hediet,2025-10-09T12:03:02+00:00,triage-needed,hediet
microsoft_vscode,Extension Signature Verification Failed: C/C++ Build Task,"
Type: <b>Feature Request</b>

Please include following log `F1 > Open View... > Shared` below.



VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin x64 20.6.0
Modes:


<!-- generated by issue reporter -->","Extension Signature Verification Failed: C/C++ Build Task 
Type: <b>Feature Request</b>

Please include following log `F1 > Open View... > Shared` below.



VS Code version: Code 1.104.3 (Universal) (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Darwin x64 20.6.0
Modes:


<!-- generated by issue reporter -->",joshspicer,2025-10-09T11:56:21+00:00,"*duplicate, triage-needed",joshspicer
microsoft_vscode,[Bug] Cumulative Shift Layout goes up when scrolling editor,"<!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: Yes/No

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 
- OS Version: 

Steps to Reproduce:

1. Open https://vscode.dev/
2. Add content in editor make it scrollable.
3. Open Performance tab in dev console and scroll in editor

<img width=""1509"" height=""821"" alt=""Image"" src=""https://github.com/user-attachments/assets/79b24579-4629-4b7b-8c9e-fef4cdee8f1b"" />
","[Bug] Cumulative Shift Layout goes up when scrolling editor <!-- ⚠️⚠️ Do Not Delete This! bug_report_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- 🕮 Read our guide about submitting issues: https://github.com/microsoft/vscode/wiki/Submitting-Bugs-and-Suggestions -->
<!-- 🔎 Search existing issues to avoid creating duplicates. -->
<!-- 🧪 Test using the latest Insiders build to see if your issue has already been fixed: https://code.visualstudio.com/insiders/ -->
<!-- 💡 Instead of creating your report here, use 'Report Issue' from the 'Help' menu in VS Code to pre-fill useful information. -->
<!-- 🔧 Launch with `code --disable-extensions` to check. -->
Does this issue occur when all extensions are disabled?: Yes/No

<!-- 🪓 If you answered No above, use 'Help: Start Extension Bisect' from Command Palette to try to identify the cause. -->
<!-- 📣 Issues caused by an extension need to be reported directly to the extension publisher. The 'Help > Report Issue' dialog can assist with this. -->
- VS Code Version: 
- OS Version: 

Steps to Reproduce:

1. Open https://vscode.dev/
2. Add content in editor make it scrollable.
3. Open Performance tab in dev console and scroll in editor

<img width=""1509"" height=""821"" alt=""Image"" src=""https://github.com/user-attachments/assets/79b24579-4629-4b7b-8c9e-fef4cdee8f1b"" />
",hediet,2025-10-09T11:03:03+00:00,,hediet
microsoft_vscode,Copilot never touches the file,"
Type: <b>Bug</b>

Copilot keeps calming to edit a file but does nothing. Just keeps wasting time by constatly repeating a proper analysis but never actually aplying a result although it was instructed multiple time sto do so

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 165H (22 x 3072)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.46GB (21.46GB free)|
|Process Argv|--crash-reporter-id 31af5fe7-b7e6-42c8-a480-853f0ccddec3|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31351930
testaa123:31335226
63221493:31336333
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31397680
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->","Copilot never touches the file 
Type: <b>Bug</b>

Copilot keeps calming to edit a file but does nothing. Just keeps wasting time by constatly repeating a proper analysis but never actually aplying a result although it was instructed multiple time sto do so

Extension version: 0.31.5
VS Code version: Code 1.104.3 (385651c938df8a906869babee516bffd0ddb9829, 2025-10-02T12:30:51.747Z)
OS version: Windows_NT x64 10.0.26100
Modes:

<details>
<summary>System Info</summary>

|Item|Value|
|---|---|
|CPUs|Intel(R) Core(TM) Ultra 7 165H (22 x 3072)|
|GPU Status|2d_canvas: enabled<br>direct_rendering_display_compositor: disabled_off_ok<br>gpu_compositing: enabled<br>multiple_raster_threads: enabled_on<br>opengl: enabled_on<br>rasterization: enabled<br>raw_draw: disabled_off_ok<br>skia_graphite: disabled_off<br>trees_in_viz: disabled_off<br>video_decode: enabled<br>video_encode: enabled<br>vulkan: disabled_off<br>webgl: enabled<br>webgl2: enabled<br>webgpu: enabled<br>webnn: disabled_off|
|Load (avg)|undefined|
|Memory (System)|63.46GB (21.46GB free)|
|Process Argv|--crash-reporter-id 31af5fe7-b7e6-42c8-a480-853f0ccddec3|
|Screen Reader|no|
|VM|0%|
</details><details>
<summary>A/B Experiments</summary>

```
vsliv368:30146709
binariesv615:30325510
nativeloc1:31344060
dwcopilot:31170013
dwoutputs:31242946
copilot_t_ci:31333650
e5gg6876:31282496
pythonrdcb7:31342333
usemplatestapi:31297334
aj953862:31281341
cs4_fixed:31398790
4f60g487:31327383
nes-set-on:31351930
testaa123:31335226
63221493:31336333
ovs_sec_t:31398873
0cj2b977:31352657
gendocstringf:31395206
cloudbuttont:31379625
todos-1:31390405
treatment_gpt5applypatchexclusively:31398171
3efgi100_wstrepl:31382709
trigger-command-fix:31379601
cmp-cht-code-treat-node-fetcher:31397680
auto_model_enabled:31385282
use-responses-api:31390855

```

</details>

<!-- generated by issue reporter -->",jrieken,2025-10-09T10:14:01+00:00,,jrieken
microsoft_vscode,The search results cannot be copied in a tree structure,"<!-- ⚠️⚠️ Do Not Delete This! feature_request_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- Please search existing issues to avoid creating duplicates. -->

<!-- Describe the feature you'd like. -->
When I select 'View as Tree' for the search results and choose 'Copy All',
the results are not copied in the tree structure,they look more like ""View as List"".

<img width=""748"" height=""570"" alt=""Image"" src=""https://github.com/user-attachments/assets/e7132b55-7ab5-476b-a4c0-87522e2216d1"" />","The search results cannot be copied in a tree structure <!-- ⚠️⚠️ Do Not Delete This! feature_request_template ⚠️⚠️ -->
<!-- Please read our Rules of Conduct: https://opensource.microsoft.com/codeofconduct/ -->
<!-- Please search existing issues to avoid creating duplicates. -->

<!-- Describe the feature you'd like. -->
When I select 'View as Tree' for the search results and choose 'Copy All',
the results are not copied in the tree structure,they look more like ""View as List"".

<img width=""748"" height=""570"" alt=""Image"" src=""https://github.com/user-attachments/assets/e7132b55-7ab5-476b-a4c0-87522e2216d1"" />",osortega,2025-10-09T09:04:06+00:00,,osortega
pytorch_pytorch,DISABLED test_aoti_user_defined_triton_kernel_profiling_xpu (__main__.AOTInductorTestABICompatibleGpu),"Platforms: xpu

This test was disabled because it is failing on main branch ([recent examples](https://torch-ci.com/failure?failureCaptures=%5B%22inductor%2Ftest_aot_inductor.py%3A%3AAOTInductorTestABICompatibleGpu%3A%3Atest_aoti_user_defined_triton_kernel_profiling_xpu%22%5D)).

cc @gujinghui @EikanWang @fengyuan14 @guangyey","DISABLED test_aoti_user_defined_triton_kernel_profiling_xpu (__main__.AOTInductorTestABICompatibleGpu) Platforms: xpu

This test was disabled because it is failing on main branch ([recent examples](https://torch-ci.com/failure?failureCaptures=%5B%22inductor%2Ftest_aot_inductor.py%3A%3AAOTInductorTestABICompatibleGpu%3A%3Atest_aoti_user_defined_triton_kernel_profiling_xpu%22%5D)).

cc @gujinghui @EikanWang @fengyuan14 @guangyey",etaf,2025-10-10T07:10:44+00:00,"triaged, skipped, module: xpu",etaf
pytorch_pytorch,"[Fuzzer][Eager/Compile Divergence] Could not guard on data-dependent expression Ne(u0, 9)","```
import torch
torch._dynamo.config.capture_scalar_outputs = True
torch._dynamo.config.capture_dynamic_output_shape_ops = True

torch.manual_seed(52676)

def fuzzed_program(arg_0, arg_1, arg_2, arg_3, arg_4, arg_5, arg_6, arg_7, arg_8, arg_9, arg_10, arg_11, arg_12, arg_13, arg_14, arg_15, arg_16, arg_17, arg_18, sentinel):
    var_node_6 = arg_0 # size=(9, 9, 9), stride=(81, 9, 1), dtype=float64, device=cuda
    var_node_7 = arg_1 # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_5 = torch.matmul(var_node_6.to(torch.float64), var_node_7.to(torch.float64)) # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_9 = torch.full((9, 11, 12), 1.5758497316910556, dtype=torch.float64) # size=(9, 11, 12), stride=(132, 12, 1), dtype=float64, device=cuda
    var_node_10 = arg_2 # size=(9, 12, 8), stride=(96, 8, 1), dtype=float64, device=cuda
    var_node_8 = torch.matmul(var_node_9.to(torch.float64), var_node_10.to(torch.float64)) # size=(9, 11, 8), stride=(88, 8, 1), dtype=float64, device=cuda
    var_node_4 = torch.matmul(var_node_5.to(torch.float64), var_node_8.to(torch.float64)) # size=(9, 9, 8), stride=(72, 8, 1), dtype=float64, device=cuda
    var_node_13 = arg_3 # size=(9, 8, 13), stride=(104, 13, 1), dtype=float64, device=cuda
    var_node_14 = arg_4 # size=(9, 13, 7), stride=(91, 7, 1), dtype=float64, device=cuda
    var_node_12 = torch.matmul(var_node_13.to(torch.float64), var_node_14.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_15 = arg_5 # size=(9, 7, 16), stride=(112, 16, 1), dtype=float64, device=cuda
    var_node_11 = torch.matmul(var_node_12.to(torch.float64), var_node_15.to(torch.float64)) # size=(9, 8, 16), stride=(128, 16, 1), dtype=float64, device=cuda
    var_node_3 = torch.matmul(var_node_4.to(torch.float64), var_node_11.to(torch.float64)) # size=(9, 9, 16), stride=(144, 16, 1), dtype=float64, device=cuda
    var_node_17 = arg_6 # size=(9, 16, 12), stride=(192, 12, 1), dtype=float64, device=cuda
    var_node_18 = arg_7 # size=(9, 12, 11), stride=(132, 11, 1), dtype=float64, device=cuda
    var_node_16 = torch.matmul(var_node_17.to(torch.float64), var_node_18.to(torch.float64)) # size=(9, 16, 11), stride=(176, 11, 1), dtype=float64, device=cuda
    var_node_2 = torch.matmul(var_node_3.to(torch.float64), var_node_16.to(torch.float64)) # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_23 = torch.full((156, 8), -0.5249394453404403, dtype=torch.float64) # size=(156, 8), stride=(8, 1), dtype=float64, device=cuda
    var_node_24 = torch.full((8, 9), 0.9331226188585692, dtype=torch.float64) # size=(8, 9), stride=(9, 1), dtype=float64, device=cuda
    var_node_22 = torch.matmul(var_node_23.to(torch.float64), var_node_24.to(torch.float64)) # size=(156, 9), stride=(9, 1), dtype=float64, device=cuda
    var_node_26 = torch.full((9, 13), -0.9276381954691514, dtype=torch.float64) # size=(9, 13), stride=(13, 1), dtype=float64, device=cuda
    var_node_27 = torch.full((13, 16), 0.024752238943232543, dtype=torch.float64) # size=(13, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_25 = torch.matmul(var_node_26.to(torch.float64), var_node_27.to(torch.float64)) # size=(9, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_21 = torch.matmul(var_node_22.to(torch.float64), var_node_25.to(torch.float64)) # size=(156, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_29 = arg_8 # size=(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), stride=(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), dtype=bool, device=cuda
    _x_nz = torch.zeros((9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), dtype=torch.bool, device=var_node_29.device)
    _x_nz_flat = _x_nz.reshape(-1)
    _x_nz_flat[:9] = True
    var_node_28 = torch.nonzero(_x_nz) # size=(9, 11), stride=(11, 1), dtype=int64, device=cuda
    var_node_20 = torch.nn.functional.embedding(torch.clamp(var_node_28.to(torch.int64), 0, var_node_21.size(0)-1), var_node_21) # size=(9, 11, 16), stride=(176, 16, 1), dtype=float64, device=cuda
    var_node_33 = torch.full((9, 16, 5), 1.0707914920634904, dtype=torch.float64) # size=(9, 16, 5), stride=(80, 5, 1), dtype=float64, device=cuda
    var_node_34 = torch.full((9, 5, 10), -0.44934093079047227, dtype=torch.float64) # size=(9, 5, 10), stride=(50, 10, 1), dtype=float64, device=cuda
    var_node_32 = torch.matmul(var_node_33.to(torch.float64), var_node_34.to(torch.float64)) # size=(9, 16, 10), stride=(160, 10, 1), dtype=float64, device=cuda
    var_node_36 = arg_9 # size=(9, 10, 1), stride=(10, 1, 1), dtype=float64, device=cuda
    var_node_37 = torch.full((9, 1, 11), -1.874293687140311, dtype=torch.float64) # size=(9, 1, 11), stride=(11, 11, 1), dtype=float64, device=cuda
    var_node_35 = torch.matmul(var_node_36.to(torch.float64), var_node_37.to(torch.float64)) # size=(9, 10, 11), stride=(110, 11, 1), dtype=float64, device=cuda
    var_node_31 = torch.matmul(var_node_32.to(torch.float64), var_node_35.to(torch.float64)) # size=(9, 16, 11), stride=(176, 11, 1), dtype=float64, device=cuda
    var_node_40 = torch.full((990, 2), 0.4084376380351558, dtype=torch.float64) # size=(990, 2), stride=(2, 1), dtype=float64, device=cuda
    var_node_41 = torch.full((2,), 0.982671965550022, dtype=torch.float64) # size=(2,), stride=(1,), dtype=float64, device=cuda
    var_node_39 = torch.matmul(var_node_40.to(torch.float64), var_node_41.to(torch.float64)) # size=(990,), stride=(1,), dtype=float64, device=cuda
    var_node_38 = torch.reshape(var_node_39, [9, 11, 10]) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda
    var_node_30 = torch.matmul(var_node_31.to(torch.float64), var_node_38.to(torch.float64)) # size=(9, 16, 10), stride=(160, 10, 1), dtype=float64, device=cuda
    var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda
    var_node_1 = torch.matmul(var_node_2.to(torch.float64), var_node_19.to(torch.float64)) # size=(9, 9, 10), stride=(90, 10, 1), dtype=float64, device=cuda
    var_node_47 = arg_10 # size=(9, 10, 15), stride=(150, 15, 1), dtype=float64, device=cuda
    var_node_48 = torch.full((9, 15, 2), -0.3349339402390618, dtype=torch.float64) # size=(9, 15, 2), stride=(30, 2, 1), dtype=float64, device=cuda
    var_node_46 = torch.matmul(var_node_47.to(torch.float64), var_node_48.to(torch.float64)) # size=(9, 10, 2), stride=(20, 2, 1), dtype=float64, device=cuda
    var_node_50 = arg_11 # size=(9, 2, 7), stride=(14, 7, 1), dtype=float64, device=cuda
    var_node_51 = arg_12 # size=(9, 7, 2), stride=(14, 2, 1), dtype=float64, device=cuda
    var_node_49 = torch.matmul(var_node_50.to(torch.float64), var_node_51.to(torch.float64)) # size=(9, 2, 2), stride=(4, 2, 1), dtype=float64, device=cuda
    var_node_45 = torch.matmul(var_node_46.to(torch.float64), var_node_49.to(torch.float64)) # size=(9, 10, 2), stride=(20, 2, 1), dtype=float64, device=cuda
    var_node_52 = torch.full((9, 2, 1), -0.4046675639434615, dtype=torch.float64) # size=(9, 2, 1), stride=(2, 1, 1), dtype=float64, device=cuda
    var_node_44 = torch.matmul(var_node_45.to(torch.float64), var_node_52.to(torch.float64)) # size=(9, 10, 1), stride=(10, 1, 1), dtype=float64, device=cuda
    var_node_56 = arg_13 # size=(9, 1, 1), stride=(1, 1, 1), dtype=float64, device=cuda
    var_node_55 = torch.nn.functional.rms_norm(var_node_56.to(torch.float64), (1,)) # size=(9, 1, 1), stride=(1, 1, 1), dtype=float64, device=cuda
    var_node_57 = torch.full((9, 1, 8), 0.17877664640931384, dtype=torch.float64) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_54 = torch.matmul(var_node_55.to(torch.float64), var_node_57.to(torch.float64)) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_60 = arg_14 # size=(9, 8, 10), stride=(80, 10, 1), dtype=float64, device=cuda
    var_node_61 = torch.full((9, 10, 6), 0.43614806380221494, dtype=torch.float64) # size=(9, 10, 6), stride=(60, 6, 1), dtype=float64, device=cuda
    var_node_59 = torch.matmul(var_node_60.to(torch.float64), var_node_61.to(torch.float64)) # size=(9, 8, 6), stride=(48, 6, 1), dtype=float64, device=cuda
    var_node_63 = arg_15 # size=(9, 6, 3), stride=(18, 3, 1), dtype=float64, device=cuda
    var_node_64 = torch.full((9, 3, 8), -0.042774422041922854, dtype=torch.float64) # size=(9, 3, 8), stride=(24, 8, 1), dtype=float64, device=cuda
    var_node_62 = torch.matmul(var_node_63.to(torch.float64), var_node_64.to(torch.float64)) # size=(9, 6, 8), stride=(48, 8, 1), dtype=float64, device=cuda
    var_node_58 = torch.matmul(var_node_59.to(torch.float64), var_node_62.to(torch.float64)) # size=(9, 8, 8), stride=(64, 8, 1), dtype=float64, device=cuda
    var_node_53 = torch.matmul(var_node_54.to(torch.float64), var_node_58.to(torch.float64)) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_43 = torch.matmul(var_node_44.to(torch.float64), var_node_53.to(torch.float64)) # size=(9, 10, 8), stride=(80, 8, 1), dtype=float64, device=cuda
    var_node_68 = arg_16 # size=(9, 8, 16), stride=(128, 16, 1), dtype=float64, device=cuda
    var_node_70 = torch.full((9, 16, 15), 0.24947808634496438, dtype=torch.float64) # size=(9, 16, 15), stride=(240, 15, 1), dtype=float64, device=cuda
    var_node_71 = torch.full((9, 15, 7), -0.09035245509773453, dtype=torch.float64) # size=(9, 15, 7), stride=(105, 7, 1), dtype=float64, device=cuda
    var_node_69 = torch.matmul(var_node_70.to(torch.float64), var_node_71.to(torch.float64)) # size=(9, 16, 7), stride=(112, 7, 1), dtype=float64, device=cuda
    var_node_67 = torch.matmul(var_node_68.to(torch.float64), var_node_69.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_74 = torch.full((9, 7, 1), 0.05671950481832341, dtype=torch.float64) # size=(9, 7, 1), stride=(7, 1, 1), dtype=float64, device=cuda
    var_node_73 = torch.nn.functional.gelu(var_node_74) # size=(9, 7, 1), stride=(7, 1, 1), dtype=float64, device=cuda
    var_node_76 = torch.full((9, 1, 2), -0.019912810353597852, dtype=torch.float64) # size=(9, 1, 2), stride=(2, 2, 1), dtype=float64, device=cuda
    var_node_77 = arg_17 # size=(9, 2, 7), stride=(14, 7, 1), dtype=float64, device=cuda
    var_node_75 = torch.matmul(var_node_76.to(torch.float64), var_node_77.to(torch.float64)) # size=(9, 1, 7), stride=(7, 7, 1), dtype=float64, device=cuda
    var_node_72 = torch.matmul(var_node_73.to(torch.float64), var_node_75.to(torch.float64)) # size=(9, 7, 7), stride=(49, 7, 1), dtype=float64, device=cuda
    var_node_66 = torch.matmul(var_node_67.to(torch.float64), var_node_72.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_78 = arg_18 # size=(9, 7, 13), stride=(91, 13, 1), dtype=float64, device=cuda
    var_node_65 = torch.matmul(var_node_66.to(torch.float64), var_node_78.to(torch.float64)) # size=(9, 8, 13), stride=(104, 13, 1), dtype=float64, device=cuda
    var_node_42 = torch.matmul(var_node_43.to(torch.float64), var_node_65.to(torch.float64)) # size=(9, 10, 13), stride=(130, 13, 1), dtype=float64, device=cuda
    var_node_0 = torch.matmul(var_node_1.to(torch.float64), var_node_42.to(torch.float64)) # size=(9, 9, 13), stride=(117, 13, 1), dtype=float64, device=cuda
    # Ensure gradient computation by multiplying with sentinel and taking real part
    result = var_node_0 * sentinel
    if result.is_complex():
        result = result.real
    return result

# Sentinel tensor to ensure gradient computation
sentinel = torch.tensor(1.0, requires_grad=True)

arg_0 = torch.as_strided(torch.randn(729).to(torch.float64), (9, 9, 9), (81, 9, 1))
arg_1 = torch.as_strided(torch.randn(891).to(torch.float64), (9, 9, 11), (99, 11, 1))
arg_2 = torch.as_strided(torch.randn(864).to(torch.float64), (9, 12, 8), (96, 8, 1))
arg_3 = torch.as_strided(torch.randn(936).to(torch.float64), (9, 8, 13), (104, 13, 1))
arg_4 = torch.as_strided(torch.randn(819).to(torch.float64), (9, 13, 7), (91, 7, 1))
arg_5 = torch.as_strided(torch.randn(1008).to(torch.float64), (9, 7, 16), (112, 16, 1))
arg_6 = torch.as_strided(torch.randn(1728).to(torch.float64), (9, 16, 12), (192, 12, 1))
arg_7 = torch.as_strided(torch.randn(1188).to(torch.float64), (9, 12, 11), (132, 11, 1))
arg_8 = torch.as_strided(torch.randint(0, 2, (1,), dtype=torch.int8).bool(), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1))
arg_9 = torch.as_strided(torch.randn(90).to(torch.float64), (9, 10, 1), (10, 1, 1))
arg_10 = torch.as_strided(torch.randn(1350).to(torch.float64), (9, 10, 15), (150, 15, 1))
arg_11 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 2, 7), (14, 7, 1))
arg_12 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 7, 2), (14, 2, 1))
arg_13 = torch.as_strided(torch.randn(9).to(torch.float64), (9, 1, 1), (1, 1, 1))
arg_14 = torch.as_strided(torch.randn(720).to(torch.float64), (9, 8, 10), (80, 10, 1))
arg_15 = torch.as_strided(torch.randn(162).to(torch.float64), (9, 6, 3), (18, 3, 1))
arg_16 = torch.as_strided(torch.randn(1152).to(torch.float64), (9, 8, 16), (128, 16, 1))
arg_17 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 2, 7), (14, 7, 1))
arg_18 = torch.as_strided(torch.randn(819).to(torch.float64), (9, 7, 13), (91, 13, 1))

args = (arg_0, arg_1, arg_2, arg_3, arg_4, arg_5, arg_6, arg_7, arg_8, arg_9, arg_10, arg_11, arg_12, arg_13, arg_14, arg_15, arg_16, arg_17, arg_18) + (sentinel,)
result_original = fuzzed_program(*args)
print('✅ eager success')
compiled_program = torch.compile(fuzzed_program, fullgraph=True, dynamic=True)
result_compiled = compiled_program(*args)
print('✅ compile success')
```

```
   ✅ eager success                                                                                                                                                                                                                             
   Traceback (most recent call last):                                                                                                                                                                                                           
     File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 123, in <module>                                                                                                                                                                              
       result_compiled = compiled_program(*args)                                                                                                                                                                                                
     File ""/home/bobren/local/a/pytorch/torch/_dynamo/eval_frame.py"", line 895, in compile_wrapper                                                                                                                                              
       raise e.with_traceback(None) from e.__cause__  # User compiler error                                                                                                                                                                     
   torch._dynamo.exc.UserError: Could not guard on data-dependent expression Ne(u0, 9) (unhinted: Ne(u0, 9)).  (Size-like symbols: u0)                                                                                                          
   consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda  # mp/torchfuzz/fuzz_51fbc8f1.py:50 in fuzzed_program (_decomp/decompositions.py:4575 in matmul)
   For more information, run with TORCH_LOGS=""dynamic""                                                                                                                                                                                          
   For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""                                                                                                                                             
   If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1                                                                                                                                                        
   For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing                                                                                                                
   User Stack (most recent call last):                                                                                                                                                                                                          
     (snipped, see stack below for prefix)                                                                                                                                                                                                      
     File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 50, in fuzzed_program                                                                                                                                                                         
       var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda                                                                             
   For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1                                                                                                                                                                               
   For more information about this error, see: https://pytorch.org/docs/main/generated/exportdb/index.html#constrain-as-size-example                                                                                                            
   from user code:                                                                                                                                                                                                                              
      File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 50, in fuzzed_program                                                                                                                                                                        
       var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda                                                                             
   Set TORCHDYNAMO_VERBOSE=1 for the internal stack trace (please do this especially if you're reporting a bug to PyTorch). For even more developer context, set TORCH_LOGS=""+dynamo"" 
```

cc @chauhang @penguinwu @ezyang","[Fuzzer][Eager/Compile Divergence] Could not guard on data-dependent expression Ne(u0, 9) ```
import torch
torch._dynamo.config.capture_scalar_outputs = True
torch._dynamo.config.capture_dynamic_output_shape_ops = True

torch.manual_seed(52676)

def fuzzed_program(arg_0, arg_1, arg_2, arg_3, arg_4, arg_5, arg_6, arg_7, arg_8, arg_9, arg_10, arg_11, arg_12, arg_13, arg_14, arg_15, arg_16, arg_17, arg_18, sentinel):
    var_node_6 = arg_0 # size=(9, 9, 9), stride=(81, 9, 1), dtype=float64, device=cuda
    var_node_7 = arg_1 # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_5 = torch.matmul(var_node_6.to(torch.float64), var_node_7.to(torch.float64)) # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_9 = torch.full((9, 11, 12), 1.5758497316910556, dtype=torch.float64) # size=(9, 11, 12), stride=(132, 12, 1), dtype=float64, device=cuda
    var_node_10 = arg_2 # size=(9, 12, 8), stride=(96, 8, 1), dtype=float64, device=cuda
    var_node_8 = torch.matmul(var_node_9.to(torch.float64), var_node_10.to(torch.float64)) # size=(9, 11, 8), stride=(88, 8, 1), dtype=float64, device=cuda
    var_node_4 = torch.matmul(var_node_5.to(torch.float64), var_node_8.to(torch.float64)) # size=(9, 9, 8), stride=(72, 8, 1), dtype=float64, device=cuda
    var_node_13 = arg_3 # size=(9, 8, 13), stride=(104, 13, 1), dtype=float64, device=cuda
    var_node_14 = arg_4 # size=(9, 13, 7), stride=(91, 7, 1), dtype=float64, device=cuda
    var_node_12 = torch.matmul(var_node_13.to(torch.float64), var_node_14.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_15 = arg_5 # size=(9, 7, 16), stride=(112, 16, 1), dtype=float64, device=cuda
    var_node_11 = torch.matmul(var_node_12.to(torch.float64), var_node_15.to(torch.float64)) # size=(9, 8, 16), stride=(128, 16, 1), dtype=float64, device=cuda
    var_node_3 = torch.matmul(var_node_4.to(torch.float64), var_node_11.to(torch.float64)) # size=(9, 9, 16), stride=(144, 16, 1), dtype=float64, device=cuda
    var_node_17 = arg_6 # size=(9, 16, 12), stride=(192, 12, 1), dtype=float64, device=cuda
    var_node_18 = arg_7 # size=(9, 12, 11), stride=(132, 11, 1), dtype=float64, device=cuda
    var_node_16 = torch.matmul(var_node_17.to(torch.float64), var_node_18.to(torch.float64)) # size=(9, 16, 11), stride=(176, 11, 1), dtype=float64, device=cuda
    var_node_2 = torch.matmul(var_node_3.to(torch.float64), var_node_16.to(torch.float64)) # size=(9, 9, 11), stride=(99, 11, 1), dtype=float64, device=cuda
    var_node_23 = torch.full((156, 8), -0.5249394453404403, dtype=torch.float64) # size=(156, 8), stride=(8, 1), dtype=float64, device=cuda
    var_node_24 = torch.full((8, 9), 0.9331226188585692, dtype=torch.float64) # size=(8, 9), stride=(9, 1), dtype=float64, device=cuda
    var_node_22 = torch.matmul(var_node_23.to(torch.float64), var_node_24.to(torch.float64)) # size=(156, 9), stride=(9, 1), dtype=float64, device=cuda
    var_node_26 = torch.full((9, 13), -0.9276381954691514, dtype=torch.float64) # size=(9, 13), stride=(13, 1), dtype=float64, device=cuda
    var_node_27 = torch.full((13, 16), 0.024752238943232543, dtype=torch.float64) # size=(13, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_25 = torch.matmul(var_node_26.to(torch.float64), var_node_27.to(torch.float64)) # size=(9, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_21 = torch.matmul(var_node_22.to(torch.float64), var_node_25.to(torch.float64)) # size=(156, 16), stride=(16, 1), dtype=float64, device=cuda
    var_node_29 = arg_8 # size=(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), stride=(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), dtype=bool, device=cuda
    _x_nz = torch.zeros((9, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), dtype=torch.bool, device=var_node_29.device)
    _x_nz_flat = _x_nz.reshape(-1)
    _x_nz_flat[:9] = True
    var_node_28 = torch.nonzero(_x_nz) # size=(9, 11), stride=(11, 1), dtype=int64, device=cuda
    var_node_20 = torch.nn.functional.embedding(torch.clamp(var_node_28.to(torch.int64), 0, var_node_21.size(0)-1), var_node_21) # size=(9, 11, 16), stride=(176, 16, 1), dtype=float64, device=cuda
    var_node_33 = torch.full((9, 16, 5), 1.0707914920634904, dtype=torch.float64) # size=(9, 16, 5), stride=(80, 5, 1), dtype=float64, device=cuda
    var_node_34 = torch.full((9, 5, 10), -0.44934093079047227, dtype=torch.float64) # size=(9, 5, 10), stride=(50, 10, 1), dtype=float64, device=cuda
    var_node_32 = torch.matmul(var_node_33.to(torch.float64), var_node_34.to(torch.float64)) # size=(9, 16, 10), stride=(160, 10, 1), dtype=float64, device=cuda
    var_node_36 = arg_9 # size=(9, 10, 1), stride=(10, 1, 1), dtype=float64, device=cuda
    var_node_37 = torch.full((9, 1, 11), -1.874293687140311, dtype=torch.float64) # size=(9, 1, 11), stride=(11, 11, 1), dtype=float64, device=cuda
    var_node_35 = torch.matmul(var_node_36.to(torch.float64), var_node_37.to(torch.float64)) # size=(9, 10, 11), stride=(110, 11, 1), dtype=float64, device=cuda
    var_node_31 = torch.matmul(var_node_32.to(torch.float64), var_node_35.to(torch.float64)) # size=(9, 16, 11), stride=(176, 11, 1), dtype=float64, device=cuda
    var_node_40 = torch.full((990, 2), 0.4084376380351558, dtype=torch.float64) # size=(990, 2), stride=(2, 1), dtype=float64, device=cuda
    var_node_41 = torch.full((2,), 0.982671965550022, dtype=torch.float64) # size=(2,), stride=(1,), dtype=float64, device=cuda
    var_node_39 = torch.matmul(var_node_40.to(torch.float64), var_node_41.to(torch.float64)) # size=(990,), stride=(1,), dtype=float64, device=cuda
    var_node_38 = torch.reshape(var_node_39, [9, 11, 10]) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda
    var_node_30 = torch.matmul(var_node_31.to(torch.float64), var_node_38.to(torch.float64)) # size=(9, 16, 10), stride=(160, 10, 1), dtype=float64, device=cuda
    var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda
    var_node_1 = torch.matmul(var_node_2.to(torch.float64), var_node_19.to(torch.float64)) # size=(9, 9, 10), stride=(90, 10, 1), dtype=float64, device=cuda
    var_node_47 = arg_10 # size=(9, 10, 15), stride=(150, 15, 1), dtype=float64, device=cuda
    var_node_48 = torch.full((9, 15, 2), -0.3349339402390618, dtype=torch.float64) # size=(9, 15, 2), stride=(30, 2, 1), dtype=float64, device=cuda
    var_node_46 = torch.matmul(var_node_47.to(torch.float64), var_node_48.to(torch.float64)) # size=(9, 10, 2), stride=(20, 2, 1), dtype=float64, device=cuda
    var_node_50 = arg_11 # size=(9, 2, 7), stride=(14, 7, 1), dtype=float64, device=cuda
    var_node_51 = arg_12 # size=(9, 7, 2), stride=(14, 2, 1), dtype=float64, device=cuda
    var_node_49 = torch.matmul(var_node_50.to(torch.float64), var_node_51.to(torch.float64)) # size=(9, 2, 2), stride=(4, 2, 1), dtype=float64, device=cuda
    var_node_45 = torch.matmul(var_node_46.to(torch.float64), var_node_49.to(torch.float64)) # size=(9, 10, 2), stride=(20, 2, 1), dtype=float64, device=cuda
    var_node_52 = torch.full((9, 2, 1), -0.4046675639434615, dtype=torch.float64) # size=(9, 2, 1), stride=(2, 1, 1), dtype=float64, device=cuda
    var_node_44 = torch.matmul(var_node_45.to(torch.float64), var_node_52.to(torch.float64)) # size=(9, 10, 1), stride=(10, 1, 1), dtype=float64, device=cuda
    var_node_56 = arg_13 # size=(9, 1, 1), stride=(1, 1, 1), dtype=float64, device=cuda
    var_node_55 = torch.nn.functional.rms_norm(var_node_56.to(torch.float64), (1,)) # size=(9, 1, 1), stride=(1, 1, 1), dtype=float64, device=cuda
    var_node_57 = torch.full((9, 1, 8), 0.17877664640931384, dtype=torch.float64) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_54 = torch.matmul(var_node_55.to(torch.float64), var_node_57.to(torch.float64)) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_60 = arg_14 # size=(9, 8, 10), stride=(80, 10, 1), dtype=float64, device=cuda
    var_node_61 = torch.full((9, 10, 6), 0.43614806380221494, dtype=torch.float64) # size=(9, 10, 6), stride=(60, 6, 1), dtype=float64, device=cuda
    var_node_59 = torch.matmul(var_node_60.to(torch.float64), var_node_61.to(torch.float64)) # size=(9, 8, 6), stride=(48, 6, 1), dtype=float64, device=cuda
    var_node_63 = arg_15 # size=(9, 6, 3), stride=(18, 3, 1), dtype=float64, device=cuda
    var_node_64 = torch.full((9, 3, 8), -0.042774422041922854, dtype=torch.float64) # size=(9, 3, 8), stride=(24, 8, 1), dtype=float64, device=cuda
    var_node_62 = torch.matmul(var_node_63.to(torch.float64), var_node_64.to(torch.float64)) # size=(9, 6, 8), stride=(48, 8, 1), dtype=float64, device=cuda
    var_node_58 = torch.matmul(var_node_59.to(torch.float64), var_node_62.to(torch.float64)) # size=(9, 8, 8), stride=(64, 8, 1), dtype=float64, device=cuda
    var_node_53 = torch.matmul(var_node_54.to(torch.float64), var_node_58.to(torch.float64)) # size=(9, 1, 8), stride=(8, 8, 1), dtype=float64, device=cuda
    var_node_43 = torch.matmul(var_node_44.to(torch.float64), var_node_53.to(torch.float64)) # size=(9, 10, 8), stride=(80, 8, 1), dtype=float64, device=cuda
    var_node_68 = arg_16 # size=(9, 8, 16), stride=(128, 16, 1), dtype=float64, device=cuda
    var_node_70 = torch.full((9, 16, 15), 0.24947808634496438, dtype=torch.float64) # size=(9, 16, 15), stride=(240, 15, 1), dtype=float64, device=cuda
    var_node_71 = torch.full((9, 15, 7), -0.09035245509773453, dtype=torch.float64) # size=(9, 15, 7), stride=(105, 7, 1), dtype=float64, device=cuda
    var_node_69 = torch.matmul(var_node_70.to(torch.float64), var_node_71.to(torch.float64)) # size=(9, 16, 7), stride=(112, 7, 1), dtype=float64, device=cuda
    var_node_67 = torch.matmul(var_node_68.to(torch.float64), var_node_69.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_74 = torch.full((9, 7, 1), 0.05671950481832341, dtype=torch.float64) # size=(9, 7, 1), stride=(7, 1, 1), dtype=float64, device=cuda
    var_node_73 = torch.nn.functional.gelu(var_node_74) # size=(9, 7, 1), stride=(7, 1, 1), dtype=float64, device=cuda
    var_node_76 = torch.full((9, 1, 2), -0.019912810353597852, dtype=torch.float64) # size=(9, 1, 2), stride=(2, 2, 1), dtype=float64, device=cuda
    var_node_77 = arg_17 # size=(9, 2, 7), stride=(14, 7, 1), dtype=float64, device=cuda
    var_node_75 = torch.matmul(var_node_76.to(torch.float64), var_node_77.to(torch.float64)) # size=(9, 1, 7), stride=(7, 7, 1), dtype=float64, device=cuda
    var_node_72 = torch.matmul(var_node_73.to(torch.float64), var_node_75.to(torch.float64)) # size=(9, 7, 7), stride=(49, 7, 1), dtype=float64, device=cuda
    var_node_66 = torch.matmul(var_node_67.to(torch.float64), var_node_72.to(torch.float64)) # size=(9, 8, 7), stride=(56, 7, 1), dtype=float64, device=cuda
    var_node_78 = arg_18 # size=(9, 7, 13), stride=(91, 13, 1), dtype=float64, device=cuda
    var_node_65 = torch.matmul(var_node_66.to(torch.float64), var_node_78.to(torch.float64)) # size=(9, 8, 13), stride=(104, 13, 1), dtype=float64, device=cuda
    var_node_42 = torch.matmul(var_node_43.to(torch.float64), var_node_65.to(torch.float64)) # size=(9, 10, 13), stride=(130, 13, 1), dtype=float64, device=cuda
    var_node_0 = torch.matmul(var_node_1.to(torch.float64), var_node_42.to(torch.float64)) # size=(9, 9, 13), stride=(117, 13, 1), dtype=float64, device=cuda
    # Ensure gradient computation by multiplying with sentinel and taking real part
    result = var_node_0 * sentinel
    if result.is_complex():
        result = result.real
    return result

# Sentinel tensor to ensure gradient computation
sentinel = torch.tensor(1.0, requires_grad=True)

arg_0 = torch.as_strided(torch.randn(729).to(torch.float64), (9, 9, 9), (81, 9, 1))
arg_1 = torch.as_strided(torch.randn(891).to(torch.float64), (9, 9, 11), (99, 11, 1))
arg_2 = torch.as_strided(torch.randn(864).to(torch.float64), (9, 12, 8), (96, 8, 1))
arg_3 = torch.as_strided(torch.randn(936).to(torch.float64), (9, 8, 13), (104, 13, 1))
arg_4 = torch.as_strided(torch.randn(819).to(torch.float64), (9, 13, 7), (91, 7, 1))
arg_5 = torch.as_strided(torch.randn(1008).to(torch.float64), (9, 7, 16), (112, 16, 1))
arg_6 = torch.as_strided(torch.randn(1728).to(torch.float64), (9, 16, 12), (192, 12, 1))
arg_7 = torch.as_strided(torch.randn(1188).to(torch.float64), (9, 12, 11), (132, 11, 1))
arg_8 = torch.as_strided(torch.randint(0, 2, (1,), dtype=torch.int8).bool(), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1), (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1))
arg_9 = torch.as_strided(torch.randn(90).to(torch.float64), (9, 10, 1), (10, 1, 1))
arg_10 = torch.as_strided(torch.randn(1350).to(torch.float64), (9, 10, 15), (150, 15, 1))
arg_11 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 2, 7), (14, 7, 1))
arg_12 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 7, 2), (14, 2, 1))
arg_13 = torch.as_strided(torch.randn(9).to(torch.float64), (9, 1, 1), (1, 1, 1))
arg_14 = torch.as_strided(torch.randn(720).to(torch.float64), (9, 8, 10), (80, 10, 1))
arg_15 = torch.as_strided(torch.randn(162).to(torch.float64), (9, 6, 3), (18, 3, 1))
arg_16 = torch.as_strided(torch.randn(1152).to(torch.float64), (9, 8, 16), (128, 16, 1))
arg_17 = torch.as_strided(torch.randn(126).to(torch.float64), (9, 2, 7), (14, 7, 1))
arg_18 = torch.as_strided(torch.randn(819).to(torch.float64), (9, 7, 13), (91, 13, 1))

args = (arg_0, arg_1, arg_2, arg_3, arg_4, arg_5, arg_6, arg_7, arg_8, arg_9, arg_10, arg_11, arg_12, arg_13, arg_14, arg_15, arg_16, arg_17, arg_18) + (sentinel,)
result_original = fuzzed_program(*args)
print('✅ eager success')
compiled_program = torch.compile(fuzzed_program, fullgraph=True, dynamic=True)
result_compiled = compiled_program(*args)
print('✅ compile success')
```

```
   ✅ eager success                                                                                                                                                                                                                             
   Traceback (most recent call last):                                                                                                                                                                                                           
     File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 123, in <module>                                                                                                                                                                              
       result_compiled = compiled_program(*args)                                                                                                                                                                                                
     File ""/home/bobren/local/a/pytorch/torch/_dynamo/eval_frame.py"", line 895, in compile_wrapper                                                                                                                                              
       raise e.with_traceback(None) from e.__cause__  # User compiler error                                                                                                                                                                     
   torch._dynamo.exc.UserError: Could not guard on data-dependent expression Ne(u0, 9) (unhinted: Ne(u0, 9)).  (Size-like symbols: u0)                                                                                                          
   consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda  # mp/torchfuzz/fuzz_51fbc8f1.py:50 in fuzzed_program (_decomp/decompositions.py:4575 in matmul)
   For more information, run with TORCH_LOGS=""dynamic""                                                                                                                                                                                          
   For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""                                                                                                                                             
   If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1                                                                                                                                                        
   For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing                                                                                                                
   User Stack (most recent call last):                                                                                                                                                                                                          
     (snipped, see stack below for prefix)                                                                                                                                                                                                      
     File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 50, in fuzzed_program                                                                                                                                                                         
       var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda                                                                             
   For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1                                                                                                                                                                               
   For more information about this error, see: https://pytorch.org/docs/main/generated/exportdb/index.html#constrain-as-size-example                                                                                                            
   from user code:                                                                                                                                                                                                                              
      File ""/tmp/torchfuzz/fuzz_51fbc8f1.py"", line 50, in fuzzed_program                                                                                                                                                                        
       var_node_19 = torch.matmul(var_node_20.to(torch.float64), var_node_30.to(torch.float64)) # size=(9, 11, 10), stride=(110, 10, 1), dtype=float64, device=cuda                                                                             
   Set TORCHDYNAMO_VERBOSE=1 for the internal stack trace (please do this especially if you're reporting a bug to PyTorch). For even more developer context, set TORCH_LOGS=""+dynamo"" 
```

cc @chauhang @penguinwu @ezyang",laithsakka,2025-10-09T18:06:34+00:00,"oncall: pt2, module: dynamic shapes, topic: fuzzer",laithsakka
pytorch_pytorch,torch.export lift symint input to a graph during dynamo,"This is an issue filed internally for torch.export team: 

torch.export will unlift symint inputs to a graph during tracing, but in dynamo It will keep it lifted in torch IR:
torch.export(strict=True):
```
    class GraphModule(torch.nn.Module):
        def forward(self, x: ""f32[s77, 2]""):
             # 
            sym_size_int_1: ""Sym(s77)"" = torch.ops.aten.sym_size.int(x, 0)
            
             # File: /tmp/ipykernel_183885/3092020146.py:8 in forward, code: return x + x.shape[0]
            add: ""f32[s77, 2]"" = torch.ops.aten.add.Tensor(x, sym_size_int_1);  x = sym_size_int_1 = None
            return (add,)
```
Dynamo:
```
def forward(self, s77 : torch.SymInt, L_x_ : torch.Tensor):
    l_x_ = L_x_
    add = l_x_ + s77;  l_x_ = s77 = None
    return (add,)
```
This means at some step we unlift symint inputs. @tugsbayasgalan suspects we did something in the tracing. We need to confirm this and make sure export always consumes the lifted graph and unlift it at a later stage to reduce divergence between torch.export and dynamo.

","torch.export lift symint input to a graph during dynamo This is an issue filed internally for torch.export team: 

torch.export will unlift symint inputs to a graph during tracing, but in dynamo It will keep it lifted in torch IR:
torch.export(strict=True):
```
    class GraphModule(torch.nn.Module):
        def forward(self, x: ""f32[s77, 2]""):
             # 
            sym_size_int_1: ""Sym(s77)"" = torch.ops.aten.sym_size.int(x, 0)
            
             # File: /tmp/ipykernel_183885/3092020146.py:8 in forward, code: return x + x.shape[0]
            add: ""f32[s77, 2]"" = torch.ops.aten.add.Tensor(x, sym_size_int_1);  x = sym_size_int_1 = None
            return (add,)
```
Dynamo:
```
def forward(self, s77 : torch.SymInt, L_x_ : torch.Tensor):
    l_x_ = L_x_
    add = l_x_ + s77;  l_x_ = s77 = None
    return (add,)
```
This means at some step we unlift symint inputs. @tugsbayasgalan suspects we did something in the tracing. We need to confirm this and make sure export always consumes the lifted graph and unlift it at a later stage to reduce divergence between torch.export and dynamo.

",tugsbayasgalan,2025-10-09T17:31:00+00:00,,tugsbayasgalan
pytorch_pytorch,DTensor Matmul Compile with Unbacked Symint Failure,"### 🐛 Describe the bug

If a compiled function with DTensors matmul encounters an unbacked symint in a shape there is an sharding prop error during tracing

**Repro:**
```
import torch
import torch.distributed as dist
from torch.testing._internal.distributed.fake_pg import FakeStore

from torch.distributed.tensor import distribute_tensor, Shard, Replicate, DeviceMesh

device_type = ""cpu""
world_size = 4

fake_store = FakeStore()
dist.init_process_group(
    ""fake"", store=fake_store, rank=0, world_size=world_size
)

mesh = DeviceMesh(device_type, torch.arange(world_size))

@torch.compile(fullgraph=True)
def fn(x, y, mesh):
    x_local = x.full_tensor()
    # 1. Create a mask where the number of True values is unknown at trace time.
    mask = x_local.sum(dim=1) > 0  # Shape: (N,)

    # 2. `torch.nonzero` produces a shape with an unbacked SymInt.
    # The output shape will be (u0, 1), where u0 is the number of non-zero elements.
    indices = torch.nonzero(mask).squeeze(1) # Shape: (u0,)

    # 3. Select rows from the original tensor based on the dynamic indices.
    # This creates the tensor with the desired shape.
    selected_rows = torch.index_select(x_local, 0, indices) # Shape: (u0, 5120)
    x = torch.distributed.tensor.DTensor.from_local(selected_rows, mesh, (Replicate(),))
    return torch.mm(x, y)

x = torch.randn(16,5120).bfloat16()
y = torch.randn(5120, 1024).bfloat16()

dx = distribute_tensor(x, mesh, (Replicate(),))
dy = distribute_tensor(y, mesh, (Shard(1),))
torch._dynamo.mark_dynamic(dx, 0)

fn(dx, dy, mesh)
```

**Initial Error**:
```
[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 42, in <module>
[rank0]:     fn(dx, dy, mesh)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 886, in compile_wrapper
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 2010, in __call__
[rank0]:     result = self._torchdynamo_orig_backend(
[rank0]:              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 691, in __call__
[rank0]:     result = _compile(
[rank0]:              ^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1569, in _compile
[rank0]:     guarded_code, tracer_output = compile_inner(code, one_graph, hooks)
[rank0]:                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_utils_internal.py"", line 92, in wrapper_function
[rank0]:     return function(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1251, in compile_inner
[rank0]:     return _compile_inner(code, one_graph, hooks)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1285, in _compile_inner
[rank0]:     dynamo_output = compile_frame(
[rank0]:                     ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1166, in compile_frame
[rank0]:     bytecode, tracer_output = transform_code_object(code, transform)
[rank0]:                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/bytecode_transformation.py"", line 1537, in transform_code_object
[rank0]:     tracer_output = transformations(instructions, code_options)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1138, in transform
[rank0]:     tracer_output = trace_frame(
[rank0]:                     ^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 314, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 818, in trace_frame
[rank0]:     run_tracer()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 800, in run_tracer
[rank0]:     tracer.run()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1484, in run
[rank0]:     while self.step():
[rank0]:           ^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1345, in step
[rank0]:     self.dispatch_table[inst.opcode](self, inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 901, in wrapper
[rank0]:     return inner_fn(self, inst)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3400, in CALL
[rank0]:     self._call(inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3394, in _call
[rank0]:     self.call_function(fn, args, kwargs)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1263, in call_function
[rank0]:     self.push(fn.call_function(self, args, kwargs))  # type: ignore[arg-type]
[rank0]:               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/lazy.py"", line 212, in realize_and_forward
[rank0]:     return getattr(self.realize(), name)(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/torch.py"", line 1516, in call_function
[rank0]:     tensor_variable = wrap_fx_proxy(
[rank0]:                       ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2694, in wrap_fx_proxy
[rank0]:     return wrap_fx_proxy_cls(target_cls=TensorVariable, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2760, in wrap_fx_proxy_cls
[rank0]:     return _wrap_fx_proxy(
[rank0]:            ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2858, in _wrap_fx_proxy
[rank0]:     example_value = get_fake_value(proxy.node, tx, allow_non_graph_fake=True)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3487, in get_fake_value
[rank0]:     raise TorchRuntimeError(str(e)).with_traceback(e.__traceback__) from None
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3385, in get_fake_value
[rank0]:     ret_val = wrap_fake_exception(
[rank0]:               ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 2873, in wrap_fake_exception
[rank0]:     return fn()
[rank0]:            ^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3386, in <lambda>
[rank0]:     lambda: run_node(tx.output, node, args, kwargs, nnmodule)
[rank0]:             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3596, in run_node
[rank0]:     raise RuntimeError(make_error_message(e)).with_traceback(
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 169, in dispatch
[rank0]:     raise RuntimeError(
[rank0]: torch._dynamo.exc.TorchRuntimeError: Dynamo failed to run FX node with fake tensors: call_function <built-in method mm of type object at 0x7f529f842cc0>(*(DTensor(local_tensor=FakeTensor(..., size=(u0, 5120), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Replicate(),)), DTensor(local_tensor=FakeTensor(..., size=(5120, 256), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Shard(dim=1),))), **{}): got RuntimeError('Sharding propagation failed for Op(op=aten.mm.default, args_schema=Spec(R on (u0, 5120)), Spec(S(1) on (5120, 1024)) @ mesh: (4,))')

[rank0]: from user code:
[rank0]:    File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)
```

This actual error seems to get hidden, so if I comment out the exception catch, we get the following error:

**Lower Error**:
```
[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 156, in dispatch
[rank0]:     self.sharding_propagator.propagate(op_info)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 338, in propagate
[rank0]:     output_sharding = self.propagate_op_sharding_non_cached(op_info.schema)
[rank0]:                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 360, in propagate_op_sharding_non_cached
[rank0]:     op_strategy = self.op_strategy_funcs[op_schema.op](strategy_schema)
[rank0]:                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 226, in mm_strategy
[rank0]:     return _mm_like_strategy(""mk,kn->mn"", mesh, op_schema)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 83, in _mm_like_strategy
[rank0]:     if is_tensor_shardable(self_strategy.shape, self_spec) and is_tensor_shardable(
[rank0]:        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/utils.py"", line 175, in is_tensor_shardable
[rank0]:     if shards_map[i] > 1 and dim_size < shards_map[i]:
[rank0]:                              ^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/__init__.py"", line 761, in __bool__
[rank0]:     return self.node.bool_()
[rank0]:            ^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 616, in bool_
[rank0]:     return self.guard_bool("""", 0)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 538, in guard_bool
[rank0]:     r = self.evaluate()
[rank0]:         ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 512, in evaluate
[rank0]:     return self.shape_env.evaluate_sym_node(self, size_oblivious)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7269, in evaluate_sym_node
[rank0]:     return self.evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7369, in evaluate_expr
[rank0]:     return self._inner_evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/recording.py"", line 272, in wrapper
[rank0]:     return retlog(fn(*args, **kwargs))
[rank0]:                   ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7392, in _inner_evaluate_expr
[rank0]:     return self._evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7609, in _evaluate_expr
[rank0]:     raise self._make_data_dependent_error(
[rank0]: torch.fx.experimental.symbolic_shapes.GuardOnDataDependentSymNode: Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)

[rank0]: consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)
[rank0]: For more information, run with TORCH_LOGS=""dynamic""
[rank0]: For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""
[rank0]: If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing

[rank0]: User Stack (most recent call last):
[rank0]:   (snipped, see stack below for prefix)
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)

[rank0]: For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1

[rank0]: The above exception was the direct cause of the following exception:

[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3385, in get_fake_value
[rank0]:     ret_val = wrap_fake_exception(
[rank0]:               ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 2873, in wrap_fake_exception
[rank0]:     return fn()
[rank0]:            ^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3386, in <lambda>
[rank0]:     lambda: run_node(tx.output, node, args, kwargs, nnmodule)
[rank0]:             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3596, in run_node
[rank0]:     raise RuntimeError(make_error_message(e)).with_traceback(
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 156, in dispatch
[rank0]:     self.sharding_propagator.propagate(op_info)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 338, in propagate
[rank0]:     output_sharding = self.propagate_op_sharding_non_cached(op_info.schema)
[rank0]:                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 360, in propagate_op_sharding_non_cached
[rank0]:     op_strategy = self.op_strategy_funcs[op_schema.op](strategy_schema)
[rank0]:                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 226, in mm_strategy
[rank0]:     return _mm_like_strategy(""mk,kn->mn"", mesh, op_schema)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 83, in _mm_like_strategy
[rank0]:     if is_tensor_shardable(self_strategy.shape, self_spec) and is_tensor_shardable(
[rank0]:        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/utils.py"", line 175, in is_tensor_shardable
[rank0]:     if shards_map[i] > 1 and dim_size < shards_map[i]:
[rank0]:                              ^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/__init__.py"", line 761, in __bool__
[rank0]:     return self.node.bool_()
[rank0]:            ^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 616, in bool_
[rank0]:     return self.guard_bool("""", 0)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 538, in guard_bool
[rank0]:     r = self.evaluate()
[rank0]:         ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 512, in evaluate
[rank0]:     return self.shape_env.evaluate_sym_node(self, size_oblivious)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7269, in evaluate_sym_node
[rank0]:     return self.evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7369, in evaluate_expr
[rank0]:     return self._inner_evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/recording.py"", line 272, in wrapper
[rank0]:     return retlog(fn(*args, **kwargs))
[rank0]:                   ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7392, in _inner_evaluate_expr
[rank0]:     return self._evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7609, in _evaluate_expr
[rank0]:     raise self._make_data_dependent_error(
[rank0]: RuntimeError: Dynamo failed to run FX node with fake tensors: call_function <built-in method mm of type object at 0x7f5c06842cc0>(*(DTensor(local_tensor=FakeTensor(..., size=(u0, 5120), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Replicate(),)), DTensor(local_tensor=FakeTensor(..., size=(5120, 256), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Shard(dim=1),))), **{}): got GuardOnDataDependentSymNode('Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)\n\nconsider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)\nFor more information, run with TORCH_LOGS=""dynamic""\nFor extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""\nIf you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1\nFor more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing\n\nUser Stack (most recent call last):\n  (snipped, see stack below for prefix)\n  File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn\n    return torch.mm(x, y)\n\nFor C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1')

[rank0]: During handling of the above exception, another exception occurred:

[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 42, in <module>
[rank0]:     fn(dx, dy, mesh)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 886, in compile_wrapper
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 2010, in __call__
[rank0]:     result = self._torchdynamo_orig_backend(
[rank0]:              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 691, in __call__
[rank0]:     result = _compile(
[rank0]:              ^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1569, in _compile
[rank0]:     guarded_code, tracer_output = compile_inner(code, one_graph, hooks)
[rank0]:                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_utils_internal.py"", line 92, in wrapper_function
[rank0]:     return function(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1251, in compile_inner
[rank0]:     return _compile_inner(code, one_graph, hooks)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1285, in _compile_inner
[rank0]:     dynamo_output = compile_frame(
[rank0]:                     ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1166, in compile_frame
[rank0]:     bytecode, tracer_output = transform_code_object(code, transform)
[rank0]:                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/bytecode_transformation.py"", line 1537, in transform_code_object
[rank0]:     tracer_output = transformations(instructions, code_options)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1138, in transform
[rank0]:     tracer_output = trace_frame(
[rank0]:                     ^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 314, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 818, in trace_frame
[rank0]:     run_tracer()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 800, in run_tracer
[rank0]:     tracer.run()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1484, in run
[rank0]:     while self.step():
[rank0]:           ^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1345, in step
[rank0]:     self.dispatch_table[inst.opcode](self, inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 901, in wrapper
[rank0]:     return inner_fn(self, inst)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3400, in CALL
[rank0]:     self._call(inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3394, in _call
[rank0]:     self.call_function(fn, args, kwargs)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1263, in call_function
[rank0]:     self.push(fn.call_function(self, args, kwargs))  # type: ignore[arg-type]
[rank0]:               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/lazy.py"", line 212, in realize_and_forward
[rank0]:     return getattr(self.realize(), name)(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/torch.py"", line 1516, in call_function
[rank0]:     tensor_variable = wrap_fx_proxy(
[rank0]:                       ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2694, in wrap_fx_proxy
[rank0]:     return wrap_fx_proxy_cls(target_cls=TensorVariable, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2760, in wrap_fx_proxy_cls
[rank0]:     return _wrap_fx_proxy(
[rank0]:            ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2858, in _wrap_fx_proxy
[rank0]:     example_value = get_fake_value(proxy.node, tx, allow_non_graph_fake=True)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3472, in get_fake_value
[rank0]:     raise UserError(  # noqa: B904
[rank0]: torch._dynamo.exc.UserError: Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)

[rank0]: consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)
[rank0]: For more information, run with TORCH_LOGS=""dynamic""
[rank0]: For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""
[rank0]: If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing

[rank0]: User Stack (most recent call last):
[rank0]:   (snipped, see stack below for prefix)
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)

[rank0]: For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more information about this error, see: https://pytorch.org/docs/main/generated/exportdb/index.html#constrain-as-size-example

[rank0]: from user code:
[rank0]:    File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)
```

This is caused by `is_tensor_shardable` where the [shape is compared to the shard map](https://github.com/pytorch/pytorch/blob/main/torch/distributed/tensor/_ops/utils.py#L175). Because the shape in unbacked, this results in an error. Ideally we can have a default or avoid the comparison all together.

### Versions

```
PyTorch version: 2.10.0a0+gitf8c7505
Is debug build: False
CUDA used to build PyTorch: 12.6
ROCM used to build PyTorch: N/A

OS: CentOS Stream 9 (x86_64)
GCC version: (GCC) 11.5.0 20240719 (Red Hat 11.5.0-11)
Clang version: Could not collect
CMake version: version 4.0.0
Libc version: glibc-2.34

Python version: 3.12.11 | packaged by Anaconda, Inc. | (main, Jun  5 2025, 13:09:17) [GCC 11.2.0] (64-bit runtime)
Python platform: Linux-6.4.3-0_fbk15_hardened_2630_gf27365f948db-x86_64-with-glibc2.34
Is CUDA available: True
CUDA runtime version: 12.6.85
CUDA_MODULE_LOADING set to: 
GPU models and configuration: GPU 0: NVIDIA PG509-210
Nvidia driver version: 550.90.07
cuDNN version: Could not collect
Is XPU available: False
HIP runtime version: N/A
MIOpen runtime version: N/A
Is XNNPACK available: True

CPU:
Architecture:                       x86_64
CPU op-mode(s):                     32-bit, 64-bit
Address sizes:                      46 bits physical, 48 bits virtual
Byte Order:                         Little Endian
CPU(s):                             22
On-line CPU(s) list:                0-21
Vendor ID:                          GenuineIntel
Model name:                         Intel(R) Xeon(R) Platinum 8339HC CPU @ 1.80GHz
CPU family:                         6
Model:                              85
Thread(s) per core:                 1
Core(s) per socket:                 22
Socket(s):                          1
Stepping:                           11
BogoMIPS:                           3591.60
Flags:                              fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves avx512_bf16 arat vnmi umip pku ospke avx512_vnni md_clear flush_l1d arch_capabilities
Virtualization:                     VT-x
Hypervisor vendor:                  KVM
Virtualization type:                full
L1d cache:                          704 KiB (22 instances)
L1i cache:                          704 KiB (22 instances)
L2 cache:                           88 MiB (22 instances)
L3 cache:                           16 MiB (1 instance)
NUMA node(s):                       1
NUMA node0 CPU(s):                  0-21
Vulnerability Gather data sampling: Unknown: Dependent on hypervisor status
Vulnerability Itlb multihit:        Not affected
Vulnerability L1tf:                 Not affected
Vulnerability Mds:                  Not affected
Vulnerability Meltdown:             Not affected
Vulnerability Mmio stale data:      Vulnerable
Vulnerability Retbleed:             Vulnerable
Vulnerability Spec store bypass:    Vulnerable
Vulnerability Spectre v1:           Vulnerable: __user pointer sanitization and usercopy barriers only; no swapgs barriers
Vulnerability Spectre v2:           Vulnerable, IBPB: disabled, STIBP: disabled, PBRSB-eIBRS: Vulnerable
Vulnerability Srbds:                Not affected
Vulnerability Tsx async abort:      Mitigation; TSX disabled

Versions of relevant libraries:
[pip3] flake8==7.3.0
[pip3] flake8-bugbear==24.12.12
[pip3] flake8-comprehensions==3.16.0
[pip3] flake8-executable==2.1.3
[pip3] flake8-logging-format==2024.24.12
[pip3] flake8-pyi==25.5.0
[pip3] flake8_simplify==0.22.0
[pip3] intel-cmplr-lib-ur==2025.2.1
[pip3] intel-openmp==2025.2.1
[pip3] mkl-include==2025.2.0
[pip3] mkl-static==2025.2.0
[pip3] mypy==1.16.0
[pip3] mypy_extensions==1.1.0
[pip3] numpy==2.1.0
[pip3] onnx==1.18.0
[pip3] onnx-ir==0.1.9
[pip3] onnxscript==0.4.0
[pip3] optree==0.13.0
[pip3] tbb==2022.2.0
[pip3] tbb-devel==2022.2.0
[pip3] tcmlib==1.4.0
[pip3] torch==2.10.0a0+gitf8c7505
[pip3] triton==3.4.0
[pip3] umf==0.11.0
[conda] intel-cmplr-lib-ur        2025.2.1                 pypi_0    pypi
[conda] intel-openmp              2025.2.1                 pypi_0    pypi
[conda] magma-cuda126             2.6.1                         1    pytorch
[conda] mkl-include               2025.2.0                 pypi_0    pypi
[conda] mkl-static                2025.2.0                 pypi_0    pypi
[conda] numpy                     2.1.0                    pypi_0    pypi
[conda] optree                    0.13.0                   pypi_0    pypi
[conda] tbb                       2022.2.0                 pypi_0    pypi
[conda] tbb-devel                 2022.2.0                 pypi_0    pypi
[conda] tcmlib                    1.4.0                    pypi_0    pypi
[conda] torch                     2.10.0a0+gitf8c7505          pypi_0    pypi
[conda] torchfix                  0.4.0                    pypi_0    pypi
[conda] triton                    3.4.0                    pypi_0    pypi
[conda] umf                       0.11.0                   pypi_0    pypi
```

cc @chauhang @penguinwu @ezyang @bobrenjc93 @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela @wanchaol @tianyu-l @wz337 @XilunWu @d4l3k @pragupta @SherlockNoMad","DTensor Matmul Compile with Unbacked Symint Failure ### 🐛 Describe the bug

If a compiled function with DTensors matmul encounters an unbacked symint in a shape there is an sharding prop error during tracing

**Repro:**
```
import torch
import torch.distributed as dist
from torch.testing._internal.distributed.fake_pg import FakeStore

from torch.distributed.tensor import distribute_tensor, Shard, Replicate, DeviceMesh

device_type = ""cpu""
world_size = 4

fake_store = FakeStore()
dist.init_process_group(
    ""fake"", store=fake_store, rank=0, world_size=world_size
)

mesh = DeviceMesh(device_type, torch.arange(world_size))

@torch.compile(fullgraph=True)
def fn(x, y, mesh):
    x_local = x.full_tensor()
    # 1. Create a mask where the number of True values is unknown at trace time.
    mask = x_local.sum(dim=1) > 0  # Shape: (N,)

    # 2. `torch.nonzero` produces a shape with an unbacked SymInt.
    # The output shape will be (u0, 1), where u0 is the number of non-zero elements.
    indices = torch.nonzero(mask).squeeze(1) # Shape: (u0,)

    # 3. Select rows from the original tensor based on the dynamic indices.
    # This creates the tensor with the desired shape.
    selected_rows = torch.index_select(x_local, 0, indices) # Shape: (u0, 5120)
    x = torch.distributed.tensor.DTensor.from_local(selected_rows, mesh, (Replicate(),))
    return torch.mm(x, y)

x = torch.randn(16,5120).bfloat16()
y = torch.randn(5120, 1024).bfloat16()

dx = distribute_tensor(x, mesh, (Replicate(),))
dy = distribute_tensor(y, mesh, (Shard(1),))
torch._dynamo.mark_dynamic(dx, 0)

fn(dx, dy, mesh)
```

**Initial Error**:
```
[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 42, in <module>
[rank0]:     fn(dx, dy, mesh)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 886, in compile_wrapper
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 2010, in __call__
[rank0]:     result = self._torchdynamo_orig_backend(
[rank0]:              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 691, in __call__
[rank0]:     result = _compile(
[rank0]:              ^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1569, in _compile
[rank0]:     guarded_code, tracer_output = compile_inner(code, one_graph, hooks)
[rank0]:                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_utils_internal.py"", line 92, in wrapper_function
[rank0]:     return function(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1251, in compile_inner
[rank0]:     return _compile_inner(code, one_graph, hooks)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1285, in _compile_inner
[rank0]:     dynamo_output = compile_frame(
[rank0]:                     ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1166, in compile_frame
[rank0]:     bytecode, tracer_output = transform_code_object(code, transform)
[rank0]:                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/bytecode_transformation.py"", line 1537, in transform_code_object
[rank0]:     tracer_output = transformations(instructions, code_options)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1138, in transform
[rank0]:     tracer_output = trace_frame(
[rank0]:                     ^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 314, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 818, in trace_frame
[rank0]:     run_tracer()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 800, in run_tracer
[rank0]:     tracer.run()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1484, in run
[rank0]:     while self.step():
[rank0]:           ^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1345, in step
[rank0]:     self.dispatch_table[inst.opcode](self, inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 901, in wrapper
[rank0]:     return inner_fn(self, inst)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3400, in CALL
[rank0]:     self._call(inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3394, in _call
[rank0]:     self.call_function(fn, args, kwargs)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1263, in call_function
[rank0]:     self.push(fn.call_function(self, args, kwargs))  # type: ignore[arg-type]
[rank0]:               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/lazy.py"", line 212, in realize_and_forward
[rank0]:     return getattr(self.realize(), name)(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/torch.py"", line 1516, in call_function
[rank0]:     tensor_variable = wrap_fx_proxy(
[rank0]:                       ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2694, in wrap_fx_proxy
[rank0]:     return wrap_fx_proxy_cls(target_cls=TensorVariable, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2760, in wrap_fx_proxy_cls
[rank0]:     return _wrap_fx_proxy(
[rank0]:            ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2858, in _wrap_fx_proxy
[rank0]:     example_value = get_fake_value(proxy.node, tx, allow_non_graph_fake=True)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3487, in get_fake_value
[rank0]:     raise TorchRuntimeError(str(e)).with_traceback(e.__traceback__) from None
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3385, in get_fake_value
[rank0]:     ret_val = wrap_fake_exception(
[rank0]:               ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 2873, in wrap_fake_exception
[rank0]:     return fn()
[rank0]:            ^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3386, in <lambda>
[rank0]:     lambda: run_node(tx.output, node, args, kwargs, nnmodule)
[rank0]:             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3596, in run_node
[rank0]:     raise RuntimeError(make_error_message(e)).with_traceback(
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 169, in dispatch
[rank0]:     raise RuntimeError(
[rank0]: torch._dynamo.exc.TorchRuntimeError: Dynamo failed to run FX node with fake tensors: call_function <built-in method mm of type object at 0x7f529f842cc0>(*(DTensor(local_tensor=FakeTensor(..., size=(u0, 5120), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Replicate(),)), DTensor(local_tensor=FakeTensor(..., size=(5120, 256), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Shard(dim=1),))), **{}): got RuntimeError('Sharding propagation failed for Op(op=aten.mm.default, args_schema=Spec(R on (u0, 5120)), Spec(S(1) on (5120, 1024)) @ mesh: (4,))')

[rank0]: from user code:
[rank0]:    File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)
```

This actual error seems to get hidden, so if I comment out the exception catch, we get the following error:

**Lower Error**:
```
[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 156, in dispatch
[rank0]:     self.sharding_propagator.propagate(op_info)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 338, in propagate
[rank0]:     output_sharding = self.propagate_op_sharding_non_cached(op_info.schema)
[rank0]:                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 360, in propagate_op_sharding_non_cached
[rank0]:     op_strategy = self.op_strategy_funcs[op_schema.op](strategy_schema)
[rank0]:                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 226, in mm_strategy
[rank0]:     return _mm_like_strategy(""mk,kn->mn"", mesh, op_schema)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 83, in _mm_like_strategy
[rank0]:     if is_tensor_shardable(self_strategy.shape, self_spec) and is_tensor_shardable(
[rank0]:        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/utils.py"", line 175, in is_tensor_shardable
[rank0]:     if shards_map[i] > 1 and dim_size < shards_map[i]:
[rank0]:                              ^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/__init__.py"", line 761, in __bool__
[rank0]:     return self.node.bool_()
[rank0]:            ^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 616, in bool_
[rank0]:     return self.guard_bool("""", 0)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 538, in guard_bool
[rank0]:     r = self.evaluate()
[rank0]:         ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 512, in evaluate
[rank0]:     return self.shape_env.evaluate_sym_node(self, size_oblivious)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7269, in evaluate_sym_node
[rank0]:     return self.evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7369, in evaluate_expr
[rank0]:     return self._inner_evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/recording.py"", line 272, in wrapper
[rank0]:     return retlog(fn(*args, **kwargs))
[rank0]:                   ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7392, in _inner_evaluate_expr
[rank0]:     return self._evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7609, in _evaluate_expr
[rank0]:     raise self._make_data_dependent_error(
[rank0]: torch.fx.experimental.symbolic_shapes.GuardOnDataDependentSymNode: Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)

[rank0]: consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)
[rank0]: For more information, run with TORCH_LOGS=""dynamic""
[rank0]: For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""
[rank0]: If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing

[rank0]: User Stack (most recent call last):
[rank0]:   (snipped, see stack below for prefix)
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)

[rank0]: For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1

[rank0]: The above exception was the direct cause of the following exception:

[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3385, in get_fake_value
[rank0]:     ret_val = wrap_fake_exception(
[rank0]:               ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 2873, in wrap_fake_exception
[rank0]:     return fn()
[rank0]:            ^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3386, in <lambda>
[rank0]:     lambda: run_node(tx.output, node, args, kwargs, nnmodule)
[rank0]:             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3596, in run_node
[rank0]:     raise RuntimeError(make_error_message(e)).with_traceback(
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3555, in run_node
[rank0]:     return node.target(*args, **kwargs)  # type: ignore[operator]
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_compile.py"", line 53, in inner
[rank0]:     return disable_fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 1098, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_api.py"", line 335, in __torch_dispatch__
[rank0]:     return DTensor._op_dispatcher.dispatch(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_dispatch.py"", line 156, in dispatch
[rank0]:     self.sharding_propagator.propagate(op_info)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 338, in propagate
[rank0]:     output_sharding = self.propagate_op_sharding_non_cached(op_info.schema)
[rank0]:                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_sharding_prop.py"", line 360, in propagate_op_sharding_non_cached
[rank0]:     op_strategy = self.op_strategy_funcs[op_schema.op](strategy_schema)
[rank0]:                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 226, in mm_strategy
[rank0]:     return _mm_like_strategy(""mk,kn->mn"", mesh, op_schema)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/_matrix_ops.py"", line 83, in _mm_like_strategy
[rank0]:     if is_tensor_shardable(self_strategy.shape, self_spec) and is_tensor_shardable(
[rank0]:        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/distributed/tensor/_ops/utils.py"", line 175, in is_tensor_shardable
[rank0]:     if shards_map[i] > 1 and dim_size < shards_map[i]:
[rank0]:                              ^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/__init__.py"", line 761, in __bool__
[rank0]:     return self.node.bool_()
[rank0]:            ^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 616, in bool_
[rank0]:     return self.guard_bool("""", 0)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 538, in guard_bool
[rank0]:     r = self.evaluate()
[rank0]:         ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/sym_node.py"", line 512, in evaluate
[rank0]:     return self.shape_env.evaluate_sym_node(self, size_oblivious)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7269, in evaluate_sym_node
[rank0]:     return self.evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7369, in evaluate_expr
[rank0]:     return self._inner_evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/recording.py"", line 272, in wrapper
[rank0]:     return retlog(fn(*args, **kwargs))
[rank0]:                   ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7392, in _inner_evaluate_expr
[rank0]:     return self._evaluate_expr(
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/fx/experimental/symbolic_shapes.py"", line 7609, in _evaluate_expr
[rank0]:     raise self._make_data_dependent_error(
[rank0]: RuntimeError: Dynamo failed to run FX node with fake tensors: call_function <built-in method mm of type object at 0x7f5c06842cc0>(*(DTensor(local_tensor=FakeTensor(..., size=(u0, 5120), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Replicate(),)), DTensor(local_tensor=FakeTensor(..., size=(5120, 256), dtype=torch.bfloat16), device_mesh=DeviceMesh((4,), device: 'cpu', stride: (1,)), placements=(Shard(dim=1),))), **{}): got GuardOnDataDependentSymNode('Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)\n\nconsider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)\nFor more information, run with TORCH_LOGS=""dynamic""\nFor extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""\nIf you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1\nFor more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing\n\nUser Stack (most recent call last):\n  (snipped, see stack below for prefix)\n  File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn\n    return torch.mm(x, y)\n\nFor C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1')

[rank0]: During handling of the above exception, another exception occurred:

[rank0]: Traceback (most recent call last):
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 42, in <module>
[rank0]:     fn(dx, dy, mesh)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/eval_frame.py"", line 886, in compile_wrapper
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 2010, in __call__
[rank0]:     result = self._torchdynamo_orig_backend(
[rank0]:              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 691, in __call__
[rank0]:     result = _compile(
[rank0]:              ^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1569, in _compile
[rank0]:     guarded_code, tracer_output = compile_inner(code, one_graph, hooks)
[rank0]:                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_utils_internal.py"", line 92, in wrapper_function
[rank0]:     return function(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1251, in compile_inner
[rank0]:     return _compile_inner(code, one_graph, hooks)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1285, in _compile_inner
[rank0]:     dynamo_output = compile_frame(
[rank0]:                     ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1166, in compile_frame
[rank0]:     bytecode, tracer_output = transform_code_object(code, transform)
[rank0]:                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/bytecode_transformation.py"", line 1537, in transform_code_object
[rank0]:     tracer_output = transformations(instructions, code_options)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 1138, in transform
[rank0]:     tracer_output = trace_frame(
[rank0]:                     ^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 314, in _fn
[rank0]:     return fn(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 818, in trace_frame
[rank0]:     run_tracer()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/convert_frame.py"", line 800, in run_tracer
[rank0]:     tracer.run()
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1484, in run
[rank0]:     while self.step():
[rank0]:           ^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1345, in step
[rank0]:     self.dispatch_table[inst.opcode](self, inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 901, in wrapper
[rank0]:     return inner_fn(self, inst)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3400, in CALL
[rank0]:     self._call(inst)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 3394, in _call
[rank0]:     self.call_function(fn, args, kwargs)
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/symbolic_convert.py"", line 1263, in call_function
[rank0]:     self.push(fn.call_function(self, args, kwargs))  # type: ignore[arg-type]
[rank0]:               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/lazy.py"", line 212, in realize_and_forward
[rank0]:     return getattr(self.realize(), name)(*args, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/torch.py"", line 1516, in call_function
[rank0]:     tensor_variable = wrap_fx_proxy(
[rank0]:                       ^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2694, in wrap_fx_proxy
[rank0]:     return wrap_fx_proxy_cls(target_cls=TensorVariable, **kwargs)
[rank0]:            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2760, in wrap_fx_proxy_cls
[rank0]:     return _wrap_fx_proxy(
[rank0]:            ^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/variables/builder.py"", line 2858, in _wrap_fx_proxy
[rank0]:     example_value = get_fake_value(proxy.node, tx, allow_non_graph_fake=True)
[rank0]:                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
[rank0]:   File ""/data/users/arshzahed/pytorch/torch/_dynamo/utils.py"", line 3472, in get_fake_value
[rank0]:     raise UserError(  # noqa: B904
[rank0]: torch._dynamo.exc.UserError: Could not guard on data-dependent expression u0 < 4 (unhinted: u0 < 4).  (Size-like symbols: u0)

[rank0]: consider using data-dependent friendly APIs such as guard_or_false, guard_or_true and statically_known_trueCaused by: return torch.mm(x, y)  # test_jason.py:33 in fn (distributed/tensor/_ops/utils.py:175 in is_tensor_shardable)
[rank0]: For more information, run with TORCH_LOGS=""dynamic""
[rank0]: For extended logs when we create symbols, also add TORCHDYNAMO_EXTENDED_DEBUG_CREATE_SYMBOL=""u0""
[rank0]: If you suspect the guard was triggered from C++, add TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more debugging help, see https://docs.google.com/document/d/1HSuTTVvYH1pTew89Rtpeu84Ht3nQEFTYhAX3Ypa_xJs/edit?usp=sharing

[rank0]: User Stack (most recent call last):
[rank0]:   (snipped, see stack below for prefix)
[rank0]:   File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)

[rank0]: For C++ stack trace, run with TORCHDYNAMO_EXTENDED_DEBUG_CPP=1
[rank0]: For more information about this error, see: https://pytorch.org/docs/main/generated/exportdb/index.html#constrain-as-size-example

[rank0]: from user code:
[rank0]:    File ""/data/users/arshzahed/pytorch/test_jason.py"", line 33, in fn
[rank0]:     return torch.mm(x, y)
```

This is caused by `is_tensor_shardable` where the [shape is compared to the shard map](https://github.com/pytorch/pytorch/blob/main/torch/distributed/tensor/_ops/utils.py#L175). Because the shape in unbacked, this results in an error. Ideally we can have a default or avoid the comparison all together.

### Versions

```
PyTorch version: 2.10.0a0+gitf8c7505
Is debug build: False
CUDA used to build PyTorch: 12.6
ROCM used to build PyTorch: N/A

OS: CentOS Stream 9 (x86_64)
GCC version: (GCC) 11.5.0 20240719 (Red Hat 11.5.0-11)
Clang version: Could not collect
CMake version: version 4.0.0
Libc version: glibc-2.34

Python version: 3.12.11 | packaged by Anaconda, Inc. | (main, Jun  5 2025, 13:09:17) [GCC 11.2.0] (64-bit runtime)
Python platform: Linux-6.4.3-0_fbk15_hardened_2630_gf27365f948db-x86_64-with-glibc2.34
Is CUDA available: True
CUDA runtime version: 12.6.85
CUDA_MODULE_LOADING set to: 
GPU models and configuration: GPU 0: NVIDIA PG509-210
Nvidia driver version: 550.90.07
cuDNN version: Could not collect
Is XPU available: False
HIP runtime version: N/A
MIOpen runtime version: N/A
Is XNNPACK available: True

CPU:
Architecture:                       x86_64
CPU op-mode(s):                     32-bit, 64-bit
Address sizes:                      46 bits physical, 48 bits virtual
Byte Order:                         Little Endian
CPU(s):                             22
On-line CPU(s) list:                0-21
Vendor ID:                          GenuineIntel
Model name:                         Intel(R) Xeon(R) Platinum 8339HC CPU @ 1.80GHz
CPU family:                         6
Model:                              85
Thread(s) per core:                 1
Core(s) per socket:                 22
Socket(s):                          1
Stepping:                           11
BogoMIPS:                           3591.60
Flags:                              fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon rep_good nopl xtopology cpuid tsc_known_freq pni pclmulqdq vmx ssse3 fma cx16 pdcm pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch cpuid_fault invpcid_single ssbd ibrs ibpb stibp ibrs_enhanced tpr_shadow flexpriority ept vpid ept_ad fsgsbase tsc_adjust bmi1 avx2 smep bmi2 erms invpcid mpx avx512f avx512dq rdseed adx smap clflushopt clwb avx512cd avx512bw avx512vl xsaveopt xsavec xgetbv1 xsaves avx512_bf16 arat vnmi umip pku ospke avx512_vnni md_clear flush_l1d arch_capabilities
Virtualization:                     VT-x
Hypervisor vendor:                  KVM
Virtualization type:                full
L1d cache:                          704 KiB (22 instances)
L1i cache:                          704 KiB (22 instances)
L2 cache:                           88 MiB (22 instances)
L3 cache:                           16 MiB (1 instance)
NUMA node(s):                       1
NUMA node0 CPU(s):                  0-21
Vulnerability Gather data sampling: Unknown: Dependent on hypervisor status
Vulnerability Itlb multihit:        Not affected
Vulnerability L1tf:                 Not affected
Vulnerability Mds:                  Not affected
Vulnerability Meltdown:             Not affected
Vulnerability Mmio stale data:      Vulnerable
Vulnerability Retbleed:             Vulnerable
Vulnerability Spec store bypass:    Vulnerable
Vulnerability Spectre v1:           Vulnerable: __user pointer sanitization and usercopy barriers only; no swapgs barriers
Vulnerability Spectre v2:           Vulnerable, IBPB: disabled, STIBP: disabled, PBRSB-eIBRS: Vulnerable
Vulnerability Srbds:                Not affected
Vulnerability Tsx async abort:      Mitigation; TSX disabled

Versions of relevant libraries:
[pip3] flake8==7.3.0
[pip3] flake8-bugbear==24.12.12
[pip3] flake8-comprehensions==3.16.0
[pip3] flake8-executable==2.1.3
[pip3] flake8-logging-format==2024.24.12
[pip3] flake8-pyi==25.5.0
[pip3] flake8_simplify==0.22.0
[pip3] intel-cmplr-lib-ur==2025.2.1
[pip3] intel-openmp==2025.2.1
[pip3] mkl-include==2025.2.0
[pip3] mkl-static==2025.2.0
[pip3] mypy==1.16.0
[pip3] mypy_extensions==1.1.0
[pip3] numpy==2.1.0
[pip3] onnx==1.18.0
[pip3] onnx-ir==0.1.9
[pip3] onnxscript==0.4.0
[pip3] optree==0.13.0
[pip3] tbb==2022.2.0
[pip3] tbb-devel==2022.2.0
[pip3] tcmlib==1.4.0
[pip3] torch==2.10.0a0+gitf8c7505
[pip3] triton==3.4.0
[pip3] umf==0.11.0
[conda] intel-cmplr-lib-ur        2025.2.1                 pypi_0    pypi
[conda] intel-openmp              2025.2.1                 pypi_0    pypi
[conda] magma-cuda126             2.6.1                         1    pytorch
[conda] mkl-include               2025.2.0                 pypi_0    pypi
[conda] mkl-static                2025.2.0                 pypi_0    pypi
[conda] numpy                     2.1.0                    pypi_0    pypi
[conda] optree                    0.13.0                   pypi_0    pypi
[conda] tbb                       2022.2.0                 pypi_0    pypi
[conda] tbb-devel                 2022.2.0                 pypi_0    pypi
[conda] tcmlib                    1.4.0                    pypi_0    pypi
[conda] torch                     2.10.0a0+gitf8c7505          pypi_0    pypi
[conda] torchfix                  0.4.0                    pypi_0    pypi
[conda] triton                    3.4.0                    pypi_0    pypi
[conda] umf                       0.11.0                   pypi_0    pypi
```

cc @chauhang @penguinwu @ezyang @bobrenjc93 @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela @wanchaol @tianyu-l @wz337 @XilunWu @d4l3k @pragupta @SherlockNoMad",azahed98,2025-10-09T05:06:40+00:00,"oncall: pt2, module: dynamic shapes, module: dynamo, module: dtensor",azahed98
pytorch_pytorch,DISABLED test_comprehensive__unsafe_masked_index_put_accumulate_xpu_float16 (__main__.TestInductorOpInfoXPU),"Platforms: xpu

This test was disabled because it is failing on main branch ([recent examples](https://torch-ci.com/failure?failureCaptures=%5B%22inductor%2Ftest_torchinductor_opinfo.py%3A%3ATestInductorOpInfoXPU%3A%3Atest_comprehensive__unsafe_masked_index_put_accumulate_xpu_float16%22%5D)).

cc @gujinghui @EikanWang @fengyuan14 @guangyey","DISABLED test_comprehensive__unsafe_masked_index_put_accumulate_xpu_float16 (__main__.TestInductorOpInfoXPU) Platforms: xpu

This test was disabled because it is failing on main branch ([recent examples](https://torch-ci.com/failure?failureCaptures=%5B%22inductor%2Ftest_torchinductor_opinfo.py%3A%3ATestInductorOpInfoXPU%3A%3Atest_comprehensive__unsafe_masked_index_put_accumulate_xpu_float16%22%5D)).

cc @gujinghui @EikanWang @fengyuan14 @guangyey",etaf,2025-10-09T02:41:37+00:00,"triaged, skipped, module: xpu",etaf
pytorch_pytorch,[dynamo] Use pytree automatically when optree is used,"### 🐛 Describe the bug

TorchDynamo traces through python bytecode but optree is implemented in C, and therefore Dynamo graph breaks here.

A workaround is to use pytree when compiler is tracing. This is an example PR for an OSS model - https://github.com/lucidrains/lumiere-pytorch/pull/7

However, there is a desire to you optree in the original eager code, and Dynamo to sneakily replace it will pytree while tracing. Since the data structures are quite different, we might have some unknowns, and therefore we need to write a prototype to figure out the issues.

### Error logs

_No response_

### Versions

NA

cc @chauhang @penguinwu @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela","[dynamo] Use pytree automatically when optree is used ### 🐛 Describe the bug

TorchDynamo traces through python bytecode but optree is implemented in C, and therefore Dynamo graph breaks here.

A workaround is to use pytree when compiler is tracing. This is an example PR for an OSS model - https://github.com/lucidrains/lumiere-pytorch/pull/7

However, there is a desire to you optree in the original eager code, and Dynamo to sneakily replace it will pytree while tracing. Since the data structures are quite different, we might have some unknowns, and therefore we need to write a prototype to figure out the issues.

### Error logs

_No response_

### Versions

NA

cc @chauhang @penguinwu @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela",Lucaskabela,2025-10-08T18:55:03+00:00,"triaged, oncall: pt2, module: dynamo",Lucaskabela
pytorch_pytorch,[dynamo] Keep stack trace where mutations happened,"### 🐛 Describe the bug

This is essential to figure out where we want to use strict-export but there is a side effect, and we want to inform the user about how to rewrite their code to remove the side-effect.

### Error logs

_No response_

### Versions

NA

cc @chauhang @penguinwu @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela @avikchaudhuri @gmagogsfm @zhxchen17 @tugsbayasgalan @angelayi @suo @ydwu4","[dynamo] Keep stack trace where mutations happened ### 🐛 Describe the bug

This is essential to figure out where we want to use strict-export but there is a side effect, and we want to inform the user about how to rewrite their code to remove the side-effect.

### Error logs

_No response_

### Versions

NA

cc @chauhang @penguinwu @voznesenskym @EikanWang @jgong5 @Guobing-Chen @XiaobingSuper @zhuhaozhe @blzheng @wenzhe-nrv @jiayisunx @chenyang78 @kadeng @amjames @Lucaskabela @avikchaudhuri @gmagogsfm @zhxchen17 @tugsbayasgalan @angelayi @suo @ydwu4",StrongerXi,2025-10-08T18:52:09+00:00,"triaged, oncall: pt2, module: dynamo, oncall: export",StrongerXi
tensorflow_tensorflow,LiteRT Support 1.4.0 ships libimage_processing_util_jni.so with 4 KB alignment — fails Play’s 16 KB page-size requirement,"### Issue type

Bug

### Have you reproduced the bug with TensorFlow Nightly?

Yes

### Source

binary

### TensorFlow version

LiteRT 1.4.0 (from com.google.ai.edge.litert:litert-support:1.4.0)

### Custom code

Yes

### OS platform and distribution

Windows 11 / Android Studio Koala | AGP 8.8.2 | Gradle 8.11.1

### Mobile device

Windows 11 / Android Studio Koala | AGP 8.8.2 | Gradle 8.11.1

### Python version

N/A

### Bazel version

_No response_

### GCC/compiler version

_No response_

### CUDA/cuDNN version

_No response_

### GPU model and memory

_No response_

### Current behavior?

LiteRT Support 1.4.0 includes a native binary built for 4 KB memory pages, which fails Google Play’s new 16 KB page-size validation.

Google Play Console error:
> App must support 16 KB memory page sizes. Libraries that do not support 16 KB:
> base/lib/arm64-v8a/libimage_processing_util_jni.so

Checked with llvm-readelf (NDK 29.0.13113456):
== libimage_processing_util_jni.so ==
LOAD ... Align 0x1000   (4 KB)
== libtensorflowlite_jni.so ==
LOAD ... Align 0x4000   (16 KB)

Affected dependency:
implementation(""com.google.ai.edge.litert:litert-support:1.4.0"")
All other LiteRT libraries (litert-api, litert-gpu) use proper 16 KB alignment.

Expected behavior:
All LiteRT .so libraries should use 16 KB ELF alignment (-z max-page-size=16384) so Play Console validation passes on Android 15+.


additional info:
NDK: 29.0.13113456
SDK: C:\Users\<user>\AppData\Local\Android\Sdk
Affected platform: Google Play AAB upload check (2025 enforcement)


### Standalone code to reproduce the issue

```shell
settings.gradle

pluginManagement {
  repositories {
    gradlePluginPortal()
    google()
    mavenCentral()
  }
}
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories {
    google()
    mavenCentral()
  }
}
rootProject.name = ""tflite-16kb-repro""
include("":app"")


Project build.gradle (top level)

plugins {
  id(""com.android.application"") version ""8.8.2"" apply false
  id(""org.jetbrains.kotlin.android"") version ""1.9.24"" apply false
}


app/build.gradle

plugins {
  id(""com.android.application"")
  id(""org.jetbrains.kotlin.android"")
}

android {
  namespace = ""com.example.repro""
  compileSdk = 35

  defaultConfig {
    applicationId = ""com.example.repro""
    minSdk = 24
    targetSdk = 35
    versionCode = 1
    versionName = ""1.0""
  }

  // NDK r29 installed via SDK Manager (side-by-side)
  ndkVersion = ""29.0.13113456""

  // arm64 only (to keep the output tiny)
  defaultConfig {
    ndk {
      abiFilters += listOf(""arm64-v8a"")
    }
  }

  buildTypes {
    release { isMinifyEnabled = false }
  }
}

dependencies {
  // Repro set — the problematic .so comes from litert-support:
  implementation(""com.google.ai.edge.litert:litert-api:1.4.0"")
  implementation(""com.google.ai.edge.litert:litert-gpu:1.4.0"")
  implementation(""com.google.ai.edge.litert:litert-support:1.4.0"")
}


Tiny Kotlin app (any Activity works)
app/src/main/java/com/example/repro/MainActivity.kt

package com.example.repro
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
  }
}


app/src/main/AndroidManifest.xml

<manifest package=""com.example.repro"" xmlns:android=""http://schemas.android.com/apk/res/android"">
  <application android:label=""repro"" android:allowBackup=""false"">
    <activity android:name="".MainActivity"">
      <intent-filter>
        <action android:name=""android.intent.action.MAIN""/>
        <category android:name=""android.intent.category.LAUNCHER""/>
      </intent-filter>
    </activity>
  </application>
</manifest>
```

### Relevant log output

```shell
# Paths
$AAB  = ""app\build\outputs\bundle\release\app-release.aab""
$OUT  = ""aab-extract""
$SDK  = ""$env:LOCALAPPDATA\Android\Sdk""

# Unpack .aab (PS needs .zip)
Copy-Item $AAB ""app-release.zip"" -Force
Remove-Item $OUT -Recurse -Force -ErrorAction SilentlyContinue
Expand-Archive -Path ""app-release.zip"" -DestinationPath $OUT -Force

# Find llvm-readelf from NDK r29 (or r28)
$readelf = Get-ChildItem ""$SDK\ndk\29*\toolchains\llvm\prebuilt\windows-*\bin\llvm-readelf.exe"" -Recurse |
           Select-Object -First 1 -ExpandProperty FullName

# Show program headers (look at Align column)
Get-ChildItem ""$OUT\base\lib\arm64-v8a\*.so"" | ForEach-Object {
  ""`n== $($_.Name) ==""; & $readelf -l $_.FullName | Select-String ""LOAD|Align|p_align""
}
Expected output (problem):

lua
Copy code
== libimage_processing_util_jni.so ==
  LOAD ... Align 0x1000   <-- 4 KB (❌)

== libtensorflowlite_jni.so ==
  LOAD ... Align 0x4000   <-- 16 KB (✅)

== libtensorflowlite_gpu_jni.so ==
  LOAD ... Align 0x4000   <-- 16 KB (✅)
```","LiteRT Support 1.4.0 ships libimage_processing_util_jni.so with 4 KB alignment — fails Play’s 16 KB page-size requirement ### Issue type

Bug

### Have you reproduced the bug with TensorFlow Nightly?

Yes

### Source

binary

### TensorFlow version

LiteRT 1.4.0 (from com.google.ai.edge.litert:litert-support:1.4.0)

### Custom code

Yes

### OS platform and distribution

Windows 11 / Android Studio Koala | AGP 8.8.2 | Gradle 8.11.1

### Mobile device

Windows 11 / Android Studio Koala | AGP 8.8.2 | Gradle 8.11.1

### Python version

N/A

### Bazel version

_No response_

### GCC/compiler version

_No response_

### CUDA/cuDNN version

_No response_

### GPU model and memory

_No response_

### Current behavior?

LiteRT Support 1.4.0 includes a native binary built for 4 KB memory pages, which fails Google Play’s new 16 KB page-size validation.

Google Play Console error:
> App must support 16 KB memory page sizes. Libraries that do not support 16 KB:
> base/lib/arm64-v8a/libimage_processing_util_jni.so

Checked with llvm-readelf (NDK 29.0.13113456):
== libimage_processing_util_jni.so ==
LOAD ... Align 0x1000   (4 KB)
== libtensorflowlite_jni.so ==
LOAD ... Align 0x4000   (16 KB)

Affected dependency:
implementation(""com.google.ai.edge.litert:litert-support:1.4.0"")
All other LiteRT libraries (litert-api, litert-gpu) use proper 16 KB alignment.

Expected behavior:
All LiteRT .so libraries should use 16 KB ELF alignment (-z max-page-size=16384) so Play Console validation passes on Android 15+.


additional info:
NDK: 29.0.13113456
SDK: C:\Users\<user>\AppData\Local\Android\Sdk
Affected platform: Google Play AAB upload check (2025 enforcement)


### Standalone code to reproduce the issue

```shell
settings.gradle

pluginManagement {
  repositories {
    gradlePluginPortal()
    google()
    mavenCentral()
  }
}
dependencyResolutionManagement {
  repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
  repositories {
    google()
    mavenCentral()
  }
}
rootProject.name = ""tflite-16kb-repro""
include("":app"")


Project build.gradle (top level)

plugins {
  id(""com.android.application"") version ""8.8.2"" apply false
  id(""org.jetbrains.kotlin.android"") version ""1.9.24"" apply false
}


app/build.gradle

plugins {
  id(""com.android.application"")
  id(""org.jetbrains.kotlin.android"")
}

android {
  namespace = ""com.example.repro""
  compileSdk = 35

  defaultConfig {
    applicationId = ""com.example.repro""
    minSdk = 24
    targetSdk = 35
    versionCode = 1
    versionName = ""1.0""
  }

  // NDK r29 installed via SDK Manager (side-by-side)
  ndkVersion = ""29.0.13113456""

  // arm64 only (to keep the output tiny)
  defaultConfig {
    ndk {
      abiFilters += listOf(""arm64-v8a"")
    }
  }

  buildTypes {
    release { isMinifyEnabled = false }
  }
}

dependencies {
  // Repro set — the problematic .so comes from litert-support:
  implementation(""com.google.ai.edge.litert:litert-api:1.4.0"")
  implementation(""com.google.ai.edge.litert:litert-gpu:1.4.0"")
  implementation(""com.google.ai.edge.litert:litert-support:1.4.0"")
}


Tiny Kotlin app (any Activity works)
app/src/main/java/com/example/repro/MainActivity.kt

package com.example.repro
import android.os.Bundle
import androidx.appcompat.app.AppCompatActivity

class MainActivity : AppCompatActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
  }
}


app/src/main/AndroidManifest.xml

<manifest package=""com.example.repro"" xmlns:android=""http://schemas.android.com/apk/res/android"">
  <application android:label=""repro"" android:allowBackup=""false"">
    <activity android:name="".MainActivity"">
      <intent-filter>
        <action android:name=""android.intent.action.MAIN""/>
        <category android:name=""android.intent.category.LAUNCHER""/>
      </intent-filter>
    </activity>
  </application>
</manifest>
```

### Relevant log output

```shell
# Paths
$AAB  = ""app\build\outputs\bundle\release\app-release.aab""
$OUT  = ""aab-extract""
$SDK  = ""$env:LOCALAPPDATA\Android\Sdk""

# Unpack .aab (PS needs .zip)
Copy-Item $AAB ""app-release.zip"" -Force
Remove-Item $OUT -Recurse -Force -ErrorAction SilentlyContinue
Expand-Archive -Path ""app-release.zip"" -DestinationPath $OUT -Force

# Find llvm-readelf from NDK r29 (or r28)
$readelf = Get-ChildItem ""$SDK\ndk\29*\toolchains\llvm\prebuilt\windows-*\bin\llvm-readelf.exe"" -Recurse |
           Select-Object -First 1 -ExpandProperty FullName

# Show program headers (look at Align column)
Get-ChildItem ""$OUT\base\lib\arm64-v8a\*.so"" | ForEach-Object {
  ""`n== $($_.Name) ==""; & $readelf -l $_.FullName | Select-String ""LOAD|Align|p_align""
}
Expected output (problem):

lua
Copy code
== libimage_processing_util_jni.so ==
  LOAD ... Align 0x1000   <-- 4 KB (❌)

== libtensorflowlite_jni.so ==
  LOAD ... Align 0x4000   <-- 16 KB (✅)

== libtensorflowlite_gpu_jni.so ==
  LOAD ... Align 0x4000   <-- 16 KB (✅)
```",gaikwadrahul8,2025-10-09T22:05:48+00:00,"type:bug, type:support, comp:lite, subtype:windows",gaikwadrahul8
tensorflow_tensorflow,Error on load tensorflow,"### Issue type

Bug

### Have you reproduced the bug with TensorFlow Nightly?

Yes

### Source

source

### TensorFlow version

tf 2.20

### Custom code

Yes

### OS platform and distribution

windows 11

### Mobile device

_No response_

### Python version

3.13.7

### Bazel version

_No response_

### GCC/compiler version

_No response_

### CUDA/cuDNN version

_No response_

### GPU model and memory

_No response_

### Current behavior?

Failed to load the native TensorFlow runtime. Not load with this python and tensorflow version. I need your help.

### Standalone code to reproduce the issue

```shell
ImportError: Traceback (most recent call last):
  File ""C:\Users\PC\anaconda3\envs\spyder-env\Lib\site-packages\tensorflow\python\pywrap_tensorflow.py"", line 73, in <module>
    from tensorflow.python._pywrap_tensorflow_internal import *
ImportError: DLL load failed while importing _pywrap_tensorflow_internal: Falha numa rotina de inicialização de DLL (dynamic-link library).
```

### Relevant log output

```shell

```","Error on load tensorflow ### Issue type

Bug

### Have you reproduced the bug with TensorFlow Nightly?

Yes

### Source

source

### TensorFlow version

tf 2.20

### Custom code

Yes

### OS platform and distribution

windows 11

### Mobile device

_No response_

### Python version

3.13.7

### Bazel version

_No response_

### GCC/compiler version

_No response_

### CUDA/cuDNN version

_No response_

### GPU model and memory

_No response_

### Current behavior?

Failed to load the native TensorFlow runtime. Not load with this python and tensorflow version. I need your help.

### Standalone code to reproduce the issue

```shell
ImportError: Traceback (most recent call last):
  File ""C:\Users\PC\anaconda3\envs\spyder-env\Lib\site-packages\tensorflow\python\pywrap_tensorflow.py"", line 73, in <module>
    from tensorflow.python._pywrap_tensorflow_internal import *
ImportError: DLL load failed while importing _pywrap_tensorflow_internal: Falha numa rotina de inicialização de DLL (dynamic-link library).
```

### Relevant log output

```shell

```",Venkat6871,2025-10-09T14:29:10+00:00,"stat:awaiting response, type:bug, type:build/install, subtype:windows, TF 2.19",Venkat6871
tensorflow_tensorflow,SIGSEGV on armv7a devices,"We're observing the following crashes on armv7a devices in the wild. We're using TFL 2.16.2 compiled from source, with different `ruy` dependency version to resolve the issue mentioned [here](https://github.com/tensorflow/tensorflow/issues/75815).

I need support with identifying the root cause, and a possible solution for it.

```
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
pid: 0, tid: 30757 >>> com.example.app <<<

backtrace:
  #00  pc 0x000000000005e0ac  /apex/com.android.runtime/lib/bionic/libc.so (__memcpy_a15+188)
  #01  pc 0x0000000000137e59  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (void tflite::reference_ops::StridedSlice<float>(tflite::StridedSliceParams const&, tflite::RuntimeShape const&, tflite::RuntimeShape const&, tflite::SequentialTensorWriter<float>*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #02  pc 0x0000000000137697  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (TfLiteStatus tflite::ops::builtin::strided_slice::EvalImpl<(tflite::ops::builtin::strided_slice::KernelType)1>(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #03  pc 0x00000000001378d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (TfLiteStatus tflite::ops::builtin::strided_slice::Eval<(tflite::ops::builtin::strided_slice::KernelType)1>(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #04  pc 0x0000000000202d31  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::InvokeImpl()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #05  pc 0x00000000002029d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #06  pc 0x00000000000cea03  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::ops::builtin::if_kernel::Eval_dynamic(TfLiteContext*, TfLiteNode*, tflite::Subgraph*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #07  pc 0x00000000000cf11d  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::ops::builtin::if_kernel::Eval(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #08  pc 0x0000000000202d31  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::InvokeImpl()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #09  pc 0x00000000002029d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #10  pc 0x00000000001faae3  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::impl::Interpreter::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #11  pc 0x0000000000035eaf  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (Java_org_tensorflow_lite_NativeInterpreterWrapper_run+86) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #12  pc 0x0000000000cc0453  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (art_jni_trampoline+82)
  #13  pc 0x00000000001ec787  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (org.tensorflow.lite.NativeInterpreterWrapper.run+686)
  #14  pc 0x0000000000229895  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.TfliteModelWrapper.b+204)
  #15  pc 0x0000000000229683  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.TfliteModelWrapper.b+178)
  #16  pc 0x000000000071014b  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.b.a+658)
  #17  pc 0x0000000000710b6f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.b.a+438)
  #18  pc 0x000000000070fc3f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.a.a+1158)
  #19  pc 0x000000000070f75b  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.a$b.a+194)
  #20  pc 0x000000000022fa25  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.events.f$d.run+100)
  #21  pc 0x00000000001dee6f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.threading.executors.Executors$a.run+150)
  #22  pc 0x000000000046b28f  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.Executors$RunnableAdapter.call+62)
  #23  pc 0x000000000046a3b3  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.FutureTask.run+178)
  #24  pc 0x00000000004747a9  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.ThreadPoolExecutor.runWorker+776)
  #25  pc 0x000000000047894f  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.ThreadPoolExecutor$Worker.run+62)
  #26  pc 0x0000000000327627  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.lang.Thread.run+70)
  #27  pc 0x00000000000a5dc5  /apex/com.android.art/lib/libart.so (art_quick_invoke_stub_internal+68)
  #28  pc 0x00000000005bdd99  /apex/com.android.art/lib/libart.so (art_quick_invoke_stub+248)
  #29  pc 0x00000000001f9d0f  /apex/com.android.art/lib/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+122)
  #30  pc 0x0000000000531eb3  /apex/com.android.art/lib/libart.so (art::Thread::CreateCallback(void*)+1098)
  #31  pc 0x00000000000ae253  /apex/com.android.runtime/lib/bionic/libc.so (__pthread_start(void*)+40)
  #32  pc 0x0000000000064123  /apex/com.android.runtime/lib/bionic/libc.so (__start_thread+30)
```","SIGSEGV on armv7a devices We're observing the following crashes on armv7a devices in the wild. We're using TFL 2.16.2 compiled from source, with different `ruy` dependency version to resolve the issue mentioned [here](https://github.com/tensorflow/tensorflow/issues/75815).

I need support with identifying the root cause, and a possible solution for it.

```
*** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
pid: 0, tid: 30757 >>> com.example.app <<<

backtrace:
  #00  pc 0x000000000005e0ac  /apex/com.android.runtime/lib/bionic/libc.so (__memcpy_a15+188)
  #01  pc 0x0000000000137e59  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (void tflite::reference_ops::StridedSlice<float>(tflite::StridedSliceParams const&, tflite::RuntimeShape const&, tflite::RuntimeShape const&, tflite::SequentialTensorWriter<float>*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #02  pc 0x0000000000137697  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (TfLiteStatus tflite::ops::builtin::strided_slice::EvalImpl<(tflite::ops::builtin::strided_slice::KernelType)1>(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #03  pc 0x00000000001378d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (TfLiteStatus tflite::ops::builtin::strided_slice::Eval<(tflite::ops::builtin::strided_slice::KernelType)1>(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #04  pc 0x0000000000202d31  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::InvokeImpl()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #05  pc 0x00000000002029d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #06  pc 0x00000000000cea03  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::ops::builtin::if_kernel::Eval_dynamic(TfLiteContext*, TfLiteNode*, tflite::Subgraph*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #07  pc 0x00000000000cf11d  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::ops::builtin::if_kernel::Eval(TfLiteContext*, TfLiteNode*)+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #08  pc 0x0000000000202d31  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::InvokeImpl()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #09  pc 0x00000000002029d5  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::Subgraph::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #10  pc 0x00000000001faae3  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (tflite::impl::Interpreter::Invoke()+21856256) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #11  pc 0x0000000000035eaf  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/split_config.armeabi_v7a.apk!libtensorflowlite_jni.so (Java_org_tensorflow_lite_NativeInterpreterWrapper_run+86) (BuildId: d3f78d75e68278e94544097ec4371c6a)
  #12  pc 0x0000000000cc0453  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (art_jni_trampoline+82)
  #13  pc 0x00000000001ec787  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (org.tensorflow.lite.NativeInterpreterWrapper.run+686)
  #14  pc 0x0000000000229895  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.TfliteModelWrapper.b+204)
  #15  pc 0x0000000000229683  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.TfliteModelWrapper.b+178)
  #16  pc 0x000000000071014b  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.b.a+658)
  #17  pc 0x0000000000710b6f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.b.a+438)
  #18  pc 0x000000000070fc3f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.a.a+1158)
  #19  pc 0x000000000070f75b  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.a$b.a+194)
  #20  pc 0x000000000022fa25  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.events.f$d.run+100)
  #21  pc 0x00000000001dee6f  /data/app/~~YHISAMCFj-NHFY3R7Fetkw==/com.example.app-lu0vN5hzGmBS5Vnuu56PPg==/oat/arm/base.odex (com.example.app.threading.executors.Executors$a.run+150)
  #22  pc 0x000000000046b28f  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.Executors$RunnableAdapter.call+62)
  #23  pc 0x000000000046a3b3  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.FutureTask.run+178)
  #24  pc 0x00000000004747a9  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.ThreadPoolExecutor.runWorker+776)
  #25  pc 0x000000000047894f  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.util.concurrent.ThreadPoolExecutor$Worker.run+62)
  #26  pc 0x0000000000327627  /data/misc/apexdata/com.android.art/dalvik-cache/arm/boot.oat (java.lang.Thread.run+70)
  #27  pc 0x00000000000a5dc5  /apex/com.android.art/lib/libart.so (art_quick_invoke_stub_internal+68)
  #28  pc 0x00000000005bdd99  /apex/com.android.art/lib/libart.so (art_quick_invoke_stub+248)
  #29  pc 0x00000000001f9d0f  /apex/com.android.art/lib/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+122)
  #30  pc 0x0000000000531eb3  /apex/com.android.art/lib/libart.so (art::Thread::CreateCallback(void*)+1098)
  #31  pc 0x00000000000ae253  /apex/com.android.runtime/lib/bionic/libc.so (__pthread_start(void*)+40)
  #32  pc 0x0000000000064123  /apex/com.android.runtime/lib/bionic/libc.so (__start_thread+30)
```",gaikwadrahul8,2025-10-08T16:20:38+00:00,"comp:lite, TF 2.16",gaikwadrahul8
